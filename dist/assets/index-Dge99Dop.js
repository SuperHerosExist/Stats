(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Dm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function FS(){if(l0)return Vl;l0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:r,key:h,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var u0;function qS(){return u0||(u0=1,Dm.exports=FS()),Dm.exports}var g=qS(),Om={exports:{}},Ae={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function HS(){if(c0)return Ae;c0=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function N(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,V={};function k(O,J,le){this.props=O,this.context=J,this.refs=V,this.updater=le||U}k.prototype.isReactComponent={},k.prototype.setState=function(O,J){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,J,"setState")},k.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Q(){}Q.prototype=k.prototype;function W(O,J,le){this.props=O,this.context=J,this.refs=V,this.updater=le||U}var re=W.prototype=new Q;re.constructor=W,B(re,k.prototype),re.isPureReactComponent=!0;var oe=Array.isArray;function ue(){}var C={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(O,J,le){var he=le.ref;return{$$typeof:i,type:O,key:J,ref:he!==void 0?he:null,props:le}}function P(O,J){return R(O.type,J,O.props)}function M(O){return typeof O=="object"&&O!==null&&O.$$typeof===i}function F(O){var J={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(le){return J[le]})}var I=/\/+/g;function pe(O,J){return typeof O=="object"&&O!==null&&O.key!=null?F(""+O.key):J.toString(36)}function we(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(ue,ue):(O.status="pending",O.then(function(J){O.status==="pending"&&(O.status="fulfilled",O.value=J)},function(J){O.status==="pending"&&(O.status="rejected",O.reason=J)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Y(O,J,le,he,be){var Se=typeof O;(Se==="undefined"||Se==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Se){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case i:case e:Be=!0;break;case b:return Be=O._init,Y(Be(O._payload),J,le,he,be)}}if(Be)return be=be(O),Be=he===""?"."+pe(O,0):he,oe(be)?(le="",Be!=null&&(le=Be.replace(I,"$&/")+"/"),Y(be,J,le,"",function(Ar){return Ar})):be!=null&&(M(be)&&(be=P(be,le+(be.key==null||O&&O.key===be.key?"":(""+be.key).replace(I,"$&/")+"/")+Be)),J.push(be)),1;Be=0;var Mt=he===""?".":he+":";if(oe(O))for(var ot=0;ot<O.length;ot++)he=O[ot],Se=Mt+pe(he,ot),Be+=Y(he,J,le,Se,be);else if(ot=N(O),typeof ot=="function")for(O=ot.call(O),ot=0;!(he=O.next()).done;)he=he.value,Se=Mt+pe(he,ot++),Be+=Y(he,J,le,Se,be);else if(Se==="object"){if(typeof O.then=="function")return Y(we(O),J,le,he,be);throw J=String(O),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.")}return Be}function se(O,J,le){if(O==null)return O;var he=[],be=0;return Y(O,he,"","",function(Se){return J.call(le,Se,be++)}),he}function ce(O){if(O._status===-1){var J=O._result;J=J(),J.then(function(le){(O._status===0||O._status===-1)&&(O._status=1,O._result=le)},function(le){(O._status===0||O._status===-1)&&(O._status=2,O._result=le)}),O._status===-1&&(O._status=0,O._result=J)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var J=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(J))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Oe={map:se,forEach:function(O,J,le){se(O,function(){J.apply(this,arguments)},le)},count:function(O){var J=0;return se(O,function(){J++}),J},toArray:function(O){return se(O,function(J){return J})||[]},only:function(O){if(!M(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Ae.Activity=x,Ae.Children=Oe,Ae.Component=k,Ae.Fragment=n,Ae.Profiler=o,Ae.PureComponent=W,Ae.StrictMode=r,Ae.Suspense=p,Ae.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ae.__COMPILER_RUNTIME={__proto__:null,c:function(O){return C.H.useMemoCache(O)}},Ae.cache=function(O){return function(){return O.apply(null,arguments)}},Ae.cacheSignal=function(){return null},Ae.cloneElement=function(O,J,le){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=B({},O.props),be=O.key;if(J!=null)for(Se in J.key!==void 0&&(be=""+J.key),J)!A.call(J,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&J.ref===void 0||(he[Se]=J[Se]);var Se=arguments.length-2;if(Se===1)he.children=le;else if(1<Se){for(var Be=Array(Se),Mt=0;Mt<Se;Mt++)Be[Mt]=arguments[Mt+2];he.children=Be}return R(O.type,be,he)},Ae.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ae.createElement=function(O,J,le){var he,be={},Se=null;if(J!=null)for(he in J.key!==void 0&&(Se=""+J.key),J)A.call(J,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(be[he]=J[he]);var Be=arguments.length-2;if(Be===1)be.children=le;else if(1<Be){for(var Mt=Array(Be),ot=0;ot<Be;ot++)Mt[ot]=arguments[ot+2];be.children=Mt}if(O&&O.defaultProps)for(he in Be=O.defaultProps,Be)be[he]===void 0&&(be[he]=Be[he]);return R(O,Se,be)},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(O){return{$$typeof:m,render:O}},Ae.isValidElement=M,Ae.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ce}},Ae.memo=function(O,J){return{$$typeof:y,type:O,compare:J===void 0?null:J}},Ae.startTransition=function(O){var J=C.T,le={};C.T=le;try{var he=O(),be=C.S;be!==null&&be(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(ue,De)}catch(Se){De(Se)}finally{J!==null&&le.types!==null&&(J.types=le.types),C.T=J}},Ae.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ae.use=function(O){return C.H.use(O)},Ae.useActionState=function(O,J,le){return C.H.useActionState(O,J,le)},Ae.useCallback=function(O,J){return C.H.useCallback(O,J)},Ae.useContext=function(O){return C.H.useContext(O)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(O,J){return C.H.useDeferredValue(O,J)},Ae.useEffect=function(O,J){return C.H.useEffect(O,J)},Ae.useEffectEvent=function(O){return C.H.useEffectEvent(O)},Ae.useId=function(){return C.H.useId()},Ae.useImperativeHandle=function(O,J,le){return C.H.useImperativeHandle(O,J,le)},Ae.useInsertionEffect=function(O,J){return C.H.useInsertionEffect(O,J)},Ae.useLayoutEffect=function(O,J){return C.H.useLayoutEffect(O,J)},Ae.useMemo=function(O,J){return C.H.useMemo(O,J)},Ae.useOptimistic=function(O,J){return C.H.useOptimistic(O,J)},Ae.useReducer=function(O,J,le){return C.H.useReducer(O,J,le)},Ae.useRef=function(O){return C.H.useRef(O)},Ae.useState=function(O){return C.H.useState(O)},Ae.useSyncExternalStore=function(O,J,le){return C.H.useSyncExternalStore(O,J,le)},Ae.useTransition=function(){return C.H.useTransition()},Ae.version="19.2.0",Ae}var h0;function Mp(){return h0||(h0=1,Om.exports=HS()),Om.exports}var L=Mp(),Mm={exports:{}},Ll={},jm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function GS(){return d0||(d0=1,(function(i){function e(Y,se){var ce=Y.length;Y.push(se);e:for(;0<ce;){var De=ce-1>>>1,Oe=Y[De];if(0<o(Oe,se))Y[De]=se,Y[ce]=Oe,ce=De;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var se=Y[0],ce=Y.pop();if(ce!==se){Y[0]=ce;e:for(var De=0,Oe=Y.length,O=Oe>>>1;De<O;){var J=2*(De+1)-1,le=Y[J],he=J+1,be=Y[he];if(0>o(le,ce))he<Oe&&0>o(be,le)?(Y[De]=be,Y[he]=ce,De=he):(Y[De]=le,Y[J]=ce,De=J);else if(he<Oe&&0>o(be,ce))Y[De]=be,Y[he]=ce,De=he;else break e}}return se}function o(Y,se){var ce=Y.sortIndex-se.sortIndex;return ce!==0?ce:Y.id-se.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],y=[],b=1,x=null,S=3,N=!1,U=!1,B=!1,V=!1,k=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function re(Y){for(var se=n(y);se!==null;){if(se.callback===null)r(y);else if(se.startTime<=Y)r(y),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(y)}}function oe(Y){if(B=!1,re(Y),!U)if(n(p)!==null)U=!0,ue||(ue=!0,F());else{var se=n(y);se!==null&&we(oe,se.startTime-Y)}}var ue=!1,C=-1,A=5,R=-1;function P(){return V?!0:!(i.unstable_now()-R<A)}function M(){if(V=!1,ue){var Y=i.unstable_now();R=Y;var se=!0;try{e:{U=!1,B&&(B=!1,Q(C),C=-1),N=!0;var ce=S;try{t:{for(re(Y),x=n(p);x!==null&&!(x.expirationTime>Y&&P());){var De=x.callback;if(typeof De=="function"){x.callback=null,S=x.priorityLevel;var Oe=De(x.expirationTime<=Y);if(Y=i.unstable_now(),typeof Oe=="function"){x.callback=Oe,re(Y),se=!0;break t}x===n(p)&&r(p),re(Y)}else r(p);x=n(p)}if(x!==null)se=!0;else{var O=n(y);O!==null&&we(oe,O.startTime-Y),se=!1}}break e}finally{x=null,S=ce,N=!1}se=void 0}}finally{se?F():ue=!1}}}var F;if(typeof W=="function")F=function(){W(M)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,pe=I.port2;I.port1.onmessage=M,F=function(){pe.postMessage(null)}}else F=function(){k(M,0)};function we(Y,se){C=k(function(){Y(i.unstable_now())},se)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ce=S;S=se;try{return Y()}finally{S=ce}},i.unstable_requestPaint=function(){V=!0},i.unstable_runWithPriority=function(Y,se){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var ce=S;S=Y;try{return se()}finally{S=ce}},i.unstable_scheduleCallback=function(Y,se,ce){var De=i.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,Y){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=ce+Oe,Y={id:b++,callback:se,priorityLevel:Y,startTime:ce,expirationTime:Oe,sortIndex:-1},ce>De?(Y.sortIndex=ce,e(y,Y),n(p)===null&&Y===n(y)&&(B?(Q(C),C=-1):B=!0,we(oe,ce-De))):(Y.sortIndex=Oe,e(p,Y),U||N||(U=!0,ue||(ue=!0,F()))),Y},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(Y){var se=S;return function(){var ce=S;S=se;try{return Y.apply(this,arguments)}finally{S=ce}}}})(Pm)),Pm}var f0;function KS(){return f0||(f0=1,jm.exports=GS()),jm.exports}var km={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m0;function QS(){if(m0)return Xt;m0=1;var i=Mp();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,b){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:p,containerInfo:y,implementation:b}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xt.createPortal=function(p,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,b)},Xt.flushSync=function(p){var y=h.T,b=r.p;try{if(h.T=null,r.p=2,p)return p()}finally{h.T=y,r.p=b,r.d.f()}},Xt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(p,y))},Xt.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},Xt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,N=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?r.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:N}):b==="script"&&r.d.X(p,{crossOrigin:x,integrity:S,fetchPriority:N,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=m(y.as,y.crossOrigin);r.d.M(p,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(p)},Xt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,x=m(b,y.crossOrigin);r.d.L(p,b,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(p,y){if(typeof p=="string")if(y){var b=m(y.as,y.crossOrigin);r.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(p)},Xt.requestFormReset=function(p){r.d.r(p)},Xt.unstable_batchedUpdates=function(p,y){return p(y)},Xt.useFormState=function(p,y,b){return h.H.useFormState(p,y,b)},Xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var p0;function YS(){if(p0)return km.exports;p0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),km.exports=QS(),km.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function $S(){if(g0)return Ll;g0=1;var i=KS(),e=Mp(),n=YS();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function h(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function m(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(r(188))}function y(t){var s=t.alternate;if(!s){if(s=u(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var d=a.return;if(d===null)break;var f=d.alternate;if(f===null){if(l=d.return,l!==null){a=l;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===a)return p(d),t;if(f===l)return p(d),s;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=d,l=f;else{for(var _=!1,w=d.child;w;){if(w===a){_=!0,a=d,l=f;break}if(w===l){_=!0,l=d,a=f;break}w=w.sibling}if(!_){for(w=f.child;w;){if(w===a){_=!0,a=f,l=d;break}if(w===l){_=!0,l=f,a=d;break}w=w.sibling}if(!_)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function b(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=b(t),s!==null)return s;t=t.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),W=Symbol.for("react.context"),re=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function pe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case k:return"Profiler";case V:return"StrictMode";case oe:return"Suspense";case ue:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case W:return t.displayName||"Context";case Q:return(t._context.displayName||"Context")+".Consumer";case re:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return s=t.displayName||null,s!==null?s:pe(t.type)||"Memo";case A:s=t._payload,t=t._init;try{return pe(t(s))}catch{}}return null}var we=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},De=[],Oe=-1;function O(t){return{current:t}}function J(t){0>Oe||(t.current=De[Oe],De[Oe]=null,Oe--)}function le(t,s){Oe++,De[Oe]=t.current,t.current=s}var he=O(null),be=O(null),Se=O(null),Be=O(null);function Mt(t,s){switch(le(Se,s),le(be,t),le(he,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?D_(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=D_(s),t=O_(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}J(he),le(he,t)}function ot(){J(he),J(be),J(Se)}function Ar(t){t.memoizedState!==null&&le(Be,t);var s=he.current,a=O_(s,t.type);s!==a&&(le(be,t),le(he,a))}function _a(t){be.current===t&&(J(he),J(be)),Be.current===t&&(J(Be),Ml._currentValue=ce)}var ba,Ea;function fi(t){if(ba===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);ba=s&&s[1]||"",Ea=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ba+t+Ea}var Mo=!1;function Rr(t,s){if(!t||Mo)return"";Mo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(X){var K=X}Reflect.construct(t,[],te)}else{try{te.call()}catch(X){K=X}t.call(te.prototype)}}else{try{throw Error()}catch(X){K=X}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),_=f[0],w=f[1];if(_&&w){var D=_.split(`
`),G=w.split(`
`);for(d=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;d<G.length&&!G[d].includes("DetermineComponentFrameRoot");)d++;if(l===D.length||d===G.length)for(l=D.length-1,d=G.length-1;1<=l&&0<=d&&D[l]!==G[d];)d--;for(;1<=l&&0<=d;l--,d--)if(D[l]!==G[d]){if(l!==1||d!==1)do if(l--,d--,0>d||D[l]!==G[d]){var Z=`
`+D[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=d);break}}}finally{Mo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?fi(a):""}function jo(t,s){switch(t.tag){case 26:case 27:case 5:return fi(t.type);case 16:return fi("Lazy");case 13:return t.child!==s&&s!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return Rr(t.type,!1);case 11:return Rr(t.type.render,!1);case 1:return Rr(t.type,!0);case 31:return fi("Activity");default:return""}}function Po(t){try{var s="",a=null;do s+=jo(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var bt=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,As=i.unstable_cancelCallback,Od=i.unstable_shouldYield,Nu=i.unstable_requestPaint,tn=i.unstable_now,Nr=i.unstable_getCurrentPriorityLevel,ko=i.unstable_ImmediatePriority,Vo=i.unstable_UserBlockingPriority,Rs=i.unstable_NormalPriority,Md=i.unstable_LowPriority,Cu=i.unstable_IdlePriority,Iu=i.log,Du=i.unstable_setDisableYieldValue,Yn=null,Bt=null;function Cn(t){if(typeof Iu=="function"&&Du(t),Bt&&typeof Bt.setStrictMode=="function")try{Bt.setStrictMode(Yn,t)}catch{}}var pt=Math.clz32?Math.clz32:Mu,Ou=Math.log,xa=Math.LN2;function Mu(t){return t>>>=0,t===0?32:31-(Ou(t)/xa|0)|0}var mi=256,Cr=262144,Et=4194304;function pi(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function gi(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var d=0,f=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var w=l&134217727;return w!==0?(l=w&~f,l!==0?d=pi(l):(_&=w,_!==0?d=pi(_):a||(a=w&~t,a!==0&&(d=pi(a))))):(w=l&~f,w!==0?d=pi(w):_!==0?d=pi(_):a||(a=l&~t,a!==0&&(d=pi(a)))),d===0?0:s!==0&&s!==d&&(s&f)===0&&(f=d&-d,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:d}function $n(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function jd(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ju(){var t=Et;return Et<<=1,(Et&62914560)===0&&(Et=4194304),t}function yi(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ir(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Pd(t,s,a,l,d,f){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,D=t.expirationTimes,G=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-pt(a),te=1<<Z;w[Z]=0,D[Z]=-1;var K=G[Z];if(K!==null)for(G[Z]=null,Z=0;Z<K.length;Z++){var X=K[Z];X!==null&&(X.lane&=-536870913)}a&=~te}l!==0&&Dr(t,l,0),f!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=f&~(_&~s))}function Dr(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-pt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Lo(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-pt(a),d=1<<l;d&s|t[l]&s&&(t[l]|=s),a&=~d}}function Uo(t,s){var a=s&-s;return a=(a&42)!==0?1:Or(a),(a&(t.suspendedLanes|s))!==0?0:a}function Or(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Yi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Pu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:t0(t.type))}function Xn(t,s){var a=se.p;try{return se.p=t,s()}finally{se.p=a}}var Wn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Wn,Vt="__reactProps$"+Wn,vi="__reactContainer$"+Wn,wa="__reactEvents$"+Wn,kd="__reactListeners$"+Wn,ku="__reactHandles$"+Wn,Vu="__reactResources$"+Wn,_i="__reactMarker$"+Wn;function Ta(t){delete t[xt],delete t[Vt],delete t[wa],delete t[kd],delete t[ku]}function bi(t){var s=t[xt];if(s)return s;for(var a=t.parentNode;a;){if(s=a[vi]||a[xt]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=U_(t);t!==null;){if(a=t[xt])return a;t=U_(t)}return s}t=a,a=t.parentNode}return null}function In(t){if(t=t[xt]||t[vi]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function vn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ei(t){var s=t[Vu];return s||(s=t[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wt(t){t[_i]=!0}var zo=new Set,Bo={};function xi(t,s){wi(t,s),wi(t+"Capture",s)}function wi(t,s){for(Bo[t]=s,t=0;t<s.length;t++)zo.add(s[t])}var Fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Ho={};function Lu(t){return bt.call(Ho,t)?!0:bt.call(qo,t)?!1:Fo.test(t)?Ho[t]=!0:(qo[t]=!0,!1)}function Sa(t,s,a){if(Lu(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function _n(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Tt(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ns(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Go(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,f=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return d.call(this)},set:function(_){a=""+_,f.call(this,_)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function $e(t){if(!t._valueTracker){var s=Ns(t)?"checked":"value";t._valueTracker=Go(t,s,""+t[s])}}function Mr(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=Ns(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jr=/[\n"\\]/g;function on(t){return t.replace(jr,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Aa(t,s,a,l,d,f,_,w){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),s!=null?_==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Lt(s)):t.value!==""+Lt(s)&&(t.value=""+Lt(s)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),s!=null?Ko(t,_,Lt(s)):a!=null?Ko(t,_,Lt(a)):l!=null&&t.removeAttribute("value"),d==null&&f!=null&&(t.defaultChecked=!!f),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+Lt(w):t.removeAttribute("name")}function Uu(t,s,a,l,d,f,_,w){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null)){$e(t);return}a=a!=null?""+Lt(a):"",s=s!=null?""+Lt(s):a,w||s===t.value||(t.value=s),t.defaultValue=s}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),$e(t)}function Ko(t,s,a){s==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Cs(t,s,a,l){if(t=t.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<t.length;a++)d=s.hasOwnProperty("$"+t[a].value),t[a].selected!==d&&(t[a].selected=d),d&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),s=null,d=0;d<t.length;d++){if(t[d].value===a){t[d].selected=!0,l&&(t[d].defaultSelected=!0);return}s!==null||t[d].disabled||(s=t[d])}s!==null&&(s.selected=!0)}}function zu(t,s,a){if(s!=null&&(s=""+Lt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Lt(a):""}function Is(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(we(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Lt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),$e(t)}function ln(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var Bu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qo(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||Bu.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function Yo(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var d in s)l=s[d],s.hasOwnProperty(d)&&a[d]!==l&&Qo(t,d,l)}else for(var f in s)s.hasOwnProperty(f)&&Qo(t,f,s[f])}function Ra(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Na(t){return Ds.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Jn(){}var $o=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Os=null,Si=null;function Pr(t){var s=In(t);if(s&&(t=s.stateNode)){var a=t[Vt]||null;e:switch(t=s.stateNode,s.type){case"input":if(Aa(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+on(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var d=l[Vt]||null;if(!d)throw Error(r(90));Aa(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&Mr(l)}break e;case"textarea":zu(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Cs(t,!!a.multiple,s,!1)}}}var Ca=!1;function Ms(t,s,a){if(Ca)return t(s,a);Ca=!0;try{var l=t(s);return l}finally{if(Ca=!1,(Os!==null||Si!==null)&&(Pc(),Os&&(s=Os,t=Si,Si=Os=null,Pr(s),t)))for(s=0;s<t.length;s++)Pr(t[s])}}function Zn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[Vt]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(On)try{var Je={};Object.defineProperty(Je,"passive",{get:function(){kr=!0}}),window.addEventListener("test",Je,Je),window.removeEventListener("test",Je,Je)}catch{kr=!1}var Ai=null,Xo=null,Vr=null;function Wo(){if(Vr)return Vr;var t,s=Xo,a=s.length,l,d="value"in Ai?Ai.value:Ai.textContent,f=d.length;for(t=0;t<a&&s[t]===d[t];t++);var _=a-t;for(l=1;l<=_&&s[a-l]===d[f-l];l++);return Vr=d.slice(t,1<l?1-l:void 0)}function Lr(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function $i(){return!0}function ei(){return!1}function Ft(t){function s(a,l,d,f,_){this._reactName=a,this._targetInst=d,this.type=l,this.nativeEvent=f,this.target=_,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(f):f[w]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:ei,this.isPropagationStopped=ei,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),s}var Xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ri=Ft(Xi),js=x({},Xi,{view:0,detail:0}),Jo=Ft(js),Ps,Ia,Ni,Da=x({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ni&&(Ni&&t.type==="mousemove"?(Ps=t.screenX-Ni.screenX,Ia=t.screenY-Ni.screenY):Ia=Ps=0,Ni=t),Ps)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Zo=Ft(Da),Ur=x({},Da,{dataTransfer:0}),qu=Ft(Ur),Hu=x({},js,{relatedTarget:0}),zr=Ft(Hu),el=x({},Xi,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Ft(el),Oa=x({},Xi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ku=Ft(Oa),Qu=x({},Xi,{data:0}),Ci=Ft(Qu),Yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Xu[t])?!!s[t]:!1}function ks(){return Wu}var nn=x({},js,{key:function(t){if(t.key){var s=Yu[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Lr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?Lr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ju=Ft(nn),Zu=x({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wi=Ft(Zu),c=x({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),v=Ft(c),E=x({},Xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Ft(E),q=x({},Da,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),$=Ft(q),ae=x({},Xi,{newState:0,oldState:0}),Ne=Ft(ae),gt=[9,13,27,32],Ge=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,Ii=On&&(!Ge||lt&&8<lt&&11>=lt),ti=" ",ni=!1;function Br(t,s){switch(t){case"keyup":return gt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ma(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ja=!1;function dT(t,s){switch(t){case"compositionend":return Ma(s);case"keypress":return s.which!==32?null:(ni=!0,ti);case"textInput":return t=s.data,t===ti&&ni?null:t;default:return null}}function fT(t,s){if(ja)return t==="compositionend"||!Ge&&Br(t,s)?(t=Wo(),Vr=Xo=Ai=null,ja=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ii&&s.locale!=="ko"?null:s.data;default:return null}}var mT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!mT[t.type]:s==="textarea"}function qg(t,s,a,l){Os?Si?Si.push(l):Si=[l]:Os=l,s=Fc(s,"onChange"),0<s.length&&(a=new Ri("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var tl=null,nl=null;function pT(t){S_(t,0)}function ec(t){var s=vn(t);if(Mr(s))return t}function Hg(t,s){if(t==="change")return s}var Gg=!1;if(On){var Vd;if(On){var Ld="oninput"in document;if(!Ld){var Kg=document.createElement("div");Kg.setAttribute("oninput","return;"),Ld=typeof Kg.oninput=="function"}Vd=Ld}else Vd=!1;Gg=Vd&&(!document.documentMode||9<document.documentMode)}function Qg(){tl&&(tl.detachEvent("onpropertychange",Yg),nl=tl=null)}function Yg(t){if(t.propertyName==="value"&&ec(nl)){var s=[];qg(s,nl,t,Dn(t)),Ms(pT,s)}}function gT(t,s,a){t==="focusin"?(Qg(),tl=s,nl=a,tl.attachEvent("onpropertychange",Yg)):t==="focusout"&&Qg()}function yT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ec(nl)}function vT(t,s){if(t==="click")return ec(s)}function _T(t,s){if(t==="input"||t==="change")return ec(s)}function bT(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var bn=typeof Object.is=="function"?Object.is:bT;function il(t,s){if(bn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var d=a[l];if(!bt.call(s,d)||!bn(t[d],s[d]))return!1}return!0}function $g(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xg(t,s){var a=$g(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$g(a)}}function Wg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Wg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Jg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=Ti(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=Ti(t.document)}return s}function Ud(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var ET=On&&"documentMode"in document&&11>=document.documentMode,Pa=null,zd=null,sl=null,Bd=!1;function Zg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Bd||Pa==null||Pa!==Ti(l)||(l=Pa,"selectionStart"in l&&Ud(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),sl&&il(sl,l)||(sl=l,l=Fc(zd,"onSelect"),0<l.length&&(s=new Ri("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Pa)))}function Fr(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var ka={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Fd={},ey={};On&&(ey=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function qr(t){if(Fd[t])return Fd[t];if(!ka[t])return t;var s=ka[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in ey)return Fd[t]=s[a];return t}var ty=qr("animationend"),ny=qr("animationiteration"),iy=qr("animationstart"),xT=qr("transitionrun"),wT=qr("transitionstart"),TT=qr("transitioncancel"),sy=qr("transitionend"),ry=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function ii(t,s){ry.set(t,s),xi(s,[t])}var tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},jn=[],Va=0,Hd=0;function nc(){for(var t=Va,s=Hd=Va=0;s<t;){var a=jn[s];jn[s++]=null;var l=jn[s];jn[s++]=null;var d=jn[s];jn[s++]=null;var f=jn[s];if(jn[s++]=null,l!==null&&d!==null){var _=l.pending;_===null?d.next=d:(d.next=_.next,_.next=d),l.pending=d}f!==0&&ay(a,d,f)}}function ic(t,s,a,l){jn[Va++]=t,jn[Va++]=s,jn[Va++]=a,jn[Va++]=l,Hd|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Gd(t,s,a,l){return ic(t,s,a,l),sc(t)}function Hr(t,s){return ic(t,null,null,s),sc(t)}function ay(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var d=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(d=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,d&&s!==null&&(d=31-pt(a),t=f.hiddenUpdates,l=t[d],l===null?t[d]=[s]:l.push(s),s.lane=a|536870912),f):null}function sc(t){if(50<Al)throw Al=0,tm=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var La={};function ST(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,s,a,l){return new ST(t,s,a,l)}function Kd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,s){var a=t.alternate;return a===null?(a=En(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function oy(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function rc(t,s,a,l,d,f){var _=0;if(l=t,typeof t=="function")Kd(t)&&(_=1);else if(typeof t=="string")_=IS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=En(31,a,s,d),t.elementType=R,t.lanes=f,t;case B:return Gr(a.children,d,f,s);case V:_=8,d|=24;break;case k:return t=En(12,a,s,d|2),t.elementType=k,t.lanes=f,t;case oe:return t=En(13,a,s,d),t.elementType=oe,t.lanes=f,t;case ue:return t=En(19,a,s,d),t.elementType=ue,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case W:_=10;break e;case Q:_=9;break e;case re:_=11;break e;case C:_=14;break e;case A:_=16,l=null;break e}_=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=En(_,a,s,d),s.elementType=t,s.type=l,s.lanes=f,s}function Gr(t,s,a,l){return t=En(7,t,l,s),t.lanes=a,t}function Qd(t,s,a){return t=En(6,t,null,s),t.lanes=a,t}function ly(t){var s=En(18,null,null,0);return s.stateNode=t,s}function Yd(t,s,a){return s=En(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var uy=new WeakMap;function Pn(t,s){if(typeof t=="object"&&t!==null){var a=uy.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Po(s)},uy.set(t,s),s)}return{value:t,source:s,stack:Po(s)}}var Ua=[],za=0,ac=null,rl=0,kn=[],Vn=0,Vs=null,Di=1,Oi="";function Zi(t,s){Ua[za++]=rl,Ua[za++]=ac,ac=t,rl=s}function cy(t,s,a){kn[Vn++]=Di,kn[Vn++]=Oi,kn[Vn++]=Vs,Vs=t;var l=Di;t=Oi;var d=32-pt(l)-1;l&=~(1<<d),a+=1;var f=32-pt(s)+d;if(30<f){var _=d-d%5;f=(l&(1<<_)-1).toString(32),l>>=_,d-=_,Di=1<<32-pt(s)+d|a<<d|l,Oi=f+t}else Di=1<<f|a<<d|l,Oi=t}function $d(t){t.return!==null&&(Zi(t,1),cy(t,1,0))}function Xd(t){for(;t===ac;)ac=Ua[--za],Ua[za]=null,rl=Ua[--za],Ua[za]=null;for(;t===Vs;)Vs=kn[--Vn],kn[Vn]=null,Oi=kn[--Vn],kn[Vn]=null,Di=kn[--Vn],kn[Vn]=null}function hy(t,s){kn[Vn++]=Di,kn[Vn++]=Oi,kn[Vn++]=Vs,Di=s.id,Oi=s.overflow,Vs=t}var qt=null,st=null,ze=!1,Ls=null,Ln=!1,Wd=Error(r(519));function Us(t){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw al(Pn(s,t)),Wd}function dy(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[xt]=t,s[Vt]=l,a){case"dialog":je("cancel",s),je("close",s);break;case"iframe":case"object":case"embed":je("load",s);break;case"video":case"audio":for(a=0;a<Nl.length;a++)je(Nl[a],s);break;case"source":je("error",s);break;case"img":case"image":case"link":je("error",s),je("load",s);break;case"details":je("toggle",s);break;case"input":je("invalid",s),Uu(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",s);break;case"textarea":je("invalid",s),Is(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||C_(s.textContent,a)?(l.popover!=null&&(je("beforetoggle",s),je("toggle",s)),l.onScroll!=null&&je("scroll",s),l.onScrollEnd!=null&&je("scrollend",s),l.onClick!=null&&(s.onclick=Jn),s=!0):s=!1,s||Us(t,!0)}function fy(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:qt=qt.return}}function Ba(t){if(t!==qt)return!1;if(!ze)return fy(t),ze=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||gm(t.type,t.memoizedProps)),a=!a),a&&st&&Us(t),fy(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=L_(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));st=L_(t)}else s===27?(s=st,Zs(t.type)?(t=Em,Em=null,st=t):st=s):st=qt?zn(t.stateNode.nextSibling):null;return!0}function Kr(){st=qt=null,ze=!1}function Jd(){var t=Ls;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),Ls=null),t}function al(t){Ls===null?Ls=[t]:Ls.push(t)}var Zd=O(null),Qr=null,es=null;function zs(t,s,a){le(Zd,s._currentValue),s._currentValue=a}function ts(t){t._currentValue=Zd.current,J(Zd)}function ef(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function tf(t,s,a,l){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var f=d.dependencies;if(f!==null){var _=d.child;f=f.firstContext;e:for(;f!==null;){var w=f;f=d;for(var D=0;D<s.length;D++)if(w.context===s[D]){f.lanes|=a,w=f.alternate,w!==null&&(w.lanes|=a),ef(f.return,a,t),l||(_=null);break e}f=w.next}}else if(d.tag===18){if(_=d.return,_===null)throw Error(r(341));_.lanes|=a,f=_.alternate,f!==null&&(f.lanes|=a),ef(_,a,t),_=null}else _=d.child;if(_!==null)_.return=d;else for(_=d;_!==null;){if(_===t){_=null;break}if(d=_.sibling,d!==null){d.return=_.return,_=d;break}_=_.return}d=_}}function Fa(t,s,a,l){t=null;for(var d=s,f=!1;d!==null;){if(!f){if((d.flags&524288)!==0)f=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var _=d.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var w=d.type;bn(d.pendingProps.value,_.value)||(t!==null?t.push(w):t=[w])}}else if(d===Be.current){if(_=d.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}d=d.return}t!==null&&tf(s,t,a,l),s.flags|=262144}function oc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Yr(t){Qr=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return my(Qr,t)}function lc(t,s){return Qr===null&&Yr(t),my(t,s)}function my(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},es===null){if(t===null)throw Error(r(308));es=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else es=es.next=s;return a}var AT=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},RT=i.unstable_scheduleCallback,NT=i.unstable_NormalPriority,St={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nf(){return{controller:new AT,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&RT(NT,function(){t.controller.abort()})}var ll=null,sf=0,qa=0,Ha=null;function CT(t,s){if(ll===null){var a=ll=[];sf=0,qa=om(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return sf++,s.then(py,py),s}function py(){if(--sf===0&&ll!==null){Ha!==null&&(Ha.status="fulfilled");var t=ll;ll=null,qa=0,Ha=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function IT(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(d){a.push(d)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var d=0;d<a.length;d++)(0,a[d])(s)},function(d){for(l.status="rejected",l.reason=d,d=0;d<a.length;d++)(0,a[d])(void 0)}),l}var gy=Y.S;Y.S=function(t,s){Zv=tn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&CT(t,s),gy!==null&&gy(t,s)};var $r=O(null);function rf(){var t=$r.current;return t!==null?t:nt.pooledCache}function uc(t,s){s===null?le($r,$r.current):le($r,s.pool)}function yy(){var t=rf();return t===null?null:{parent:St._currentValue,pool:t}}var Ga=Error(r(460)),af=Error(r(474)),cc=Error(r(542)),hc={then:function(){}};function vy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _y(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(Jn,Jn),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t;default:if(typeof s.status=="string")s.then(Jn,Jn);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=l}},function(l){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,Ey(t),t}throw Wr=s,Ga}}function Xr(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wr=a,Ga):a}}var Wr=null;function by(){if(Wr===null)throw Error(r(459));var t=Wr;return Wr=null,t}function Ey(t){if(t===Ga||t===cc)throw Error(r(483))}var Ka=null,ul=0;function dc(t){var s=ul;return ul+=1,Ka===null&&(Ka=[]),_y(Ka,t,s)}function cl(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function fc(t,s){throw s.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function xy(t){function s(z,j){if(t){var H=z.deletions;H===null?(z.deletions=[j],z.flags|=16):H.push(j)}}function a(z,j){if(!t)return null;for(;j!==null;)s(z,j),j=j.sibling;return null}function l(z){for(var j=new Map;z!==null;)z.key!==null?j.set(z.key,z):j.set(z.index,z),z=z.sibling;return j}function d(z,j){return z=Ji(z,j),z.index=0,z.sibling=null,z}function f(z,j,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<j?(z.flags|=67108866,j):H):(z.flags|=67108866,j)):(z.flags|=1048576,j)}function _(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function w(z,j,H,ee){return j===null||j.tag!==6?(j=Qd(H,z.mode,ee),j.return=z,j):(j=d(j,H),j.return=z,j)}function D(z,j,H,ee){var ye=H.type;return ye===B?Z(z,j,H.props.children,ee,H.key):j!==null&&(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Xr(ye)===j.type)?(j=d(j,H.props),cl(j,H),j.return=z,j):(j=rc(H.type,H.key,H.props,null,z.mode,ee),cl(j,H),j.return=z,j)}function G(z,j,H,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=Yd(H,z.mode,ee),j.return=z,j):(j=d(j,H.children||[]),j.return=z,j)}function Z(z,j,H,ee,ye){return j===null||j.tag!==7?(j=Gr(H,z.mode,ee,ye),j.return=z,j):(j=d(j,H),j.return=z,j)}function te(z,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Qd(""+j,z.mode,H),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return H=rc(j.type,j.key,j.props,null,z.mode,H),cl(H,j),H.return=z,H;case U:return j=Yd(j,z.mode,H),j.return=z,j;case A:return j=Xr(j),te(z,j,H)}if(we(j)||F(j))return j=Gr(j,z.mode,H,null),j.return=z,j;if(typeof j.then=="function")return te(z,dc(j),H);if(j.$$typeof===W)return te(z,lc(z,j),H);fc(z,j)}return null}function K(z,j,H,ee){var ye=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:w(z,j,""+H,ee);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case N:return H.key===ye?D(z,j,H,ee):null;case U:return H.key===ye?G(z,j,H,ee):null;case A:return H=Xr(H),K(z,j,H,ee)}if(we(H)||F(H))return ye!==null?null:Z(z,j,H,ee,null);if(typeof H.then=="function")return K(z,j,dc(H),ee);if(H.$$typeof===W)return K(z,j,lc(z,H),ee);fc(z,H)}return null}function X(z,j,H,ee,ye){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(H)||null,w(j,z,""+ee,ye);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case N:return z=z.get(ee.key===null?H:ee.key)||null,D(j,z,ee,ye);case U:return z=z.get(ee.key===null?H:ee.key)||null,G(j,z,ee,ye);case A:return ee=Xr(ee),X(z,j,H,ee,ye)}if(we(ee)||F(ee))return z=z.get(H)||null,Z(j,z,ee,ye,null);if(typeof ee.then=="function")return X(z,j,H,dc(ee),ye);if(ee.$$typeof===W)return X(z,j,H,lc(j,ee),ye);fc(j,ee)}return null}function me(z,j,H,ee){for(var ye=null,qe=null,ge=j,Ie=j=0,ke=null;ge!==null&&Ie<H.length;Ie++){ge.index>Ie?(ke=ge,ge=null):ke=ge.sibling;var He=K(z,ge,H[Ie],ee);if(He===null){ge===null&&(ge=ke);break}t&&ge&&He.alternate===null&&s(z,ge),j=f(He,j,Ie),qe===null?ye=He:qe.sibling=He,qe=He,ge=ke}if(Ie===H.length)return a(z,ge),ze&&Zi(z,Ie),ye;if(ge===null){for(;Ie<H.length;Ie++)ge=te(z,H[Ie],ee),ge!==null&&(j=f(ge,j,Ie),qe===null?ye=ge:qe.sibling=ge,qe=ge);return ze&&Zi(z,Ie),ye}for(ge=l(ge);Ie<H.length;Ie++)ke=X(ge,z,Ie,H[Ie],ee),ke!==null&&(t&&ke.alternate!==null&&ge.delete(ke.key===null?Ie:ke.key),j=f(ke,j,Ie),qe===null?ye=ke:qe.sibling=ke,qe=ke);return t&&ge.forEach(function(sr){return s(z,sr)}),ze&&Zi(z,Ie),ye}function _e(z,j,H,ee){if(H==null)throw Error(r(151));for(var ye=null,qe=null,ge=j,Ie=j=0,ke=null,He=H.next();ge!==null&&!He.done;Ie++,He=H.next()){ge.index>Ie?(ke=ge,ge=null):ke=ge.sibling;var sr=K(z,ge,He.value,ee);if(sr===null){ge===null&&(ge=ke);break}t&&ge&&sr.alternate===null&&s(z,ge),j=f(sr,j,Ie),qe===null?ye=sr:qe.sibling=sr,qe=sr,ge=ke}if(He.done)return a(z,ge),ze&&Zi(z,Ie),ye;if(ge===null){for(;!He.done;Ie++,He=H.next())He=te(z,He.value,ee),He!==null&&(j=f(He,j,Ie),qe===null?ye=He:qe.sibling=He,qe=He);return ze&&Zi(z,Ie),ye}for(ge=l(ge);!He.done;Ie++,He=H.next())He=X(ge,z,Ie,He.value,ee),He!==null&&(t&&He.alternate!==null&&ge.delete(He.key===null?Ie:He.key),j=f(He,j,Ie),qe===null?ye=He:qe.sibling=He,qe=He);return t&&ge.forEach(function(BS){return s(z,BS)}),ze&&Zi(z,Ie),ye}function tt(z,j,H,ee){if(typeof H=="object"&&H!==null&&H.type===B&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case N:e:{for(var ye=H.key;j!==null;){if(j.key===ye){if(ye=H.type,ye===B){if(j.tag===7){a(z,j.sibling),ee=d(j,H.props.children),ee.return=z,z=ee;break e}}else if(j.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Xr(ye)===j.type){a(z,j.sibling),ee=d(j,H.props),cl(ee,H),ee.return=z,z=ee;break e}a(z,j);break}else s(z,j);j=j.sibling}H.type===B?(ee=Gr(H.props.children,z.mode,ee,H.key),ee.return=z,z=ee):(ee=rc(H.type,H.key,H.props,null,z.mode,ee),cl(ee,H),ee.return=z,z=ee)}return _(z);case U:e:{for(ye=H.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){a(z,j.sibling),ee=d(j,H.children||[]),ee.return=z,z=ee;break e}else{a(z,j);break}else s(z,j);j=j.sibling}ee=Yd(H,z.mode,ee),ee.return=z,z=ee}return _(z);case A:return H=Xr(H),tt(z,j,H,ee)}if(we(H))return me(z,j,H,ee);if(F(H)){if(ye=F(H),typeof ye!="function")throw Error(r(150));return H=ye.call(H),_e(z,j,H,ee)}if(typeof H.then=="function")return tt(z,j,dc(H),ee);if(H.$$typeof===W)return tt(z,j,lc(z,H),ee);fc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(a(z,j.sibling),ee=d(j,H),ee.return=z,z=ee):(a(z,j),ee=Qd(H,z.mode,ee),ee.return=z,z=ee),_(z)):a(z,j)}return function(z,j,H,ee){try{ul=0;var ye=tt(z,j,H,ee);return Ka=null,ye}catch(ge){if(ge===Ga||ge===cc)throw ge;var qe=En(29,ge,null,z.mode);return qe.lanes=ee,qe.return=z,qe}finally{}}}var Jr=xy(!0),wy=xy(!1),Bs=!1;function of(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lf(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qs(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ke&2)!==0){var d=l.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),l.pending=s,s=sc(t),ay(t,null,a),s}return ic(t,l,s,a),sc(t)}function hl(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Lo(t,a)}}function uf(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var d=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?d=f=_:f=f.next=_,a=a.next}while(a!==null);f===null?d=f=s:f=f.next=s}else d=f=s;a={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var cf=!1;function dl(){if(cf){var t=Ha;if(t!==null)throw t}}function fl(t,s,a,l){cf=!1;var d=t.updateQueue;Bs=!1;var f=d.firstBaseUpdate,_=d.lastBaseUpdate,w=d.shared.pending;if(w!==null){d.shared.pending=null;var D=w,G=D.next;D.next=null,_===null?f=G:_.next=G,_=D;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,w=Z.lastBaseUpdate,w!==_&&(w===null?Z.firstBaseUpdate=G:w.next=G,Z.lastBaseUpdate=D))}if(f!==null){var te=d.baseState;_=0,Z=G=D=null,w=f;do{var K=w.lane&-536870913,X=K!==w.lane;if(X?(Pe&K)===K:(l&K)===K){K!==0&&K===qa&&(cf=!0),Z!==null&&(Z=Z.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=t,_e=w;K=s;var tt=a;switch(_e.tag){case 1:if(me=_e.payload,typeof me=="function"){te=me.call(tt,te,K);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=_e.payload,K=typeof me=="function"?me.call(tt,te,K):me,K==null)break e;te=x({},te,K);break e;case 2:Bs=!0}}K=w.callback,K!==null&&(t.flags|=64,X&&(t.flags|=8192),X=d.callbacks,X===null?d.callbacks=[K]:X.push(K))}else X={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Z===null?(G=Z=X,D=te):Z=Z.next=X,_|=K;if(w=w.next,w===null){if(w=d.shared.pending,w===null)break;X=w,w=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);Z===null&&(D=te),d.baseState=D,d.firstBaseUpdate=G,d.lastBaseUpdate=Z,f===null&&(d.shared.lanes=0),Ys|=_,t.lanes=_,t.memoizedState=te}}function Ty(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function Sy(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ty(a[t],s)}var Qa=O(null),mc=O(0);function Ay(t,s){t=cs,le(mc,t),le(Qa,s),cs=t|s.baseLanes}function hf(){le(mc,cs),le(Qa,Qa.current)}function df(){cs=mc.current,J(Qa),J(mc)}var xn=O(null),Un=null;function Hs(t){var s=t.alternate;le(yt,yt.current&1),le(xn,t),Un===null&&(s===null||Qa.current!==null||s.memoizedState!==null)&&(Un=t)}function ff(t){le(yt,yt.current),le(xn,t),Un===null&&(Un=t)}function Ry(t){t.tag===22?(le(yt,yt.current),le(xn,t),Un===null&&(Un=t)):Gs()}function Gs(){le(yt,yt.current),le(xn,xn.current)}function wn(t){J(xn),Un===t&&(Un=null),J(yt)}var yt=O(0);function pc(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_m(a)||bm(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ns=0,Ce=null,Ze=null,At=null,gc=!1,Ya=!1,Zr=!1,yc=0,ml=0,$a=null,DT=0;function dt(){throw Error(r(321))}function mf(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!bn(t[a],s[a]))return!1;return!0}function pf(t,s,a,l,d,f){return ns=f,Ce=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=t===null||t.memoizedState===null?cv:If,Zr=!1,f=a(l,d),Zr=!1,Ya&&(f=Cy(s,a,l,d)),Ny(t),f}function Ny(t){Y.H=yl;var s=Ze!==null&&Ze.next!==null;if(ns=0,At=Ze=Ce=null,gc=!1,ml=0,$a=null,s)throw Error(r(300));t===null||Rt||(t=t.dependencies,t!==null&&oc(t)&&(Rt=!0))}function Cy(t,s,a,l){Ce=t;var d=0;do{if(Ya&&($a=null),ml=0,Ya=!1,25<=d)throw Error(r(301));if(d+=1,At=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Y.H=hv,f=s(a,l)}while(Ya);return f}function OT(){var t=Y.H,s=t.useState()[0];return s=typeof s.then=="function"?pl(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(Ce.flags|=1024),s}function gf(){var t=yc!==0;return yc=0,t}function yf(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function vf(t){if(gc){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}gc=!1}ns=0,At=Ze=Ce=null,Ya=!1,ml=yc=0,$a=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ce.memoizedState=At=t:At=At.next=t,At}function vt(){if(Ze===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=At===null?Ce.memoizedState:At.next;if(s!==null)At=s,Ze=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},At===null?Ce.memoizedState=At=t:At=At.next=t}return At}function vc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pl(t){var s=ml;return ml+=1,$a===null&&($a=[]),t=_y($a,t,s),s=Ce,(At===null?s.memoizedState:At.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?cv:If),t}function _c(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===W)return Ht(t)}throw Error(r(438,String(t)))}function _f(t){var s=null,a=Ce.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=vc(),Ce.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=P;return s.index++,a}function is(t,s){return typeof s=="function"?s(t):s}function bc(t){var s=vt();return bf(s,Ze,t)}function bf(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var d=t.baseQueue,f=l.pending;if(f!==null){if(d!==null){var _=d.next;d.next=f.next,f.next=_}s.baseQueue=d=f,l.pending=null}if(f=t.baseState,d===null)t.memoizedState=f;else{s=d.next;var w=_=null,D=null,G=s,Z=!1;do{var te=G.lane&-536870913;if(te!==G.lane?(Pe&te)===te:(ns&te)===te){var K=G.revertLane;if(K===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),te===qa&&(Z=!0);else if((ns&K)===K){G=G.next,K===qa&&(Z=!0);continue}else te={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(w=D=te,_=f):D=D.next=te,Ce.lanes|=K,Ys|=K;te=G.action,Zr&&a(f,te),f=G.hasEagerState?G.eagerState:a(f,te)}else K={lane:te,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},D===null?(w=D=K,_=f):D=D.next=K,Ce.lanes|=te,Ys|=te;G=G.next}while(G!==null&&G!==s);if(D===null?_=f:D.next=w,!bn(f,t.memoizedState)&&(Rt=!0,Z&&(a=Ha,a!==null)))throw a;t.memoizedState=f,t.baseState=_,t.baseQueue=D,l.lastRenderedState=f}return d===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Ef(t){var s=vt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,d=a.pending,f=s.memoizedState;if(d!==null){a.pending=null;var _=d=d.next;do f=t(f,_.action),_=_.next;while(_!==d);bn(f,s.memoizedState)||(Rt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Iy(t,s,a){var l=Ce,d=vt(),f=ze;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=s();var _=!bn((Ze||d).memoizedState,a);if(_&&(d.memoizedState=a,Rt=!0),d=d.queue,Tf(My.bind(null,l,d,t),[t]),d.getSnapshot!==s||_||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Xa(9,{destroy:void 0},Oy.bind(null,l,d,a,s),null),nt===null)throw Error(r(349));f||(ns&127)!==0||Dy(l,s,a)}return a}function Dy(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=Ce.updateQueue,s===null?(s=vc(),Ce.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function Oy(t,s,a,l){s.value=a,s.getSnapshot=l,jy(s)&&Py(t)}function My(t,s,a){return a(function(){jy(s)&&Py(t)})}function jy(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!bn(t,a)}catch{return!0}}function Py(t){var s=Hr(t,2);s!==null&&fn(s,t,2)}function xf(t){var s=sn();if(typeof t=="function"){var a=t;if(t=a(),Zr){Cn(!0);try{a()}finally{Cn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:t},s}function ky(t,s,a,l){return t.baseState=a,bf(t,Ze,typeof l=="function"?l:is)}function MT(t,s,a,l,d){if(wc(t))throw Error(r(485));if(t=s.action,t!==null){var f={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){f.listeners.push(_)}};Y.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,Vy(s,f)):(f.next=a.next,s.pending=a.next=f)}}function Vy(t,s){var a=s.action,l=s.payload,d=t.state;if(s.isTransition){var f=Y.T,_={};Y.T=_;try{var w=a(d,l),D=Y.S;D!==null&&D(_,w),Ly(t,s,w)}catch(G){wf(t,s,G)}finally{f!==null&&_.types!==null&&(f.types=_.types),Y.T=f}}else try{f=a(d,l),Ly(t,s,f)}catch(G){wf(t,s,G)}}function Ly(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Uy(t,s,l)},function(l){return wf(t,s,l)}):Uy(t,s,a)}function Uy(t,s,a){s.status="fulfilled",s.value=a,zy(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Vy(t,a)))}function wf(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,zy(s),s=s.next;while(s!==l)}t.action=null}function zy(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function By(t,s){return s}function Fy(t,s){if(ze){var a=nt.formState;if(a!==null){e:{var l=Ce;if(ze){if(st){t:{for(var d=st,f=Ln;d.nodeType!==8;){if(!f){d=null;break t}if(d=zn(d.nextSibling),d===null){d=null;break t}}f=d.data,d=f==="F!"||f==="F"?d:null}if(d){st=zn(d.nextSibling),l=d.data==="F!";break e}}Us(l)}l=!1}l&&(s=a[0])}}return a=sn(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:By,lastRenderedState:s},a.queue=l,a=ov.bind(null,Ce,l),l.dispatch=a,l=xf(!1),f=Cf.bind(null,Ce,!1,l.queue),l=sn(),d={state:s,dispatch:null,action:t,pending:null},l.queue=d,a=MT.bind(null,Ce,d,f,a),d.dispatch=a,l.memoizedState=t,[s,a,!1]}function qy(t){var s=vt();return Hy(s,Ze,t)}function Hy(t,s,a){if(s=bf(t,s,By)[0],t=bc(is)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=pl(s)}catch(_){throw _===Ga?cc:_}else l=s;s=vt();var d=s.queue,f=d.dispatch;return a!==s.memoizedState&&(Ce.flags|=2048,Xa(9,{destroy:void 0},jT.bind(null,d,a),null)),[l,f,t]}function jT(t,s){t.action=s}function Gy(t){var s=vt(),a=Ze;if(a!==null)return Hy(s,a,t);vt(),s=s.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Xa(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=Ce.updateQueue,s===null&&(s=vc(),Ce.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function Ky(){return vt().memoizedState}function Ec(t,s,a,l){var d=sn();Ce.flags|=t,d.memoizedState=Xa(1|s,{destroy:void 0},a,l===void 0?null:l)}function xc(t,s,a,l){var d=vt();l=l===void 0?null:l;var f=d.memoizedState.inst;Ze!==null&&l!==null&&mf(l,Ze.memoizedState.deps)?d.memoizedState=Xa(s,f,a,l):(Ce.flags|=t,d.memoizedState=Xa(1|s,f,a,l))}function Qy(t,s){Ec(8390656,8,t,s)}function Tf(t,s){xc(2048,8,t,s)}function PT(t){Ce.flags|=4;var s=Ce.updateQueue;if(s===null)s=vc(),Ce.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Yy(t){var s=vt().memoizedState;return PT({ref:s,nextImpl:t}),function(){if((Ke&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function $y(t,s){return xc(4,2,t,s)}function Xy(t,s){return xc(4,4,t,s)}function Wy(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Jy(t,s,a){a=a!=null?a.concat([t]):null,xc(4,4,Wy.bind(null,s,t),a)}function Sf(){}function Zy(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&mf(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function ev(t,s){var a=vt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&mf(s,l[1]))return l[0];if(l=t(),Zr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,s],l}function Af(t,s,a){return a===void 0||(ns&1073741824)!==0&&(Pe&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=t_(),Ce.lanes|=t,Ys|=t,a)}function tv(t,s,a,l){return bn(a,s)?a:Qa.current!==null?(t=Af(t,a,l),bn(t,s)||(Rt=!0),t):(ns&42)===0||(ns&1073741824)!==0&&(Pe&261930)===0?(Rt=!0,t.memoizedState=a):(t=t_(),Ce.lanes|=t,Ys|=t,s)}function nv(t,s,a,l,d){var f=se.p;se.p=f!==0&&8>f?f:8;var _=Y.T,w={};Y.T=w,Cf(t,!1,s,a);try{var D=d(),G=Y.S;if(G!==null&&G(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Z=IT(D,l);gl(t,s,Z,An(t))}else gl(t,s,l,An(t))}catch(te){gl(t,s,{then:function(){},status:"rejected",reason:te},An())}finally{se.p=f,_!==null&&w.types!==null&&(_.types=w.types),Y.T=_}}function kT(){}function Rf(t,s,a,l){if(t.tag!==5)throw Error(r(476));var d=iv(t).queue;nv(t,d,s,ce,a===null?kT:function(){return sv(t),a(l)})}function iv(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:ce},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function sv(t){var s=iv(t);s.next===null&&(s=t.alternate.memoizedState),gl(t,s.next.queue,{},An())}function Nf(){return Ht(Ml)}function rv(){return vt().memoizedState}function av(){return vt().memoizedState}function VT(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=An();t=Fs(a);var l=qs(s,t,a);l!==null&&(fn(l,s,a),hl(l,s,a)),s={cache:nf()},t.payload=s;return}s=s.return}}function LT(t,s,a){var l=An();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},wc(t)?lv(s,a):(a=Gd(t,s,a,l),a!==null&&(fn(a,t,l),uv(a,s,l)))}function ov(t,s,a){var l=An();gl(t,s,a,l)}function gl(t,s,a,l){var d={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(wc(t))lv(s,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var _=s.lastRenderedState,w=f(_,a);if(d.hasEagerState=!0,d.eagerState=w,bn(w,_))return ic(t,s,d,0),nt===null&&nc(),!1}catch{}finally{}if(a=Gd(t,s,d,l),a!==null)return fn(a,t,l),uv(a,s,l),!0}return!1}function Cf(t,s,a,l){if(l={lane:2,revertLane:om(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},wc(t)){if(s)throw Error(r(479))}else s=Gd(t,a,l,2),s!==null&&fn(s,t,2)}function wc(t){var s=t.alternate;return t===Ce||s!==null&&s===Ce}function lv(t,s){Ya=gc=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function uv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,Lo(t,a)}}var yl={readContext:Ht,use:_c,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};yl.useEffectEvent=dt;var cv={readContext:Ht,use:_c,useCallback:function(t,s){return sn().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:Qy,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,Wy.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Ec(4194308,4,t,s)},useInsertionEffect:function(t,s){Ec(4,2,t,s)},useMemo:function(t,s){var a=sn();s=s===void 0?null:s;var l=t();if(Zr){Cn(!0);try{t()}finally{Cn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=sn();if(a!==void 0){var d=a(s);if(Zr){Cn(!0);try{a(s)}finally{Cn(!1)}}}else d=s;return l.memoizedState=l.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},l.queue=t,t=t.dispatch=LT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var s=sn();return t={current:t},s.memoizedState=t},useState:function(t){t=xf(t);var s=t.queue,a=ov.bind(null,Ce,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:Sf,useDeferredValue:function(t,s){var a=sn();return Af(a,t,s)},useTransition:function(){var t=xf(!1);return t=nv.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=Ce,d=sn();if(ze){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),nt===null)throw Error(r(349));(Pe&127)!==0||Dy(l,s,a)}d.memoizedState=a;var f={value:a,getSnapshot:s};return d.queue=f,Qy(My.bind(null,l,f,t),[t]),l.flags|=2048,Xa(9,{destroy:void 0},Oy.bind(null,l,f,a,s),null),a},useId:function(){var t=sn(),s=nt.identifierPrefix;if(ze){var a=Oi,l=Di;a=(l&~(1<<32-pt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=yc++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=DT++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:Nf,useFormState:Fy,useActionState:Fy,useOptimistic:function(t){var s=sn();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=Cf.bind(null,Ce,!0,a),a.dispatch=s,[t,s]},useMemoCache:_f,useCacheRefresh:function(){return sn().memoizedState=VT.bind(null,Ce)},useEffectEvent:function(t){var s=sn(),a={impl:t};return s.memoizedState=a,function(){if((Ke&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:Ht,use:_c,useCallback:Zy,useContext:Ht,useEffect:Tf,useImperativeHandle:Jy,useInsertionEffect:$y,useLayoutEffect:Xy,useMemo:ev,useReducer:bc,useRef:Ky,useState:function(){return bc(is)},useDebugValue:Sf,useDeferredValue:function(t,s){var a=vt();return tv(a,Ze.memoizedState,t,s)},useTransition:function(){var t=bc(is)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:pl(t),s]},useSyncExternalStore:Iy,useId:rv,useHostTransitionStatus:Nf,useFormState:qy,useActionState:qy,useOptimistic:function(t,s){var a=vt();return ky(a,Ze,t,s)},useMemoCache:_f,useCacheRefresh:av};If.useEffectEvent=Yy;var hv={readContext:Ht,use:_c,useCallback:Zy,useContext:Ht,useEffect:Tf,useImperativeHandle:Jy,useInsertionEffect:$y,useLayoutEffect:Xy,useMemo:ev,useReducer:Ef,useRef:Ky,useState:function(){return Ef(is)},useDebugValue:Sf,useDeferredValue:function(t,s){var a=vt();return Ze===null?Af(a,t,s):tv(a,Ze.memoizedState,t,s)},useTransition:function(){var t=Ef(is)[0],s=vt().memoizedState;return[typeof t=="boolean"?t:pl(t),s]},useSyncExternalStore:Iy,useId:rv,useHostTransitionStatus:Nf,useFormState:Gy,useActionState:Gy,useOptimistic:function(t,s){var a=vt();return Ze!==null?ky(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:av};hv.useEffectEvent=Yy;function Df(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:x({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=An(),d=Fs(l);d.payload=s,a!=null&&(d.callback=a),s=qs(t,d,l),s!==null&&(fn(s,t,l),hl(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=An(),d=Fs(l);d.tag=1,d.payload=s,a!=null&&(d.callback=a),s=qs(t,d,l),s!==null&&(fn(s,t,l),hl(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=An(),l=Fs(a);l.tag=2,s!=null&&(l.callback=s),s=qs(t,l,a),s!==null&&(fn(s,t,a),hl(s,t,a))}};function dv(t,s,a,l,d,f,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,_):s.prototype&&s.prototype.isPureReactComponent?!il(a,l)||!il(d,f):!0}function fv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&Of.enqueueReplaceState(s,s.state,null)}function ea(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=x({},a));for(var d in t)a[d]===void 0&&(a[d]=t[d])}return a}function mv(t){tc(t)}function pv(t){console.error(t)}function gv(t){tc(t)}function Tc(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function yv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Mf(t,s,a){return a=Fs(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,s)},a}function vv(t){return t=Fs(t),t.tag=3,t}function _v(t,s,a,l){var d=a.type.getDerivedStateFromError;if(typeof d=="function"){var f=l.value;t.payload=function(){return d(f)},t.callback=function(){yv(s,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){yv(s,a,l),typeof d!="function"&&($s===null?$s=new Set([this]):$s.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function UT(t,s,a,l,d){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Fa(s,a,d,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?kc():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=d,l===hc?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),sm(t,l,d)),!1;case 22:return a.flags|=65536,l===hc?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),sm(t,l,d)),!1}throw Error(r(435,a.tag))}return sm(t,l,d),kc(),!1}if(ze)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,l!==Wd&&(t=Error(r(422),{cause:l}),al(Pn(t,a)))):(l!==Wd&&(s=Error(r(423),{cause:l}),al(Pn(s,a))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,l=Pn(l,a),d=Mf(t.stateNode,l,d),uf(t,d),ft!==4&&(ft=2)),!1;var f=Error(r(520),{cause:l});if(f=Pn(f,a),Sl===null?Sl=[f]:Sl.push(f),ft!==4&&(ft=2),s===null)return!0;l=Pn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=d&-d,a.lanes|=t,t=Mf(a.stateNode,l,t),uf(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&($s===null||!$s.has(f))))return a.flags|=65536,d&=-d,a.lanes|=d,d=vv(d),_v(d,t,a,l),uf(a,d),!1}a=a.return}while(a!==null);return!1}var jf=Error(r(461)),Rt=!1;function Gt(t,s,a,l){s.child=t===null?wy(s,null,a,l):Jr(s,t.child,a,l)}function bv(t,s,a,l,d){a=a.render;var f=s.ref;if("ref"in l){var _={};for(var w in l)w!=="ref"&&(_[w]=l[w])}else _=l;return Yr(s),l=pf(t,s,a,_,f,d),w=gf(),t!==null&&!Rt?(yf(t,s,d),ss(t,s,d)):(ze&&w&&$d(s),s.flags|=1,Gt(t,s,l,d),s.child)}function Ev(t,s,a,l,d){if(t===null){var f=a.type;return typeof f=="function"&&!Kd(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,xv(t,s,f,l,d)):(t=rc(a.type,null,l,s,s.mode,d),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!Ff(t,d)){var _=f.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(_,l)&&t.ref===s.ref)return ss(t,s,d)}return s.flags|=1,t=Ji(f,l),t.ref=s.ref,t.return=s,s.child=t}function xv(t,s,a,l,d){if(t!==null){var f=t.memoizedProps;if(il(f,l)&&t.ref===s.ref)if(Rt=!1,s.pendingProps=l=f,Ff(t,d))(t.flags&131072)!==0&&(Rt=!0);else return s.lanes=t.lanes,ss(t,s,d)}return Pf(t,s,a,l,d)}function wv(t,s,a,l){var d=l.children,f=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,t!==null){for(l=s.child=t.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~f}else l=0,s.child=null;return Tv(t,s,f,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&uc(s,f!==null?f.cachePool:null),f!==null?Ay(s,f):hf(),Ry(s);else return l=s.lanes=536870912,Tv(t,s,f!==null?f.baseLanes|a:a,a,l)}else f!==null?(uc(s,f.cachePool),Ay(s,f),Gs(),s.memoizedState=null):(t!==null&&uc(s,null),hf(),Gs());return Gt(t,s,d,a),s.child}function vl(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Tv(t,s,a,l,d){var f=rf();return f=f===null?null:{parent:St._currentValue,pool:f},s.memoizedState={baseLanes:a,cachePool:f},t!==null&&uc(s,null),hf(),Ry(s),t!==null&&Fa(t,s,l,!0),s.childLanes=d,null}function Sc(t,s){return s=Rc({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function Sv(t,s,a){return Jr(s,t.child,null,a),t=Sc(s,s.pendingProps),t.flags|=2,wn(s),s.memoizedState=null,t}function zT(t,s,a){var l=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(ze){if(l.mode==="hidden")return t=Sc(s,l),s.lanes=536870912,vl(null,t);if(ff(s),(t=st)?(t=V_(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ly(t),a.return=s,s.child=a,qt=s,st=null)):t=null,t===null)throw Us(s);return s.lanes=536870912,null}return Sc(s,l)}var f=t.memoizedState;if(f!==null){var _=f.dehydrated;if(ff(s),d)if(s.flags&256)s.flags&=-257,s=Sv(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(r(558));else if(Rt||Fa(t,s,a,!1),d=(a&t.childLanes)!==0,Rt||d){if(l=nt,l!==null&&(_=Uo(l,a),_!==0&&_!==f.retryLane))throw f.retryLane=_,Hr(t,_),fn(l,t,_),jf;kc(),s=Sv(t,s,a)}else t=f.treeContext,st=zn(_.nextSibling),qt=s,ze=!0,Ls=null,Ln=!1,t!==null&&hy(s,t),s=Sc(s,l),s.flags|=4096;return s}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function Ac(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Pf(t,s,a,l,d){return Yr(s),a=pf(t,s,a,l,void 0,d),l=gf(),t!==null&&!Rt?(yf(t,s,d),ss(t,s,d)):(ze&&l&&$d(s),s.flags|=1,Gt(t,s,a,d),s.child)}function Av(t,s,a,l,d,f){return Yr(s),s.updateQueue=null,a=Cy(s,l,a,d),Ny(t),l=gf(),t!==null&&!Rt?(yf(t,s,f),ss(t,s,f)):(ze&&l&&$d(s),s.flags|=1,Gt(t,s,a,f),s.child)}function Rv(t,s,a,l,d){if(Yr(s),s.stateNode===null){var f=La,_=a.contextType;typeof _=="object"&&_!==null&&(f=Ht(_)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},of(s),_=a.contextType,f.context=typeof _=="object"&&_!==null?Ht(_):La,f.state=s.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Df(s,a,_,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(_=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),_!==f.state&&Of.enqueueReplaceState(f,f.state,null),fl(s,l,f,d),dl(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var w=s.memoizedProps,D=ea(a,w);f.props=D;var G=f.context,Z=a.contextType;_=La,typeof Z=="object"&&Z!==null&&(_=Ht(Z));var te=a.getDerivedStateFromProps;Z=typeof te=="function"||typeof f.getSnapshotBeforeUpdate=="function",w=s.pendingProps!==w,Z||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(w||G!==_)&&fv(s,f,l,_),Bs=!1;var K=s.memoizedState;f.state=K,fl(s,l,f,d),dl(),G=s.memoizedState,w||K!==G||Bs?(typeof te=="function"&&(Df(s,a,te,l),G=s.memoizedState),(D=Bs||dv(s,a,D,l,K,G,_))?(Z||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=G),f.props=l,f.state=G,f.context=_,l=D):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,lf(t,s),_=s.memoizedProps,Z=ea(a,_),f.props=Z,te=s.pendingProps,K=f.context,G=a.contextType,D=La,typeof G=="object"&&G!==null&&(D=Ht(G)),w=a.getDerivedStateFromProps,(G=typeof w=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(_!==te||K!==D)&&fv(s,f,l,D),Bs=!1,K=s.memoizedState,f.state=K,fl(s,l,f,d),dl();var X=s.memoizedState;_!==te||K!==X||Bs||t!==null&&t.dependencies!==null&&oc(t.dependencies)?(typeof w=="function"&&(Df(s,a,w,l),X=s.memoizedState),(Z=Bs||dv(s,a,Z,l,K,X,D)||t!==null&&t.dependencies!==null&&oc(t.dependencies))?(G||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,X,D),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,X,D)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),f.props=l,f.state=X,f.context=D,l=Z):(typeof f.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Ac(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=Jr(s,t.child,null,d),s.child=Jr(s,null,a,d)):Gt(t,s,a,d),s.memoizedState=f.state,t=s.child):t=ss(t,s,d),t}function Nv(t,s,a,l){return Kr(),s.flags|=256,Gt(t,s,a,l),s.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(t){return{baseLanes:t,cachePool:yy()}}function Lf(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Sn),t}function Cv(t,s,a){var l=s.pendingProps,d=!1,f=(s.flags&128)!==0,_;if((_=f)||(_=t!==null&&t.memoizedState===null?!1:(yt.current&2)!==0),_&&(d=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,t===null){if(ze){if(d?Hs(s):Gs(),(t=st)?(t=V_(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:Vs!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},a=ly(t),a.return=s,s.child=a,qt=s,st=null)):t=null,t===null)throw Us(s);return bm(t)?s.lanes=32:s.lanes=536870912,null}var w=l.children;return l=l.fallback,d?(Gs(),d=s.mode,w=Rc({mode:"hidden",children:w},d),l=Gr(l,d,a,null),w.return=s,l.return=s,w.sibling=l,s.child=w,l=s.child,l.memoizedState=Vf(a),l.childLanes=Lf(t,_,a),s.memoizedState=kf,vl(null,l)):(Hs(s),Uf(s,w))}var D=t.memoizedState;if(D!==null&&(w=D.dehydrated,w!==null)){if(f)s.flags&256?(Hs(s),s.flags&=-257,s=zf(t,s,a)):s.memoizedState!==null?(Gs(),s.child=t.child,s.flags|=128,s=null):(Gs(),w=l.fallback,d=s.mode,l=Rc({mode:"visible",children:l.children},d),w=Gr(w,d,a,null),w.flags|=2,l.return=s,w.return=s,l.sibling=w,s.child=l,Jr(s,t.child,null,a),l=s.child,l.memoizedState=Vf(a),l.childLanes=Lf(t,_,a),s.memoizedState=kf,s=vl(null,l));else if(Hs(s),bm(w)){if(_=w.nextSibling&&w.nextSibling.dataset,_)var G=_.dgst;_=G,l=Error(r(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),s=zf(t,s,a)}else if(Rt||Fa(t,s,a,!1),_=(a&t.childLanes)!==0,Rt||_){if(_=nt,_!==null&&(l=Uo(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Hr(t,l),fn(_,t,l),jf;_m(w)||kc(),s=zf(t,s,a)}else _m(w)?(s.flags|=192,s.child=t.child,s=null):(t=D.treeContext,st=zn(w.nextSibling),qt=s,ze=!0,Ls=null,Ln=!1,t!==null&&hy(s,t),s=Uf(s,l.children),s.flags|=4096);return s}return d?(Gs(),w=l.fallback,d=s.mode,D=t.child,G=D.sibling,l=Ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,G!==null?w=Ji(G,w):(w=Gr(w,d,a,null),w.flags|=2),w.return=s,l.return=s,l.sibling=w,s.child=l,vl(null,l),l=s.child,w=t.child.memoizedState,w===null?w=Vf(a):(d=w.cachePool,d!==null?(D=St._currentValue,d=d.parent!==D?{parent:D,pool:D}:d):d=yy(),w={baseLanes:w.baseLanes|a,cachePool:d}),l.memoizedState=w,l.childLanes=Lf(t,_,a),s.memoizedState=kf,vl(t.child,l)):(Hs(s),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(_=s.deletions,_===null?(s.deletions=[t],s.flags|=16):_.push(t)),s.child=a,s.memoizedState=null,a)}function Uf(t,s){return s=Rc({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function Rc(t,s){return t=En(22,t,null,s),t.lanes=0,t}function zf(t,s,a){return Jr(s,t.child,null,a),t=Uf(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Iv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),ef(t.return,s,a)}function Bf(t,s,a,l,d,f){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:d,treeForkCount:f}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=d,_.treeForkCount=f)}function Dv(t,s,a){var l=s.pendingProps,d=l.revealOrder,f=l.tail;l=l.children;var _=yt.current,w=(_&2)!==0;if(w?(_=_&1|2,s.flags|=128):_&=1,le(yt,_),Gt(t,s,l,a),l=ze?rl:0,!w&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iv(t,a,s);else if(t.tag===19)Iv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(d){case"forwards":for(a=s.child,d=null;a!==null;)t=a.alternate,t!==null&&pc(t)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),Bf(s,!1,d,a,f,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(t=d.alternate,t!==null&&pc(t)===null){s.child=d;break}t=d.sibling,d.sibling=a,a=d,d=t}Bf(s,!0,a,null,f,l);break;case"together":Bf(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function ss(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Ys|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Fa(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Ji(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ff(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&oc(t)))}function BT(t,s,a){switch(s.tag){case 3:Mt(s,s.stateNode.containerInfo),zs(s,St,t.memoizedState.cache),Kr();break;case 27:case 5:Ar(s);break;case 4:Mt(s,s.stateNode.containerInfo);break;case 10:zs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,ff(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Hs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Cv(t,s,a):(Hs(s),t=ss(t,s,a),t!==null?t.sibling:null);Hs(s);break;case 19:var d=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Fa(t,s,a,!1),l=(a&s.childLanes)!==0),d){if(l)return Dv(t,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),le(yt,yt.current),l)break;return null;case 22:return s.lanes=0,wv(t,s,a,s.pendingProps);case 24:zs(s,St,t.memoizedState.cache)}return ss(t,s,a)}function Ov(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Rt=!0;else{if(!Ff(t,a)&&(s.flags&128)===0)return Rt=!1,BT(t,s,a);Rt=(t.flags&131072)!==0}else Rt=!1,ze&&(s.flags&1048576)!==0&&cy(s,rl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=Xr(s.elementType),s.type=t,typeof t=="function")Kd(t)?(l=ea(t,l),s.tag=1,s=Rv(null,s,t,l,a)):(s.tag=0,s=Pf(null,s,t,l,a));else{if(t!=null){var d=t.$$typeof;if(d===re){s.tag=11,s=bv(null,s,t,l,a);break e}else if(d===C){s.tag=14,s=Ev(null,s,t,l,a);break e}}throw s=pe(t)||t,Error(r(306,s,""))}}return s;case 0:return Pf(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,d=ea(l,s.pendingProps),Rv(t,s,l,d,a);case 3:e:{if(Mt(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var f=s.memoizedState;d=f.element,lf(t,s),fl(s,l,null,a);var _=s.memoizedState;if(l=_.cache,zs(s,St,l),l!==f.cache&&tf(s,[St],a,!0),dl(),l=_.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=Nv(t,s,l,a);break e}else if(l!==d){d=Pn(Error(r(424)),s),al(d),s=Nv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=zn(t.firstChild),qt=s,ze=!0,Ls=null,Ln=!0,a=wy(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Kr(),l===d){s=ss(t,s,a);break e}Gt(t,s,l,a)}s=s.child}return s;case 26:return Ac(t,s),t===null?(a=q_(s.type,null,s.pendingProps,null))?s.memoizedState=a:ze||(a=s.type,t=s.pendingProps,l=qc(Se.current).createElement(a),l[xt]=s,l[Vt]=t,Kt(l,a,t),wt(l),s.stateNode=l):s.memoizedState=q_(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return Ar(s),t===null&&ze&&(l=s.stateNode=z_(s.type,s.pendingProps,Se.current),qt=s,Ln=!0,d=st,Zs(s.type)?(Em=d,st=zn(l.firstChild)):st=d),Gt(t,s,s.pendingProps.children,a),Ac(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&ze&&((d=l=st)&&(l=yS(l,s.type,s.pendingProps,Ln),l!==null?(s.stateNode=l,qt=s,st=zn(l.firstChild),Ln=!1,d=!0):d=!1),d||Us(s)),Ar(s),d=s.type,f=s.pendingProps,_=t!==null?t.memoizedProps:null,l=f.children,gm(d,f)?l=null:_!==null&&gm(d,_)&&(s.flags|=32),s.memoizedState!==null&&(d=pf(t,s,OT,null,null,a),Ml._currentValue=d),Ac(t,s),Gt(t,s,l,a),s.child;case 6:return t===null&&ze&&((t=a=st)&&(a=vS(a,s.pendingProps,Ln),a!==null?(s.stateNode=a,qt=s,st=null,t=!0):t=!1),t||Us(s)),null;case 13:return Cv(t,s,a);case 4:return Mt(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=Jr(s,null,l,a):Gt(t,s,l,a),s.child;case 11:return bv(t,s,s.type,s.pendingProps,a);case 7:return Gt(t,s,s.pendingProps,a),s.child;case 8:return Gt(t,s,s.pendingProps.children,a),s.child;case 12:return Gt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,zs(s,s.type,l.value),Gt(t,s,l.children,a),s.child;case 9:return d=s.type._context,l=s.pendingProps.children,Yr(s),d=Ht(d),l=l(d),s.flags|=1,Gt(t,s,l,a),s.child;case 14:return Ev(t,s,s.type,s.pendingProps,a);case 15:return xv(t,s,s.type,s.pendingProps,a);case 19:return Dv(t,s,a);case 31:return zT(t,s,a);case 22:return wv(t,s,a,s.pendingProps);case 24:return Yr(s),l=Ht(St),t===null?(d=rf(),d===null&&(d=nt,f=nf(),d.pooledCache=f,f.refCount++,f!==null&&(d.pooledCacheLanes|=a),d=f),s.memoizedState={parent:l,cache:d},of(s),zs(s,St,d)):((t.lanes&a)!==0&&(lf(t,s),fl(s,null,null,a),dl()),d=t.memoizedState,f=s.memoizedState,d.parent!==l?(d={parent:l,cache:l},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),zs(s,St,l)):(l=f.cache,zs(s,St,l),l!==d.cache&&tf(s,[St],a,!0))),Gt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function rs(t){t.flags|=4}function qf(t,s,a,l,d){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(d&335544128)===d)if(t.stateNode.complete)t.flags|=8192;else if(r_())t.flags|=8192;else throw Wr=hc,af}else t.flags&=-16777217}function Mv(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Y_(s))if(r_())t.flags|=8192;else throw Wr=hc,af}function Nc(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ju():536870912,t.lanes|=s,eo|=s)}function _l(t,s){if(!ze)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)a|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function FT(t,s,a){var l=s.pendingProps;switch(Xd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return rt(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ts(St),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ba(s)?rs(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Jd())),rt(s),null;case 26:var d=s.type,f=s.memoizedState;return t===null?(rs(s),f!==null?(rt(s),Mv(s,f)):(rt(s),qf(s,d,null,l,a))):f?f!==t.memoizedState?(rs(s),rt(s),Mv(s,f)):(rt(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&rs(s),rt(s),qf(s,d,t,l,a)),null;case 27:if(_a(s),a=Se.current,d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}t=he.current,Ba(s)?dy(s):(t=z_(d,l,a),s.stateNode=t,rs(s))}return rt(s),null;case 5:if(_a(s),d=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return rt(s),null}if(f=he.current,Ba(s))dy(s);else{var _=qc(Se.current);switch(f){case 1:f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":f=_.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":f=_.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":f=_.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?_.createElement(d,{is:l.is}):_.createElement(d)}}f[xt]=s,f[Vt]=l;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)f.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=f;e:switch(Kt(f,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&rs(s)}}return rt(s),qf(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&rs(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=Se.current,Ba(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,d=qt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}t[xt]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||C_(t.nodeValue,a)),t||Us(s,!0)}else t=qc(t).createTextNode(l),t[xt]=s,s.stateNode=t}return rt(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ba(s),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),t=!1}else a=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(wn(s),s):(wn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return rt(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Ba(s),l!==null&&l.dehydrated!==null){if(t===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[xt]=s}else Kr(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;rt(s),d=!1}else d=Jd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(wn(s),s):(wn(s),null)}return wn(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==d&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),Nc(s,s.updateQueue),rt(s),null);case 4:return ot(),t===null&&hm(s.stateNode.containerInfo),rt(s),null;case 10:return ts(s.type),rt(s),null;case 19:if(J(yt),l=s.memoizedState,l===null)return rt(s),null;if(d=(s.flags&128)!==0,f=l.rendering,f===null)if(d)_l(l,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=pc(t),f!==null){for(s.flags|=128,_l(l,!1),t=f.updateQueue,s.updateQueue=t,Nc(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)oy(a,t),a=a.sibling;return le(yt,yt.current&1|2),ze&&Zi(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&tn()>Mc&&(s.flags|=128,d=!0,_l(l,!1),s.lanes=4194304)}else{if(!d)if(t=pc(f),t!==null){if(s.flags|=128,d=!0,t=t.updateQueue,s.updateQueue=t,Nc(s,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!ze)return rt(s),null}else 2*tn()-l.renderingStartTime>Mc&&a!==536870912&&(s.flags|=128,d=!0,_l(l,!1),s.lanes=4194304);l.isBackwards?(f.sibling=s.child,s.child=f):(t=l.last,t!==null?t.sibling=f:s.child=f,l.last=f)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=tn(),t.sibling=null,a=yt.current,le(yt,d?a&1|2:a&1),ze&&Zi(s,l.treeForkCount),t):(rt(s),null);case 22:case 23:return wn(s),df(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),a=s.updateQueue,a!==null&&Nc(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&J($r),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ts(St),rt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function qT(t,s){switch(Xd(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ts(St),ot(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return _a(s),null;case 31:if(s.memoizedState!==null){if(wn(s),s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(wn(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Kr()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return J(yt),null;case 4:return ot(),null;case 10:return ts(s.type),null;case 22:case 23:return wn(s),df(),t!==null&&J($r),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ts(St),null;case 25:return null;default:return null}}function jv(t,s){switch(Xd(s),s.tag){case 3:ts(St),ot();break;case 26:case 27:case 5:_a(s);break;case 4:ot();break;case 31:s.memoizedState!==null&&wn(s);break;case 13:wn(s);break;case 19:J(yt);break;case 10:ts(s.type);break;case 22:case 23:wn(s),df(),t!==null&&J($r);break;case 24:ts(St)}}function bl(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var d=l.next;a=d;do{if((a.tag&t)===t){l=void 0;var f=a.create,_=a.inst;l=f(),_.destroy=l}a=a.next}while(a!==d)}}catch(w){We(s,s.return,w)}}function Ks(t,s,a){try{var l=s.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var f=d.next;l=f;do{if((l.tag&t)===t){var _=l.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,d=s;var D=a,G=w;try{G()}catch(Z){We(d,D,Z)}}}l=l.next}while(l!==f)}}catch(Z){We(s,s.return,Z)}}function Pv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{Sy(s,a)}catch(l){We(t,t.return,l)}}}function kv(t,s,a){a.props=ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,s,l)}}function El(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(d){We(t,s,d)}}function Mi(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(d){We(t,s,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(d){We(t,s,d)}else a.current=null}function Vv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(d){We(t,t.return,d)}}function Hf(t,s,a){try{var l=t.stateNode;hS(l,t.type,a,s),l[Vt]=s}catch(d){We(t,t.return,d)}}function Lv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zs(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kf(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Jn));else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Kf(t,s,a),t=t.sibling;t!==null;)Kf(t,s,a),t=t.sibling}function Cc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Zs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Cc(t,s,a),t=t.sibling;t!==null;)Cc(t,s,a),t=t.sibling}function Uv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);Kt(s,l,a),s[xt]=t,s[Vt]=a}catch(f){We(t,t.return,f)}}var as=!1,Nt=!1,Qf=!1,zv=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function HT(t,s){if(t=t.containerInfo,mm=Xc,t=Jg(t),Ud(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var d=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var _=0,w=-1,D=-1,G=0,Z=0,te=t,K=null;t:for(;;){for(var X;te!==a||d!==0&&te.nodeType!==3||(w=_+d),te!==f||l!==0&&te.nodeType!==3||(D=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(X=te.firstChild)!==null;)K=te,te=X;for(;;){if(te===t)break t;if(K===a&&++G===d&&(w=_),K===f&&++Z===l&&(D=_),(X=te.nextSibling)!==null)break;te=K,K=te.parentNode}te=X}a=w===-1||D===-1?null:{start:w,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:t,selectionRange:a},Xc=!1,Ut=s;Ut!==null;)if(s=Ut,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,Ut=t;else for(;Ut!==null;){switch(s=Ut,f=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)d=t[a],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,d=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var me=ea(a.type,d);t=l.getSnapshotBeforeUpdate(me,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){We(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)vm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":vm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Ut=t;break}Ut=s.return}}function Bv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ls(t,a),l&4&&bl(5,a);break;case 1:if(ls(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(_){We(a,a.return,_)}else{var d=ea(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(d,s,t.__reactInternalSnapshotBeforeUpdate)}catch(_){We(a,a.return,_)}}l&64&&Pv(a),l&512&&El(a,a.return);break;case 3:if(ls(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{Sy(t,s)}catch(_){We(a,a.return,_)}}break;case 27:s===null&&l&4&&Uv(a);case 26:case 5:ls(t,a),s===null&&l&4&&Vv(a),l&512&&El(a,a.return);break;case 12:ls(t,a);break;case 31:ls(t,a),l&4&&Hv(t,a);break;case 13:ls(t,a),l&4&&Gv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ZT.bind(null,a),_S(t,a))));break;case 22:if(l=a.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||Nt,d=as;var f=Nt;as=l,(Nt=s)&&!f?us(t,a,(a.subtreeFlags&8772)!==0):ls(t,a),as=d,Nt=f}break;case 30:break;default:ls(t,a)}}function Fv(t){var s=t.alternate;s!==null&&(t.alternate=null,Fv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&Ta(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,un=!1;function os(t,s,a){for(a=a.child;a!==null;)qv(t,s,a),a=a.sibling}function qv(t,s,a){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Nt||Mi(a,s),os(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Nt||Mi(a,s);var l=ut,d=un;Zs(a.type)&&(ut=a.stateNode,un=!1),os(t,s,a),Il(a.stateNode),ut=l,un=d;break;case 5:Nt||Mi(a,s);case 6:if(l=ut,d=un,ut=null,os(t,s,a),ut=l,un=d,ut!==null)if(un)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(f){We(a,s,f)}else try{ut.removeChild(a.stateNode)}catch(f){We(a,s,f)}break;case 18:ut!==null&&(un?(t=ut,P_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),lo(t)):P_(ut,a.stateNode));break;case 4:l=ut,d=un,ut=a.stateNode.containerInfo,un=!0,os(t,s,a),ut=l,un=d;break;case 0:case 11:case 14:case 15:Ks(2,a,s),Nt||Ks(4,a,s),os(t,s,a);break;case 1:Nt||(Mi(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kv(a,s,l)),os(t,s,a);break;case 21:os(t,s,a);break;case 22:Nt=(l=Nt)||a.memoizedState!==null,os(t,s,a),Nt=l;break;default:os(t,s,a)}}function Hv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{lo(t)}catch(a){We(s,s.return,a)}}}function Gv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{lo(t)}catch(a){We(s,s.return,a)}}function GT(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new zv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new zv),s;default:throw Error(r(435,t.tag))}}function Ic(t,s){var a=GT(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var d=eS.bind(null,t,l);l.then(d,d)}})}function cn(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var d=a[l],f=t,_=s,w=_;e:for(;w!==null;){switch(w.tag){case 27:if(Zs(w.type)){ut=w.stateNode,un=!1;break e}break;case 5:ut=w.stateNode,un=!1;break e;case 3:case 4:ut=w.stateNode.containerInfo,un=!0;break e}w=w.return}if(ut===null)throw Error(r(160));qv(f,_,d),ut=null,un=!1,f=d.alternate,f!==null&&(f.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Kv(s,t),s=s.sibling}var si=null;function Kv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:cn(s,t),hn(t),l&4&&(Ks(3,t,t.return),bl(3,t),Ks(5,t,t.return));break;case 1:cn(s,t),hn(t),l&512&&(Nt||a===null||Mi(a,a.return)),l&64&&as&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var d=si;if(cn(s,t),hn(t),l&512&&(Nt||a===null||Mi(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":f=d.getElementsByTagName("title")[0],(!f||f[_i]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=d.createElement(l),d.head.insertBefore(f,d.querySelector("head > title"))),Kt(f,l,a),f[xt]=t,wt(f),l=f;break e;case"link":var _=K_("link","href",d).get(l+(a.href||""));if(_){for(var w=0;w<_.length;w++)if(f=_[w],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(w,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;case"meta":if(_=K_("meta","content",d).get(l+(a.content||""))){for(w=0;w<_.length;w++)if(f=_[w],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(w,1);break t}}f=d.createElement(l),Kt(f,l,a),d.head.appendChild(f);break;default:throw Error(r(468,l))}f[xt]=t,wt(f),l=f}t.stateNode=l}else Q_(d,t.type,t.stateNode);else t.stateNode=G_(d,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Q_(d,t.type,t.stateNode):G_(d,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,a.memoizedProps)}break;case 27:cn(s,t),hn(t),l&512&&(Nt||a===null||Mi(a,a.return)),a!==null&&l&4&&Hf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(cn(s,t),hn(t),l&512&&(Nt||a===null||Mi(a,a.return)),t.flags&32){d=t.stateNode;try{ln(d,"")}catch(me){We(t,t.return,me)}}l&4&&t.stateNode!=null&&(d=t.memoizedProps,Hf(t,d,a!==null?a.memoizedProps:d)),l&1024&&(Qf=!0);break;case 6:if(cn(s,t),hn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){We(t,t.return,me)}}break;case 3:if(Kc=null,d=si,si=Hc(s.containerInfo),cn(s,t),si=d,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{lo(s.containerInfo)}catch(me){We(t,t.return,me)}Qf&&(Qf=!1,Qv(t));break;case 4:l=si,si=Hc(t.stateNode.containerInfo),cn(s,t),hn(t),si=l;break;case 12:cn(s,t),hn(t);break;case 31:cn(s,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 13:cn(s,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Oc=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 22:d=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,G=as,Z=Nt;if(as=G||d,Nt=Z||D,cn(s,t),Nt=Z,as=G,hn(t),l&8192)e:for(s=t.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(a===null||D||as||Nt||ta(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){D=a=s;try{if(f=D.stateNode,d)_=f.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{w=D.stateNode;var te=D.memoizedProps.style,K=te!=null&&te.hasOwnProperty("display")?te.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){We(D,D.return,me)}}}else if(s.tag===6){if(a===null){D=s;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(me){We(D,D.return,me)}}}else if(s.tag===18){if(a===null){D=s;try{var X=D.stateNode;d?k_(X,!0):k_(D.stateNode,!1)}catch(me){We(D,D.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(t,a))));break;case 19:cn(s,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ic(t,l)));break;case 30:break;case 21:break;default:cn(s,t),hn(t)}}function hn(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Lv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var d=a.stateNode,f=Gf(t);Cc(t,f,d);break;case 5:var _=a.stateNode;a.flags&32&&(ln(_,""),a.flags&=-33);var w=Gf(t);Cc(t,w,_);break;case 3:case 4:var D=a.stateNode.containerInfo,G=Gf(t);Kf(t,G,D);break;default:throw Error(r(161))}}catch(Z){We(t,t.return,Z)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Qv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Qv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function ls(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Bv(t,s.alternate,s),s=s.sibling}function ta(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ks(4,s,s.return),ta(s);break;case 1:Mi(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kv(s,s.return,a),ta(s);break;case 27:Il(s.stateNode);case 26:case 5:Mi(s,s.return),ta(s);break;case 22:s.memoizedState===null&&ta(s);break;case 30:ta(s);break;default:ta(s)}t=t.sibling}}function us(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,d=t,f=s,_=f.flags;switch(f.tag){case 0:case 11:case 15:us(d,f,a),bl(4,f);break;case 1:if(us(d,f,a),l=f,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(G){We(l,l.return,G)}if(l=f,d=l.updateQueue,d!==null){var w=l.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)Ty(D[d],w)}catch(G){We(l,l.return,G)}}a&&_&64&&Pv(f),El(f,f.return);break;case 27:Uv(f);case 26:case 5:us(d,f,a),a&&l===null&&_&4&&Vv(f),El(f,f.return);break;case 12:us(d,f,a);break;case 31:us(d,f,a),a&&_&4&&Hv(d,f);break;case 13:us(d,f,a),a&&_&4&&Gv(d,f);break;case 22:f.memoizedState===null&&us(d,f,a),El(f,f.return);break;case 30:break;default:us(d,f,a)}s=s.sibling}}function Yf(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function $f(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ol(t))}function ri(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Yv(t,s,a,l),s=s.sibling}function Yv(t,s,a,l){var d=s.flags;switch(s.tag){case 0:case 11:case 15:ri(t,s,a,l),d&2048&&bl(9,s);break;case 1:ri(t,s,a,l);break;case 3:ri(t,s,a,l),d&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&ol(t)));break;case 12:if(d&2048){ri(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,_=f.id,w=f.onPostCommit;typeof w=="function"&&w(_,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){We(s,s.return,D)}}else ri(t,s,a,l);break;case 31:ri(t,s,a,l);break;case 13:ri(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,_=s.alternate,s.memoizedState!==null?f._visibility&2?ri(t,s,a,l):xl(t,s):f._visibility&2?ri(t,s,a,l):(f._visibility|=2,Wa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Yf(_,s);break;case 24:ri(t,s,a,l),d&2048&&$f(s.alternate,s);break;default:ri(t,s,a,l)}}function Wa(t,s,a,l,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var f=t,_=s,w=a,D=l,G=_.flags;switch(_.tag){case 0:case 11:case 15:Wa(f,_,w,D,d),bl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Wa(f,_,w,D,d):xl(f,_):(Z._visibility|=2,Wa(f,_,w,D,d)),d&&G&2048&&Yf(_.alternate,_);break;case 24:Wa(f,_,w,D,d),d&&G&2048&&$f(_.alternate,_);break;default:Wa(f,_,w,D,d)}s=s.sibling}}function xl(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,d=l.flags;switch(l.tag){case 22:xl(a,l),d&2048&&Yf(l.alternate,l);break;case 24:xl(a,l),d&2048&&$f(l.alternate,l);break;default:xl(a,l)}s=s.sibling}}var wl=8192;function Ja(t,s,a){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)$v(t,s,a),t=t.sibling}function $v(t,s,a){switch(t.tag){case 26:Ja(t,s,a),t.flags&wl&&t.memoizedState!==null&&DS(a,si,t.memoizedState,t.memoizedProps);break;case 5:Ja(t,s,a);break;case 3:case 4:var l=si;si=Hc(t.stateNode.containerInfo),Ja(t,s,a),si=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=wl,wl=16777216,Ja(t,s,a),wl=l):Ja(t,s,a));break;default:Ja(t,s,a)}}function Xv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Tl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,Jv(l,t)}Xv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Wv(t),t=t.sibling}function Wv(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&Ks(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Dc(t)):Tl(t);break;default:Tl(t)}}function Dc(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Ut=l,Jv(l,t)}Xv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ks(8,s,s.return),Dc(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Dc(s));break;default:Dc(s)}t=t.sibling}}function Jv(t,s){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Ks(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var d=l.sibling,f=l.return;if(Fv(l),l===a){Ut=null;break e}if(d!==null){d.return=f,Ut=d;break e}Ut=f}}}var KT={getCacheForType:function(t){var s=Ht(St),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},QT=typeof WeakMap=="function"?WeakMap:Map,Ke=0,nt=null,Me=null,Pe=0,Xe=0,Tn=null,Qs=!1,Za=!1,Xf=!1,cs=0,ft=0,Ys=0,na=0,Wf=0,Sn=0,eo=0,Sl=null,dn=null,Jf=!1,Oc=0,Zv=0,Mc=1/0,jc=null,$s=null,Pt=0,Xs=null,to=null,hs=0,Zf=0,em=null,e_=null,Al=0,tm=null;function An(){return(Ke&2)!==0&&Pe!==0?Pe&-Pe:Y.T!==null?om():Pu()}function t_(){if(Sn===0)if((Pe&536870912)===0||ze){var t=Cr;Cr<<=1,(Cr&3932160)===0&&(Cr=262144),Sn=t}else Sn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Sn}function fn(t,s,a){(t===nt&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(no(t,0),Ws(t,Pe,Sn,!1)),Ir(t,a),((Ke&2)===0||t!==nt)&&(t===nt&&((Ke&2)===0&&(na|=a),ft===4&&Ws(t,Pe,Sn,!1)),ji(t))}function n_(t,s,a){if((Ke&6)!==0)throw Error(r(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||$n(t,s),d=l?XT(t,s):im(t,s,!0),f=l;do{if(d===0){Za&&!l&&Ws(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!YT(a)){d=im(t,s,!1),f=!1;continue}if(d===2){if(f=s,t.errorRecoveryDisabledLanes&f)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var w=t;d=Sl;var D=w.current.memoizedState.isDehydrated;if(D&&(no(w,_).flags|=256),_=im(w,_,!1),_!==2){if(Xf&&!D){w.errorRecoveryDisabledLanes|=f,na|=f,d=4;break e}f=dn,dn=d,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}d=_}if(f=!1,d!==2)continue}}if(d===1){no(t,0),Ws(t,s,0,!0);break}e:{switch(l=t,f=d,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ws(l,s,Sn,!Qs);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Oc+300-tn(),10<d)){if(Ws(l,s,Sn,!Qs),gi(l,0,!0)!==0)break e;hs=s,l.timeoutHandle=M_(i_.bind(null,l,a,dn,jc,Jf,s,Sn,na,eo,Qs,f,"Throttled",-0,0),d);break e}i_(l,a,dn,jc,Jf,s,Sn,na,eo,Qs,f,null,-0,0)}}break}while(!0);ji(t)}function i_(t,s,a,l,d,f,_,w,D,G,Z,te,K,X){if(t.timeoutHandle=-1,te=s.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},$v(s,f,te);var me=(f&62914560)===f?Oc-tn():(f&4194048)===f?Zv-tn():0;if(me=OS(te,me),me!==null){hs=f,t.cancelPendingCommit=me(h_.bind(null,t,s,f,a,l,d,_,w,D,Z,te,null,K,X)),Ws(t,f,_,!G);return}}h_(t,s,f,a,l,d,_,w,D)}function YT(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var d=a[l],f=d.getSnapshot;d=d.value;try{if(!bn(f(),d))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ws(t,s,a,l){s&=~Wf,s&=~na,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var d=s;0<d;){var f=31-pt(d),_=1<<f;l[f]=-1,d&=~_}a!==0&&Dr(t,a,s)}function Pc(){return(Ke&6)===0?(Rl(0),!1):!0}function nm(){if(Me!==null){if(Xe===0)var t=Me.return;else t=Me,es=Qr=null,vf(t),Ka=null,ul=0,t=Me;for(;t!==null;)jv(t.alternate,t),t=t.return;Me=null}}function no(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hs=0,nm(),nt=t,Me=a=Ji(t.current,null),Pe=s,Xe=0,Tn=null,Qs=!1,Za=$n(t,s),Xf=!1,eo=Sn=Wf=na=Ys=ft=0,dn=Sl=null,Jf=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var d=31-pt(l),f=1<<d;s|=t[d],l&=~f}return cs=s,nc(),a}function s_(t,s){Ce=null,Y.H=yl,s===Ga||s===cc?(s=by(),Xe=3):s===af?(s=by(),Xe=4):Xe=s===jf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Tn=s,Me===null&&(ft=1,Tc(t,Pn(s,t.current)))}function r_(){var t=xn.current;return t===null?!0:(Pe&4194048)===Pe?Un===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?t===Un:!1}function a_(){var t=Y.H;return Y.H=yl,t===null?yl:t}function o_(){var t=Y.A;return Y.A=KT,t}function kc(){ft=4,Qs||(Pe&4194048)!==Pe&&xn.current!==null||(Za=!0),(Ys&134217727)===0&&(na&134217727)===0||nt===null||Ws(nt,Pe,Sn,!1)}function im(t,s,a){var l=Ke;Ke|=2;var d=a_(),f=o_();(nt!==t||Pe!==s)&&(jc=null,no(t,s)),s=!1;var _=ft;e:do try{if(Xe!==0&&Me!==null){var w=Me,D=Tn;switch(Xe){case 8:nm(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var G=Xe;if(Xe=0,Tn=null,io(t,w,D,G),a&&Za){_=0;break e}break;default:G=Xe,Xe=0,Tn=null,io(t,w,D,G)}}$T(),_=ft;break}catch(Z){s_(t,Z)}while(!0);return s&&t.shellSuspendCounter++,es=Qr=null,Ke=l,Y.H=d,Y.A=f,Me===null&&(nt=null,Pe=0,nc()),_}function $T(){for(;Me!==null;)l_(Me)}function XT(t,s){var a=Ke;Ke|=2;var l=a_(),d=o_();nt!==t||Pe!==s?(jc=null,Mc=tn()+500,no(t,s)):Za=$n(t,s);e:do try{if(Xe!==0&&Me!==null){s=Me;var f=Tn;t:switch(Xe){case 1:Xe=0,Tn=null,io(t,s,f,1);break;case 2:case 9:if(vy(f)){Xe=0,Tn=null,u_(s);break}s=function(){Xe!==2&&Xe!==9||nt!==t||(Xe=7),ji(t)},f.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:vy(f)?(Xe=0,Tn=null,u_(s)):(Xe=0,Tn=null,io(t,s,f,7));break;case 5:var _=null;switch(Me.tag){case 26:_=Me.memoizedState;case 5:case 27:var w=Me;if(_?Y_(_):w.stateNode.complete){Xe=0,Tn=null;var D=w.sibling;if(D!==null)Me=D;else{var G=w.return;G!==null?(Me=G,Vc(G)):Me=null}break t}}Xe=0,Tn=null,io(t,s,f,5);break;case 6:Xe=0,Tn=null,io(t,s,f,6);break;case 8:nm(),ft=6;break e;default:throw Error(r(462))}}WT();break}catch(Z){s_(t,Z)}while(!0);return es=Qr=null,Y.H=l,Y.A=d,Ke=a,Me!==null?0:(nt=null,Pe=0,nc(),ft)}function WT(){for(;Me!==null&&!Od();)l_(Me)}function l_(t){var s=Ov(t.alternate,t,cs);t.memoizedProps=t.pendingProps,s===null?Vc(t):Me=s}function u_(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Av(a,s,s.pendingProps,s.type,void 0,Pe);break;case 11:s=Av(a,s,s.pendingProps,s.type.render,s.ref,Pe);break;case 5:vf(s);default:jv(a,s),s=Me=oy(s,cs),s=Ov(a,s,cs)}t.memoizedProps=t.pendingProps,s===null?Vc(t):Me=s}function io(t,s,a,l){es=Qr=null,vf(s),Ka=null,ul=0;var d=s.return;try{if(UT(t,d,s,a,Pe)){ft=1,Tc(t,Pn(a,t.current)),Me=null;return}}catch(f){if(d!==null)throw Me=d,f;ft=1,Tc(t,Pn(a,t.current)),Me=null;return}s.flags&32768?(ze||l===1?t=!0:Za||(Pe&536870912)!==0?t=!1:(Qs=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(s,t)):Vc(s)}function Vc(t){var s=t;do{if((s.flags&32768)!==0){c_(s,Qs);return}t=s.return;var a=FT(s.alternate,s,cs);if(a!==null){Me=a;return}if(s=s.sibling,s!==null){Me=s;return}Me=s=t}while(s!==null);ft===0&&(ft=5)}function c_(t,s){do{var a=qT(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);ft=6,Me=null}function h_(t,s,a,l,d,f,_,w,D){t.cancelPendingCommit=null;do Lc();while(Pt!==0);if((Ke&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=Hd,Pd(t,a,f,_,w,D),t===nt&&(Me=nt=null,Pe=0),to=s,Xs=t,hs=a,Zf=f,em=d,e_=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,tS(Rs,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,d=se.p,se.p=2,_=Ke,Ke|=4;try{HT(t,s,a)}finally{Ke=_,se.p=d,Y.T=l}}Pt=1,d_(),f_(),m_()}}function d_(){if(Pt===1){Pt=0;var t=Xs,s=to,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var d=Ke;Ke|=4;try{Kv(s,t);var f=pm,_=Jg(t.containerInfo),w=f.focusedElem,D=f.selectionRange;if(_!==w&&w&&w.ownerDocument&&Wg(w.ownerDocument.documentElement,w)){if(D!==null&&Ud(w)){var G=D.start,Z=D.end;if(Z===void 0&&(Z=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(Z,w.value.length);else{var te=w.ownerDocument||document,K=te&&te.defaultView||window;if(K.getSelection){var X=K.getSelection(),me=w.textContent.length,_e=Math.min(D.start,me),tt=D.end===void 0?_e:Math.min(D.end,me);!X.extend&&_e>tt&&(_=tt,tt=_e,_e=_);var z=Xg(w,_e),j=Xg(w,tt);if(z&&j&&(X.rangeCount!==1||X.anchorNode!==z.node||X.anchorOffset!==z.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var H=te.createRange();H.setStart(z.node,z.offset),X.removeAllRanges(),_e>tt?(X.addRange(H),X.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),X.addRange(H))}}}}for(te=[],X=w;X=X.parentNode;)X.nodeType===1&&te.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<te.length;w++){var ee=te[w];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Xc=!!mm,pm=mm=null}finally{Ke=d,se.p=l,Y.T=a}}t.current=s,Pt=2}}function f_(){if(Pt===2){Pt=0;var t=Xs,s=to,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=se.p;se.p=2;var d=Ke;Ke|=4;try{Bv(t,s.alternate,s)}finally{Ke=d,se.p=l,Y.T=a}}Pt=3}}function m_(){if(Pt===4||Pt===3){Pt=0,Nu();var t=Xs,s=to,a=hs,l=e_;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Pt=5:(Pt=0,to=Xs=null,p_(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&($s=null),Yi(a),s=s.stateNode,Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(Yn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=Y.T,d=se.p,se.p=2,Y.T=null;try{for(var f=t.onRecoverableError,_=0;_<l.length;_++){var w=l[_];f(w.value,{componentStack:w.stack})}}finally{Y.T=s,se.p=d}}(hs&3)!==0&&Lc(),ji(t),d=t.pendingLanes,(a&261930)!==0&&(d&42)!==0?t===tm?Al++:(Al=0,tm=t):Al=0,Rl(0)}}function p_(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,ol(s)))}function Lc(){return d_(),f_(),m_(),g_()}function g_(){if(Pt!==5)return!1;var t=Xs,s=Zf;Zf=0;var a=Yi(hs),l=Y.T,d=se.p;try{se.p=32>a?32:a,Y.T=null,a=em,em=null;var f=Xs,_=hs;if(Pt=0,to=Xs=null,hs=0,(Ke&6)!==0)throw Error(r(331));var w=Ke;if(Ke|=4,Wv(f.current),Yv(f,f.current,_,a),Ke=w,Rl(0,!1),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{se.p=d,Y.T=l,p_(t,s)}}function y_(t,s,a){s=Pn(a,s),s=Mf(t.stateNode,s,2),t=qs(t,s,2),t!==null&&(Ir(t,2),ji(t))}function We(t,s,a){if(t.tag===3)y_(t,t,a);else for(;s!==null;){if(s.tag===3){y_(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&($s===null||!$s.has(l))){t=Pn(a,t),a=vv(2),l=qs(s,a,2),l!==null&&(_v(a,l,s,t),Ir(l,2),ji(l));break}}s=s.return}}function sm(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new QT;var d=new Set;l.set(s,d)}else d=l.get(s),d===void 0&&(d=new Set,l.set(s,d));d.has(a)||(Xf=!0,d.add(a),t=JT.bind(null,t,s,a),s.then(t,t))}function JT(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Pe&a)===a&&(ft===4||ft===3&&(Pe&62914560)===Pe&&300>tn()-Oc?(Ke&2)===0&&no(t,0):Wf|=a,eo===Pe&&(eo=0)),ji(t)}function v_(t,s){s===0&&(s=ju()),t=Hr(t,s),t!==null&&(Ir(t,s),ji(t))}function ZT(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),v_(t,a)}function eS(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,d=t.memoizedState;d!==null&&(a=d.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),v_(t,a)}function tS(t,s){return jt(t,s)}var Uc=null,so=null,rm=!1,zc=!1,am=!1,Js=0;function ji(t){t!==so&&t.next===null&&(so===null?Uc=so=t:so=so.next=t),zc=!0,rm||(rm=!0,iS())}function Rl(t,s){if(!am&&zc){am=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var d=l.pendingLanes;if(d===0)var f=0;else{var _=l.suspendedLanes,w=l.pingedLanes;f=(1<<31-pt(42|t)+1)-1,f&=d&~(_&~w),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,x_(l,f))}else f=Pe,f=gi(l,l===nt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||$n(l,f)||(a=!0,x_(l,f));l=l.next}while(a);am=!1}}function nS(){__()}function __(){zc=rm=!1;var t=0;Js!==0&&fS()&&(t=Js);for(var s=tn(),a=null,l=Uc;l!==null;){var d=l.next,f=b_(l,s);f===0?(l.next=null,a===null?Uc=d:a.next=d,d===null&&(so=a)):(a=l,(t!==0||(f&3)!==0)&&(zc=!0)),l=d}Pt!==0&&Pt!==5||Rl(t),Js!==0&&(Js=0)}function b_(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var _=31-pt(f),w=1<<_,D=d[_];D===-1?((w&a)===0||(w&l)!==0)&&(d[_]=jd(w,s)):D<=s&&(t.expiredLanes|=w),f&=~w}if(s=nt,a=Pe,a=gi(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&As(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||$n(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&As(l),Yi(a)){case 2:case 8:a=Vo;break;case 32:a=Rs;break;case 268435456:a=Cu;break;default:a=Rs}return l=E_.bind(null,t),a=jt(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&As(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,s){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=Pe;return l=gi(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(n_(t,l,s),b_(t,tn()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function x_(t,s){if(Lc())return null;n_(t,s,!0)}function iS(){pS(function(){(Ke&6)!==0?jt(ko,nS):__()})}function om(){if(Js===0){var t=qa;t===0&&(t=mi,mi<<=1,(mi&261888)===0&&(mi=256)),Js=t}return Js}function w_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Na(""+t)}function T_(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function sS(t,s,a,l,d){if(s==="submit"&&a&&a.stateNode===d){var f=w_((d[Vt]||null).action),_=l.submitter;_&&(s=(s=_[Vt]||null)?w_(s.formAction):_.getAttribute("formAction"),s!==null&&(f=s,_=null));var w=new Ri("action","action",null,l,d);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var D=_?T_(d,_):new FormData(d);Rf(a,{pending:!0,data:D,method:d.method,action:f},null,D)}}else typeof f=="function"&&(w.preventDefault(),D=_?T_(d,_):new FormData(d),Rf(a,{pending:!0,data:D,method:d.method,action:f},f,D))},currentTarget:d}]})}}for(var lm=0;lm<qd.length;lm++){var um=qd[lm],rS=um.toLowerCase(),aS=um[0].toUpperCase()+um.slice(1);ii(rS,"on"+aS)}ii(ty,"onAnimationEnd"),ii(ny,"onAnimationIteration"),ii(iy,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(xT,"onTransitionRun"),ii(wT,"onTransitionStart"),ii(TT,"onTransitionCancel"),ii(sy,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function S_(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],d=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var _=l.length-1;0<=_;_--){var w=l[_],D=w.instance,G=w.currentTarget;if(w=w.listener,D!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=G;try{f(d)}catch(Z){tc(Z)}d.currentTarget=null,f=D}else for(_=0;_<l.length;_++){if(w=l[_],D=w.instance,G=w.currentTarget,w=w.listener,D!==f&&d.isPropagationStopped())break e;f=w,d.currentTarget=G;try{f(d)}catch(Z){tc(Z)}d.currentTarget=null,f=D}}}}function je(t,s){var a=s[wa];a===void 0&&(a=s[wa]=new Set);var l=t+"__bubble";a.has(l)||(A_(s,t,2,!1),a.add(l))}function cm(t,s,a){var l=0;s&&(l|=4),A_(a,t,l,s)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function hm(t){if(!t[Bc]){t[Bc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(oS.has(a)||cm(a,!1,t),cm(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Bc]||(s[Bc]=!0,cm("selectionchange",!1,s))}}function A_(t,s,a,l){switch(t0(s)){case 2:var d=PS;break;case 8:d=kS;break;default:d=Am}a=d.bind(null,s,a,t),d=void 0,!kr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),l?d!==void 0?t.addEventListener(s,a,{capture:!0,passive:d}):t.addEventListener(s,a,!0):d!==void 0?t.addEventListener(s,a,{passive:d}):t.addEventListener(s,a,!1)}function dm(t,s,a,l,d){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var w=l.stateNode.containerInfo;if(w===d)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===d)return;_=_.return}for(;w!==null;){if(_=bi(w),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=f=_;continue e}w=w.parentNode}}l=l.return}Ms(function(){var G=f,Z=Dn(a),te=[];e:{var K=ry.get(t);if(K!==void 0){var X=Ri,me=t;switch(t){case"keypress":if(Lr(a)===0)break e;case"keydown":case"keyup":X=Ju;break;case"focusin":me="focus",X=zr;break;case"focusout":me="blur",X=zr;break;case"beforeblur":case"afterblur":X=zr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Zo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=qu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=v;break;case ty:case ny:case iy:X=Gu;break;case sy:X=T;break;case"scroll":case"scrollend":X=Jo;break;case"wheel":X=$;break;case"copy":case"cut":case"paste":X=Ku;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Wi;break;case"toggle":case"beforetoggle":X=Ne}var _e=(s&4)!==0,tt=!_e&&(t==="scroll"||t==="scrollend"),z=_e?K!==null?K+"Capture":null:K;_e=[];for(var j=G,H;j!==null;){var ee=j;if(H=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||H===null||z===null||(ee=Zn(j,z),ee!=null&&_e.push(Cl(j,ee,H))),tt)break;j=j.return}0<_e.length&&(K=new X(K,me,null,a,Z),te.push({event:K,listeners:_e}))}}if((s&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",K&&a!==$o&&(me=a.relatedTarget||a.fromElement)&&(bi(me)||me[vi]))break e;if((X||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,X?(me=a.relatedTarget||a.toElement,X=G,me=me?bi(me):null,me!==null&&(tt=u(me),_e=me.tag,me!==tt||_e!==5&&_e!==27&&_e!==6)&&(me=null)):(X=null,me=G),X!==me)){if(_e=Zo,ee="onMouseLeave",z="onMouseEnter",j="mouse",(t==="pointerout"||t==="pointerover")&&(_e=Wi,ee="onPointerLeave",z="onPointerEnter",j="pointer"),tt=X==null?K:vn(X),H=me==null?K:vn(me),K=new _e(ee,j+"leave",X,a,Z),K.target=tt,K.relatedTarget=H,ee=null,bi(Z)===G&&(_e=new _e(z,j+"enter",me,a,Z),_e.target=H,_e.relatedTarget=tt,ee=_e),tt=ee,X&&me)t:{for(_e=lS,z=X,j=me,H=0,ee=z;ee;ee=_e(ee))H++;ee=0;for(var ye=j;ye;ye=_e(ye))ee++;for(;0<H-ee;)z=_e(z),H--;for(;0<ee-H;)j=_e(j),ee--;for(;H--;){if(z===j||j!==null&&z===j.alternate){_e=z;break t}z=_e(z),j=_e(j)}_e=null}else _e=null;X!==null&&R_(te,K,X,_e,!1),me!==null&&tt!==null&&R_(te,tt,me,_e,!0)}}e:{if(K=G?vn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var qe=Hg;else if(Fg(K))if(Gg)qe=_T;else{qe=yT;var ge=gT}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ra(G.elementType)&&(qe=Hg):qe=vT;if(qe&&(qe=qe(t,G))){qg(te,qe,a,Z);break e}ge&&ge(t,K,G),t==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ko(K,"number",K.value)}switch(ge=G?vn(G):window,t){case"focusin":(Fg(ge)||ge.contentEditable==="true")&&(Pa=ge,zd=G,sl=null);break;case"focusout":sl=zd=Pa=null;break;case"mousedown":Bd=!0;break;case"contextmenu":case"mouseup":case"dragend":Bd=!1,Zg(te,a,Z);break;case"selectionchange":if(ET)break;case"keydown":case"keyup":Zg(te,a,Z)}var Ie;if(Ge)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else ja?Br(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ii&&a.locale!=="ko"&&(ja||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&ja&&(Ie=Wo()):(Ai=Z,Xo="value"in Ai?Ai.value:Ai.textContent,ja=!0)),ge=Fc(G,ke),0<ge.length&&(ke=new Ci(ke,t,null,a,Z),te.push({event:ke,listeners:ge}),Ie?ke.data=Ie:(Ie=Ma(a),Ie!==null&&(ke.data=Ie)))),(Ie=Mn?dT(t,a):fT(t,a))&&(ke=Fc(G,"onBeforeInput"),0<ke.length&&(ge=new Ci("onBeforeInput","beforeinput",null,a,Z),te.push({event:ge,listeners:ke}),ge.data=Ie)),sS(te,t,G,a,Z)}S_(te,s)})}function Cl(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Fc(t,s){for(var a=s+"Capture",l=[];t!==null;){var d=t,f=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||f===null||(d=Zn(t,a),d!=null&&l.unshift(Cl(t,d,f)),d=Zn(t,s),d!=null&&l.push(Cl(t,d,f))),t.tag===3)return l;t=t.return}return[]}function lS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function R_(t,s,a,l,d){for(var f=s._reactName,_=[];a!==null&&a!==l;){var w=a,D=w.alternate,G=w.stateNode;if(w=w.tag,D!==null&&D===l)break;w!==5&&w!==26&&w!==27||G===null||(D=G,d?(G=Zn(a,f),G!=null&&_.unshift(Cl(a,G,D))):d||(G=Zn(a,f),G!=null&&_.push(Cl(a,G,D)))),a=a.return}_.length!==0&&t.push({event:s,listeners:_})}var uS=/\r\n?/g,cS=/\u0000|\uFFFD/g;function N_(t){return(typeof t=="string"?t:""+t).replace(uS,`
`).replace(cS,"")}function C_(t,s){return s=N_(s),N_(t)===s}function et(t,s,a,l,d,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ln(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ln(t,""+l);break;case"className":_n(t,"class",l);break;case"tabIndex":_n(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(t,a,l);break;case"style":Yo(t,l,f);break;case"data":if(s!=="object"){_n(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&et(t,s,"name",d.name,d,null),et(t,s,"formEncType",d.formEncType,d,null),et(t,s,"formMethod",d.formMethod,d,null),et(t,s,"formTarget",d.formTarget,d,null)):(et(t,s,"encType",d.encType,d,null),et(t,s,"method",d.method,d,null),et(t,s,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Na(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Na(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),Sa(t,"popover",l);break;case"xlinkActuate":Tt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Sa(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Fu.get(a)||a,Sa(t,a,l))}}function fm(t,s,a,l,d,f){switch(a){case"style":Yo(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(d.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?ln(t,l):(typeof l=="number"||typeof l=="bigint")&&ln(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Bo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(d=a.endsWith("Capture"),s=a.slice(2,d?a.length-7:void 0),f=t[Vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,d),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,d);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Sa(t,a,l)}}}function Kt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,d=!1,f;for(f in a)if(a.hasOwnProperty(f)){var _=a[f];if(_!=null)switch(f){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,f,_,a,null)}}d&&et(t,s,"srcSet",a.srcSet,a,null),l&&et(t,s,"src",a.src,a,null);return;case"input":je("invalid",t);var w=f=_=d=null,D=null,G=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":d=Z;break;case"type":_=Z;break;case"checked":D=Z;break;case"defaultChecked":G=Z;break;case"value":f=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:et(t,s,l,Z,a,null)}}Uu(t,f,w,D,G,_,d,!1);return;case"select":je("invalid",t),l=_=f=null;for(d in a)if(a.hasOwnProperty(d)&&(w=a[d],w!=null))switch(d){case"value":f=w;break;case"defaultValue":_=w;break;case"multiple":l=w;default:et(t,s,d,w,a,null)}s=f,a=_,t.multiple=!!l,s!=null?Cs(t,!!l,s,!1):a!=null&&Cs(t,!!l,a,!0);return;case"textarea":je("invalid",t),f=d=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(w=a[_],w!=null))switch(_){case"value":l=w;break;case"defaultValue":d=w;break;case"children":f=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:et(t,s,_,w,a,null)}Is(t,l,d,f);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:et(t,s,D,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)je(Nl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in a)if(a.hasOwnProperty(G)&&(l=a[G],l!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(t,s,G,l,a,null)}return;default:if(Ra(s)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&fm(t,s,Z,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&et(t,s,w,l,a,null))}function hS(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,f=null,_=null,w=null,D=null,G=null,Z=null;for(X in a){var te=a[X];if(a.hasOwnProperty(X)&&te!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(X)||et(t,s,X,null,l,te)}}for(var K in l){var X=l[K];if(te=a[K],l.hasOwnProperty(K)&&(X!=null||te!=null))switch(K){case"type":f=X;break;case"name":d=X;break;case"checked":G=X;break;case"defaultChecked":Z=X;break;case"value":_=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:X!==te&&et(t,s,K,X,l,te)}}Aa(t,_,w,D,G,Z,f,d);return;case"select":X=_=w=K=null;for(f in a)if(D=a[f],a.hasOwnProperty(f)&&D!=null)switch(f){case"value":break;case"multiple":X=D;default:l.hasOwnProperty(f)||et(t,s,f,null,l,D)}for(d in l)if(f=l[d],D=a[d],l.hasOwnProperty(d)&&(f!=null||D!=null))switch(d){case"value":K=f;break;case"defaultValue":w=f;break;case"multiple":_=f;default:f!==D&&et(t,s,d,f,l,D)}s=w,a=_,l=X,K!=null?Cs(t,!!a,K,!1):!!l!=!!a&&(s!=null?Cs(t,!!a,s,!0):Cs(t,!!a,a?[]:"",!1));return;case"textarea":X=K=null;for(w in a)if(d=a[w],a.hasOwnProperty(w)&&d!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:et(t,s,w,null,l,d)}for(_ in l)if(d=l[_],f=a[_],l.hasOwnProperty(_)&&(d!=null||f!=null))switch(_){case"value":K=d;break;case"defaultValue":X=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==f&&et(t,s,_,d,l,f)}zu(t,K,X);return;case"option":for(var me in a)if(K=a[me],a.hasOwnProperty(me)&&K!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:et(t,s,me,null,l,K)}for(D in l)if(K=l[D],X=a[D],l.hasOwnProperty(D)&&K!==X&&(K!=null||X!=null))switch(D){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:et(t,s,D,K,l,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&et(t,s,_e,null,l,K);for(G in l)if(K=l[G],X=a[G],l.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:et(t,s,G,K,l,X)}return;default:if(Ra(s)){for(var tt in a)K=a[tt],a.hasOwnProperty(tt)&&K!==void 0&&!l.hasOwnProperty(tt)&&fm(t,s,tt,void 0,l,K);for(Z in l)K=l[Z],X=a[Z],!l.hasOwnProperty(Z)||K===X||K===void 0&&X===void 0||fm(t,s,Z,K,l,X);return}}for(var z in a)K=a[z],a.hasOwnProperty(z)&&K!=null&&!l.hasOwnProperty(z)&&et(t,s,z,null,l,K);for(te in l)K=l[te],X=a[te],!l.hasOwnProperty(te)||K===X||K==null&&X==null||et(t,s,te,K,l,X)}function I_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function dS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var d=a[l],f=d.transferSize,_=d.initiatorType,w=d.duration;if(f&&w&&I_(_)){for(_=0,w=d.responseEnd,l+=1;l<a.length;l++){var D=a[l],G=D.startTime;if(G>w)break;var Z=D.transferSize,te=D.initiatorType;Z&&I_(te)&&(D=D.responseEnd,_+=Z*(D<w?1:(w-G)/(D-G)))}if(--l,s+=8*(f+_)/(d.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var mm=null,pm=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function D_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function O_(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function gm(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ym=null;function fS(){var t=window.event;return t&&t.type==="popstate"?t===ym?!1:(ym=t,!0):(ym=null,!1)}var M_=typeof setTimeout=="function"?setTimeout:void 0,mS=typeof clearTimeout=="function"?clearTimeout:void 0,j_=typeof Promise=="function"?Promise:void 0,pS=typeof queueMicrotask=="function"?queueMicrotask:typeof j_<"u"?function(t){return j_.resolve(null).then(t).catch(gS)}:M_;function gS(t){setTimeout(function(){throw t})}function Zs(t){return t==="head"}function P_(t,s){var a=s,l=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(d),lo(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Il(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Il(a);for(var f=a.firstChild;f;){var _=f.nextSibling,w=f.nodeName;f[_i]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=_}}else a==="body"&&Il(t.ownerDocument.body);a=d}while(a);lo(s)}function k_(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function vm(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":vm(a),Ta(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yS(t,s,a,l){for(;t.nodeType===1;){var d=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_i])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function vS(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function V_(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=zn(t.nextSibling),t===null))return null;return t}function _m(t){return t.data==="$?"||t.data==="$~"}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function _S(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var Em=null;function L_(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return zn(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function U_(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function z_(t,s,a){switch(s=qc(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Il(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ta(t)}var Bn=new Map,B_=new Set;function Hc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ds=se.d;se.d={f:bS,r:ES,D:xS,C:wS,L:TS,m:SS,X:RS,S:AS,M:NS};function bS(){var t=ds.f(),s=Pc();return t||s}function ES(t){var s=In(t);s!==null&&s.tag===5&&s.type==="form"?sv(s):ds.r(t)}var ro=typeof document>"u"?null:document;function F_(t,s,a){var l=ro;if(l&&typeof s=="string"&&s){var d=on(s);d='link[rel="'+t+'"][href="'+d+'"]',typeof a=="string"&&(d+='[crossorigin="'+a+'"]'),B_.has(d)||(B_.add(d),t={rel:t,crossOrigin:a,href:s},l.querySelector(d)===null&&(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function xS(t){ds.D(t),F_("dns-prefetch",t,null)}function wS(t,s){ds.C(t,s),F_("preconnect",t,s)}function TS(t,s,a){ds.L(t,s,a);var l=ro;if(l&&t&&s){var d='link[rel="preload"][as="'+on(s)+'"]';s==="image"&&a&&a.imageSrcSet?(d+='[imagesrcset="'+on(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(d+='[imagesizes="'+on(a.imageSizes)+'"]')):d+='[href="'+on(t)+'"]';var f=d;switch(s){case"style":f=ao(t);break;case"script":f=oo(t)}Bn.has(f)||(t=x({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Bn.set(f,t),l.querySelector(d)!==null||s==="style"&&l.querySelector(Dl(f))||s==="script"&&l.querySelector(Ol(f))||(s=l.createElement("link"),Kt(s,"link",t),wt(s),l.head.appendChild(s)))}}function SS(t,s){ds.m(t,s);var a=ro;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+on(l)+'"][href="'+on(t)+'"]',f=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=oo(t)}if(!Bn.has(f)&&(t=x({rel:"modulepreload",href:t},s),Bn.set(f,t),a.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(f)))return}l=a.createElement("link"),Kt(l,"link",t),wt(l),a.head.appendChild(l)}}}function AS(t,s,a){ds.S(t,s,a);var l=ro;if(l&&t){var d=Ei(l).hoistableStyles,f=ao(t);s=s||"default";var _=d.get(f);if(!_){var w={loading:0,preload:null};if(_=l.querySelector(Dl(f)))w.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Bn.get(f))&&xm(t,a);var D=_=l.createElement("link");wt(D),Kt(D,"link",t),D._p=new Promise(function(G,Z){D.onload=G,D.onerror=Z}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Gc(_,s,l)}_={type:"stylesheet",instance:_,count:1,state:w},d.set(f,_)}}}function RS(t,s){ds.X(t,s);var a=ro;if(a&&t){var l=Ei(a).hoistableScripts,d=oo(t),f=l.get(d);f||(f=a.querySelector(Ol(d)),f||(t=x({src:t,async:!0},s),(s=Bn.get(d))&&wm(t,s),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function NS(t,s){ds.M(t,s);var a=ro;if(a&&t){var l=Ei(a).hoistableScripts,d=oo(t),f=l.get(d);f||(f=a.querySelector(Ol(d)),f||(t=x({src:t,async:!0,type:"module"},s),(s=Bn.get(d))&&wm(t,s),f=a.createElement("script"),wt(f),Kt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(d,f))}}function q_(t,s,a,l){var d=(d=Se.current)?Hc(d):null;if(!d)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=ao(a.href),a=Ei(d).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var f=Ei(d).hoistableStyles,_=f.get(t);if(_||(d=d.ownerDocument||d,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,_),(f=d.querySelector(Dl(t)))&&!f._p&&(_.instance=f,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),f||CS(d,t,a,_.state))),s&&l===null)throw Error(r(528,""));return _}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=oo(a),a=Ei(d).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function ao(t){return'href="'+on(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function H_(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function CS(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Kt(s,"link",a),wt(s),t.head.appendChild(s))}function oo(t){return'[src="'+on(t)+'"]'}function Ol(t){return"script[async]"+t}function G_(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+on(a.href)+'"]');if(l)return s.instance=l,wt(l),l;var d=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),wt(l),Kt(l,"style",d),Gc(l,a.precedence,t),s.instance=l;case"stylesheet":d=ao(a.href);var f=t.querySelector(Dl(d));if(f)return s.state.loading|=4,s.instance=f,wt(f),f;l=H_(a),(d=Bn.get(d))&&xm(l,d),f=(t.ownerDocument||t).createElement("link"),wt(f);var _=f;return _._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Kt(f,"link",l),s.state.loading|=4,Gc(f,a.precedence,t),s.instance=f;case"script":return f=oo(a.src),(d=t.querySelector(Ol(f)))?(s.instance=d,wt(d),d):(l=a,(d=Bn.get(f))&&(l=x({},a),wm(l,d)),t=t.ownerDocument||t,d=t.createElement("script"),wt(d),Kt(d,"link",l),t.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Gc(l,a.precedence,t));return s.instance}function Gc(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,f=d,_=0;_<l.length;_++){var w=l[_];if(w.dataset.precedence===s)f=w;else if(f!==d)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function xm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function wm(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Kc=null;function K_(t,s,a){if(Kc===null){var l=new Map,d=Kc=new Map;d.set(a,l)}else d=Kc,l=d.get(a),l||(l=new Map,d.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),d=0;d<a.length;d++){var f=a[d];if(!(f[_i]||f[xt]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var _=f.getAttribute(s)||"";_=t+_;var w=l.get(_);w?w.push(f):l.set(_,[f])}}return l}function Q_(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function IS(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Y_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function DS(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=ao(l.href),f=s.querySelector(Dl(d));if(f){s=f._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=Qc.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=f,wt(f);return}f=s.ownerDocument||s,l=H_(l),(d=Bn.get(d))&&xm(l,d),f=f.createElement("link"),wt(f);var _=f;_._p=new Promise(function(w,D){_.onload=w,_.onerror=D}),Kt(f,"link",l),a.instance=f}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Qc.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var Tm=0;function OS(t,s){return t.stylesheets&&t.count===0&&$c(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend){var f=t.unsuspend;t.unsuspend=null,f()}},6e4+s);0<t.imgBytes&&Tm===0&&(Tm=62500*dS());var d=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&$c(t,t.stylesheets),t.unsuspend)){var f=t.unsuspend;t.unsuspend=null,f()}},(t.imgBytes>Tm?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function Qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)$c(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function $c(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,s.forEach(MS,t),Yc=null,Qc.call(t))}function MS(t,s){if(!(s.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<d.length;f++){var _=d[f];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}d=s.instance,_=d.getAttribute("data-precedence"),f=a.get(_)||l,f===l&&a.set(null,d),a.set(_,d),this.count++,l=Qc.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),f?f.parentNode.insertBefore(d,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),s.state.loading|=4}}var Ml={$$typeof:W,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function jS(t,s,a,l,d,f,_,w,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=f,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function $_(t,s,a,l,d,f,_,w,D,G,Z,te){return t=new jS(t,s,a,_,D,G,Z,te,w),s=1,f===!0&&(s|=24),f=En(3,null,null,s),t.current=f,f.stateNode=t,s=nf(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},of(f),t}function X_(t){return t?(t=La,t):La}function W_(t,s,a,l,d,f){d=X_(d),l.context===null?l.context=d:l.pendingContext=d,l=Fs(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=qs(t,l,s),a!==null&&(fn(a,t,s),hl(a,t,s))}function J_(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function Sm(t,s){J_(t,s),(t=t.alternate)&&J_(t,s)}function Z_(t){if(t.tag===13||t.tag===31){var s=Hr(t,67108864);s!==null&&fn(s,t,67108864),Sm(t,67108864)}}function e0(t){if(t.tag===13||t.tag===31){var s=An();s=Or(s);var a=Hr(t,s);a!==null&&fn(a,t,s),Sm(t,s)}}var Xc=!0;function PS(t,s,a,l){var d=Y.T;Y.T=null;var f=se.p;try{se.p=2,Am(t,s,a,l)}finally{se.p=f,Y.T=d}}function kS(t,s,a,l){var d=Y.T;Y.T=null;var f=se.p;try{se.p=8,Am(t,s,a,l)}finally{se.p=f,Y.T=d}}function Am(t,s,a,l){if(Xc){var d=Rm(l);if(d===null)dm(t,s,l,Wc,a),n0(t,l);else if(LS(d,t,s,a,l))l.stopPropagation();else if(n0(t,l),s&4&&-1<VS.indexOf(t)){for(;d!==null;){var f=In(d);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var _=pi(f.pendingLanes);if(_!==0){var w=f;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var D=1<<31-pt(_);w.entanglements[1]|=D,_&=~D}ji(f),(Ke&6)===0&&(Mc=tn()+500,Rl(0))}}break;case 31:case 13:w=Hr(f,2),w!==null&&fn(w,f,2),Pc(),Sm(f,2)}if(f=Rm(l),f===null&&dm(t,s,l,Wc,a),f===d)break;d=f}d!==null&&l.stopPropagation()}else dm(t,s,l,null,a)}}function Rm(t){return t=Dn(t),Nm(t)}var Wc=null;function Nm(t){if(Wc=null,t=bi(t),t!==null){var s=u(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=h(s),t!==null)return t;t=null}else if(a===31){if(t=m(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Wc=t,null}function t0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Nr()){case ko:return 2;case Vo:return 8;case Rs:case Md:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Cm=!1,er=null,tr=null,nr=null,jl=new Map,Pl=new Map,ir=[],VS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function n0(t,s){switch(t){case"focusin":case"focusout":er=null;break;case"dragenter":case"dragleave":tr=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(s.pointerId)}}function kl(t,s,a,l,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[d]},s!==null&&(s=In(s),s!==null&&Z_(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),t)}function LS(t,s,a,l,d){switch(s){case"focusin":return er=kl(er,t,s,a,l,d),!0;case"dragenter":return tr=kl(tr,t,s,a,l,d),!0;case"mouseover":return nr=kl(nr,t,s,a,l,d),!0;case"pointerover":var f=d.pointerId;return jl.set(f,kl(jl.get(f)||null,t,s,a,l,d)),!0;case"gotpointercapture":return f=d.pointerId,Pl.set(f,kl(Pl.get(f)||null,t,s,a,l,d)),!0}return!1}function i0(t){var s=bi(t.target);if(s!==null){var a=u(s);if(a!==null){if(s=a.tag,s===13){if(s=h(a),s!==null){t.blockedOn=s,Xn(t.priority,function(){e0(a)});return}}else if(s===31){if(s=m(a),s!==null){t.blockedOn=s,Xn(t.priority,function(){e0(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jc(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=Rm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return s=In(a),s!==null&&Z_(s),t.blockedOn=a,!1;s.shift()}return!0}function s0(t,s,a){Jc(t)&&a.delete(s)}function US(){Cm=!1,er!==null&&Jc(er)&&(er=null),tr!==null&&Jc(tr)&&(tr=null),nr!==null&&Jc(nr)&&(nr=null),jl.forEach(s0),Pl.forEach(s0)}function Zc(t,s){t.blockedOn===s&&(t.blockedOn=null,Cm||(Cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,US)))}var eh=null;function r0(t){eh!==t&&(eh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],d=t[s+2];if(typeof l!="function"){if(Nm(l||a)===null)continue;break}var f=In(a);f!==null&&(t.splice(s,3),s-=3,Rf(f,{pending:!0,data:d,method:a.method,action:l},l,d))}}))}function lo(t){function s(D){return Zc(D,t)}er!==null&&Zc(er,t),tr!==null&&Zc(tr,t),nr!==null&&Zc(nr,t),jl.forEach(s),Pl.forEach(s);for(var a=0;a<ir.length;a++){var l=ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)i0(a),a.blockedOn===null&&ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var d=a[l],f=a[l+1],_=d[Vt]||null;if(typeof f=="function")_||r0(a);else if(_){var w=null;if(f&&f.hasAttribute("formAction")){if(d=f,_=f[Vt]||null)w=_.formAction;else if(Nm(d)!==null)continue}else w=_.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),r0(a)}}}function a0(){function t(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(_){return d=_})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function Im(t){this._internalRoot=t}th.prototype.render=Im.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=An();W_(a,l,t,s,null,null)},th.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;W_(t.current,2,null,t,null,null),Pc(),s[vi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var s=Pu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,t),a===0&&i0(t)}};var o0=e.version;if(o0!=="19.2.0")throw Error(r(527,o0,"19.2.0"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(s),t=t!==null?b(t):null,t=t===null?null:t.stateNode,t};var zS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{Yn=nh.inject(zS),Bt=nh}catch{}}return Ll.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",d=mv,f=pv,_=gv;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=$_(t,1,!1,null,null,a,l,null,d,f,_,a0),t[vi]=s.current,hm(t),new Im(s)},Ll.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,d="",f=mv,_=pv,w=gv,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(d=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),s=$_(t,1,!0,s,a??null,l,d,D,f,_,w,a0),s.context=X_(null),a=s.current,l=An(),l=Or(l),d=Fs(l),d.callback=null,qs(a,d,l),a=l,s.current.lanes=a,Ir(s,a),ji(s),t[vi]=s.current,hm(t),new th(s)},Ll.version="19.2.0",Ll}var y0;function XS(){if(y0)return Mm.exports;y0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Mm.exports=$S(),Mm.exports}var WS=XS();/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var v0="popstate";function JS(i={}){function e(r,o){let{pathname:u,search:h,hash:m}=r.location;return Jm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:Zl(o)}return e1(e,n,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Gn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZS(){return Math.random().toString(36).substring(2,10)}function _0(i,e){return{usr:i.state,key:i.key,idx:e}}function Jm(i,e,n=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||r||ZS()}}function Zl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function To(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function e1(i,e,n,r={}){let{window:o=document.defaultView,v5Compat:u=!1}=r,h=o.history,m="POP",p=null,y=b();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function b(){return(h.state||{idx:null}).idx}function x(){m="POP";let V=b(),k=V==null?null:V-y;y=V,p&&p({action:m,location:B.location,delta:k})}function S(V,k){m="PUSH";let Q=Jm(B.location,V,k);y=b()+1;let W=_0(Q,y),re=B.createHref(Q);try{h.pushState(W,"",re)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(re)}u&&p&&p({action:m,location:B.location,delta:1})}function N(V,k){m="REPLACE";let Q=Jm(B.location,V,k);y=b();let W=_0(Q,y),re=B.createHref(Q);h.replaceState(W,"",re),u&&p&&p({action:m,location:B.location,delta:0})}function U(V){return t1(V)}let B={get action(){return m},get location(){return i(o,h)},listen(V){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(v0,x),p=V,()=>{o.removeEventListener(v0,x),p=null}},createHref(V){return e(o,V)},createURL:U,encodeLocation(V){let k=U(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:S,replace:N,go(V){return h.go(V)}};return B}function t1(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let r=typeof i=="string"?i:Zl(i);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function fE(i,e,n="/"){return n1(i,e,n,!1)}function n1(i,e,n,r){let o=typeof e=="string"?To(e):e,u=_s(o.pathname||"/",n);if(u==null)return null;let h=mE(i);i1(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let y=m1(u);m=d1(h[p],y,r)}return m}function mE(i,e=[],n=[],r="",o=!1){let u=(h,m,p=o,y)=>{let b={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(b.relativePath.startsWith("/")){if(!b.relativePath.startsWith(r)&&p)return;ct(b.relativePath.startsWith(r),`Absolute route path "${b.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),b.relativePath=b.relativePath.slice(r.length)}let x=gs([r,b.relativePath]),S=n.concat(b);h.children&&h.children.length>0&&(ct(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),mE(h.children,e,S,x,p)),!(h.path==null&&!h.index)&&e.push({path:x,score:c1(x,h.index),routesMeta:S})};return i.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of pE(h.path))u(h,m,!0,p)}),e}function pE(i){let e=i.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(r.length===0)return o?[u,""]:[u];let h=pE(r.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function i1(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:h1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var s1=/^:[\w-]+$/,r1=3,a1=2,o1=1,l1=10,u1=-2,b0=i=>i==="*";function c1(i,e){let n=i.split("/"),r=n.length;return n.some(b0)&&(r+=u1),e&&(r+=a1),n.filter(o=>!b0(o)).reduce((o,u)=>o+(s1.test(u)?r1:u===""?o1:l1),r)}function h1(i,e){return i.length===e.length&&i.slice(0,-1).every((r,o)=>r===e[o])?i[i.length-1]-e[e.length-1]:0}function d1(i,e,n=!1){let{routesMeta:r}=i,o={},u="/",h=[];for(let m=0;m<r.length;++m){let p=r[m],y=m===r.length-1,b=u==="/"?e:e.slice(u.length)||"/",x=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},b),S=p.route;if(!x&&y&&n&&!r[r.length-1].route.index&&(x=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},b)),!x)return null;Object.assign(o,x.params),h.push({params:o,pathname:gs([u,x.pathname]),pathnameBase:v1(gs([u,x.pathnameBase])),route:S}),x.pathnameBase!=="/"&&(u=gs([u,x.pathnameBase]))}return h}function Rh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,r]=f1(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:r.reduce((y,{paramName:b,isOptional:x},S)=>{if(b==="*"){let U=m[S]||"";h=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const N=m[S];return x&&!N?y[b]=void 0:y[b]=(N||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:h,pattern:i}}function f1(i,e=!1,n=!0){Gn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(r.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(r.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function m1(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function _s(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=i.charAt(n);return r&&r!=="/"?null:i.slice(n)||"/"}function p1(i,e="/"){let{pathname:n,search:r="",hash:o=""}=typeof i=="string"?To(i):i;return{pathname:n?n.startsWith("/")?n:g1(n,e):e,search:_1(r),hash:b1(o)}}function g1(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Vm(i,e,n,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function jp(i){let e=y1(i);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Pp(i,e,n,r=!1){let o;typeof i=="string"?o=To(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let x=e.length-1;if(!r&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),x-=1;o.pathname=S.join("/")}m=x>=0?e[x]:"/"}let p=p1(o,m),y=h&&h!=="/"&&h.endsWith("/"),b=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||b)&&(p.pathname+="/"),p}var gs=i=>i.join("/").replace(/\/\/+/g,"/"),v1=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),_1=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,b1=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function E1(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var gE=["POST","PUT","PATCH","DELETE"];new Set(gE);var x1=["GET",...gE];new Set(x1);var So=L.createContext(null);So.displayName="DataRouter";var Wh=L.createContext(null);Wh.displayName="DataRouterState";L.createContext(!1);var yE=L.createContext({isTransitioning:!1});yE.displayName="ViewTransition";var w1=L.createContext(new Map);w1.displayName="Fetchers";var T1=L.createContext(null);T1.displayName="Await";var di=L.createContext(null);di.displayName="Navigation";var du=L.createContext(null);du.displayName="Location";var Gi=L.createContext({outlet:null,matches:[],isDataRoute:!1});Gi.displayName="Route";var kp=L.createContext(null);kp.displayName="RouteError";function S1(i,{relative:e}={}){ct(Ao(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(di),{hash:o,pathname:u,search:h}=mu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:gs([n,u])),r.createHref({pathname:m,search:h,hash:o})}function Ao(){return L.useContext(du)!=null}function Ss(){return ct(Ao(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(du).location}var vE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _E(i){L.useContext(di).static||L.useLayoutEffect(i)}function fu(){let{isDataRoute:i}=L.useContext(Gi);return i?L1():A1()}function A1(){ct(Ao(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(So),{basename:e,navigator:n}=L.useContext(di),{matches:r}=L.useContext(Gi),{pathname:o}=Ss(),u=JSON.stringify(jp(r)),h=L.useRef(!1);return _E(()=>{h.current=!0}),L.useCallback((p,y={})=>{if(Gn(h.current,vE),!h.current)return;if(typeof p=="number"){n.go(p);return}let b=Pp(p,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(b.pathname=b.pathname==="/"?e:gs([e,b.pathname])),(y.replace?n.replace:n.push)(b,y.state,y)},[e,n,u,o,i])}L.createContext(null);function mu(i,{relative:e}={}){let{matches:n}=L.useContext(Gi),{pathname:r}=Ss(),o=JSON.stringify(jp(n));return L.useMemo(()=>Pp(i,JSON.parse(o),r,e==="path"),[i,o,r,e])}function R1(i,e){return bE(i,e)}function bE(i,e,n,r,o){ct(Ao(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(di),{matches:h}=L.useContext(Gi),m=h[h.length-1],p=m?m.params:{},y=m?m.pathname:"/",b=m?m.pathnameBase:"/",x=m&&m.route;{let Q=x&&x.path||"";EE(y,!x||Q.endsWith("*")||Q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${Q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Q}"> to <Route path="${Q==="/"?"*":`${Q}/*`}">.`)}let S=Ss(),N;if(e){let Q=typeof e=="string"?To(e):e;ct(b==="/"||Q.pathname?.startsWith(b),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${Q.pathname}" was given in the \`location\` prop.`),N=Q}else N=S;let U=N.pathname||"/",B=U;if(b!=="/"){let Q=b.replace(/^\//,"").split("/");B="/"+U.replace(/^\//,"").split("/").slice(Q.length).join("/")}let V=fE(i,{pathname:B});Gn(x||V!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Gn(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=O1(V&&V.map(Q=>Object.assign({},Q,{params:Object.assign({},p,Q.params),pathname:gs([b,u.encodeLocation?u.encodeLocation(Q.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?b:gs([b,u.encodeLocation?u.encodeLocation(Q.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:Q.pathnameBase])})),h,n,r,o);return e&&k?L.createElement(du.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},k):k}function N1(){let i=V1(),e=E1(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},u={padding:"2px 4px",backgroundColor:r},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,h)}var C1=L.createElement(N1,null),I1=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){this.props.unstable_onError?this.props.unstable_onError(i,e):console.error("React Router caught the following error during render",i)}render(){return this.state.error!==void 0?L.createElement(Gi.Provider,{value:this.props.routeContext},L.createElement(kp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function D1({routeContext:i,match:e,children:n}){let r=L.useContext(So);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Gi.Provider,{value:i},n)}function O1(i,e=[],n=null,r=null,o=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let u=i,h=n?.errors;if(h!=null){let y=u.findIndex(b=>b.route.id&&h?.[b.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let m=!1,p=-1;if(n)for(let y=0;y<u.length;y++){let b=u[y];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=y),b.route.id){let{loaderData:x,errors:S}=n,N=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!S||S[b.route.id]===void 0);if(b.route.lazy||N){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((y,b,x)=>{let S,N=!1,U=null,B=null;n&&(S=h&&b.route.id?h[b.route.id]:void 0,U=b.route.errorElement||C1,m&&(p<0&&x===0?(EE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,B=null):p===x&&(N=!0,B=b.route.hydrateFallbackElement||null)));let V=e.concat(u.slice(0,x+1)),k=()=>{let Q;return S?Q=U:N?Q=B:b.route.Component?Q=L.createElement(b.route.Component,null):b.route.element?Q=b.route.element:Q=y,L.createElement(D1,{match:b,routeContext:{outlet:y,matches:V,isDataRoute:n!=null},children:Q})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?L.createElement(I1,{location:n.location,revalidation:n.revalidation,component:U,error:S,children:k(),routeContext:{outlet:null,matches:V,isDataRoute:!0},unstable_onError:r}):k()},null)}function Vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function M1(i){let e=L.useContext(So);return ct(e,Vp(i)),e}function j1(i){let e=L.useContext(Wh);return ct(e,Vp(i)),e}function P1(i){let e=L.useContext(Gi);return ct(e,Vp(i)),e}function Lp(i){let e=P1(i),n=e.matches[e.matches.length-1];return ct(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function k1(){return Lp("useRouteId")}function V1(){let i=L.useContext(kp),e=j1("useRouteError"),n=Lp("useRouteError");return i!==void 0?i:e.errors?.[n]}function L1(){let{router:i}=M1("useNavigate"),e=Lp("useNavigate"),n=L.useRef(!1);return _E(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{Gn(n.current,vE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var E0={};function EE(i,e,n){!e&&!E0[i]&&(E0[i]=!0,Gn(!1,n))}L.memo(U1);function U1({routes:i,future:e,state:n,unstable_onError:r}){return bE(i,void 0,n,r,e)}function Zm({to:i,replace:e,state:n,relative:r}){ct(Ao(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(di);Gn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(Gi),{pathname:h}=Ss(),m=fu(),p=Pp(i,jp(u),h,r==="path"),y=JSON.stringify(p);return L.useEffect(()=>{m(JSON.parse(y),{replace:e,state:n,relative:r})},[m,y,r,e,n]),null}function rn(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function z1({basename:i="/",children:e=null,location:n,navigationType:r="POP",navigator:o,static:u=!1}){ct(!Ao(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:y="",hash:b="",state:x=null,key:S="default"}=n,N=L.useMemo(()=>{let U=_s(p,h);return U==null?null:{location:{pathname:U,search:y,hash:b,state:x,key:S},navigationType:r}},[h,p,y,b,x,S,r]);return Gn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${b}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:L.createElement(di.Provider,{value:m},L.createElement(du.Provider,{children:e,value:N}))}function B1({children:i,location:e}){return R1(ep(i),e)}function ep(i,e=[]){let n=[];return L.Children.forEach(i,(r,o)=>{if(!L.isValidElement(r))return;let u=[...e,o];if(r.type===L.Fragment){n.push.apply(n,ep(r.props.children,u));return}ct(r.type===rn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!r.props.index||!r.props.children,"An index route cannot have child routes.");let h={id:r.props.id||u.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(h.children=ep(r.props.children,u)),n.push(h)}),n}var ph="get",gh="application/x-www-form-urlencoded";function Jh(i){return i!=null&&typeof i.tagName=="string"}function F1(i){return Jh(i)&&i.tagName.toLowerCase()==="button"}function q1(i){return Jh(i)&&i.tagName.toLowerCase()==="form"}function H1(i){return Jh(i)&&i.tagName.toLowerCase()==="input"}function G1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function K1(i,e){return i.button===0&&(!e||e==="_self")&&!G1(i)}function tp(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((e,n)=>{let r=i[n];return e.concat(Array.isArray(r)?r.map(o=>[n,o]):[[n,r]])},[]))}function Q1(i,e){let n=tp(i);return e&&e.forEach((r,o)=>{n.has(o)||e.getAll(o).forEach(u=>{n.append(o,u)})}),n}var ih=null;function Y1(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var $1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lm(i){return i!=null&&!$1.has(i)?(Gn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${gh}"`),null):i}function X1(i,e){let n,r,o,u,h;if(q1(i)){let m=i.getAttribute("action");r=m?_s(m,e):null,n=i.getAttribute("method")||ph,o=Lm(i.getAttribute("enctype"))||gh,u=new FormData(i)}else if(F1(i)||H1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(r=p?_s(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||ph,o=Lm(i.getAttribute("formenctype"))||Lm(m.getAttribute("enctype"))||gh,u=new FormData(m,i),!Y1()){let{name:y,type:b,value:x}=i;if(b==="image"){let S=y?`${y}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else y&&u.append(y,x)}}else{if(Jh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ph,r=null,o=gh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:r,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Up(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function W1(i,e,n){let r=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return r.pathname==="/"?r.pathname=`_root.${n}`:e&&_s(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function J1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function eA(i,e,n){let r=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await J1(u,n);return h.links?h.links():[]}return[]}));return sA(r.flat(1).filter(Z1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function x0(i,e,n,r,o,u){let h=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>n[y].pathname!==p.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,y)=>h(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{let b=r.routes[p.route.id];if(!b||!b.hasLoader)return!1;if(h(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function tA(i,e,{includeHydrateFallback:n}={}){return nA(i.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function nA(i){return[...new Set(i)]}function iA(i){let e={},n=Object.keys(i).sort();for(let r of n)e[r]=i[r];return e}function sA(i,e){let n=new Set;return new Set(e),i.reduce((r,o)=>{let u=JSON.stringify(iA(o));return n.has(u)||(n.add(u),r.push({key:u,link:o})),r},[])}function xE(){let i=L.useContext(So);return Up(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function rA(){let i=L.useContext(Wh);return Up(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zp=L.createContext(void 0);zp.displayName="FrameworkContext";function wE(){let i=L.useContext(zp);return Up(i,"You must render this element inside a <HydratedRouter> element"),i}function aA(i,e){let n=L.useContext(zp),[r,o]=L.useState(!1),[u,h]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:b,onTouchStart:x}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let B=k=>{k.forEach(Q=>{h(Q.isIntersecting)})},V=new IntersectionObserver(B,{threshold:.5});return S.current&&V.observe(S.current),()=>{V.disconnect()}}},[i]),L.useEffect(()=>{if(r){let B=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(B)}}},[r]);let N=()=>{o(!0)},U=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:Ul(m,N),onBlur:Ul(p,U),onMouseEnter:Ul(y,N),onMouseLeave:Ul(b,U),onTouchStart:Ul(x,N)}]:[!1,S,{}]}function Ul(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function oA({page:i,...e}){let{router:n}=xE(),r=L.useMemo(()=>fE(n.routes,i,n.basename),[n.routes,i,n.basename]);return r?L.createElement(uA,{page:i,matches:r,...e}):null}function lA(i){let{manifest:e,routeModules:n}=wE(),[r,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return eA(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),r}function uA({page:i,matches:e,...n}){let r=Ss(),{manifest:o,routeModules:u}=wE(),{basename:h}=xE(),{loaderData:m,matches:p}=rA(),y=L.useMemo(()=>x0(i,e,p,o,r,"data"),[i,e,p,o,r]),b=L.useMemo(()=>x0(i,e,p,o,r,"assets"),[i,e,p,o,r]),x=L.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let U=new Set,B=!1;if(e.forEach(k=>{let Q=o.routes[k.route.id];!Q||!Q.hasLoader||(!y.some(W=>W.route.id===k.route.id)&&k.route.id in m&&u[k.route.id]?.shouldRevalidate||Q.hasClientLoader?B=!0:U.add(k.route.id))}),U.size===0)return[];let V=W1(i,h,"data");return B&&U.size>0&&V.searchParams.set("_routes",e.filter(k=>U.has(k.route.id)).map(k=>k.route.id).join(",")),[V.pathname+V.search]},[h,m,r,o,y,e,i,u]),S=L.useMemo(()=>tA(b,o),[b,o]),N=lA(b);return L.createElement(L.Fragment,null,x.map(U=>L.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),S.map(U=>L.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),N.map(({key:U,link:B})=>L.createElement("link",{key:U,nonce:n.nonce,...B})))}function cA(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var TE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{TE&&(window.__reactRouterVersion="7.9.3")}catch{}function hA({basename:i,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=JS({window:n,v5Compat:!0}));let o=r.current,[u,h]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>h(p))},[h]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(z1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var SE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qe=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:y,preventScrollReset:b,viewTransition:x,...S},N){let{basename:U}=L.useContext(di),B=typeof y=="string"&&SE.test(y),V,k=!1;if(typeof y=="string"&&B&&(V=y,TE))try{let R=new URL(window.location.href),P=y.startsWith("//")?new URL(R.protocol+y):new URL(y),M=_s(P.pathname,U);P.origin===R.origin&&M!=null?y=M+P.search+P.hash:k=!0}catch{Gn(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Q=S1(y,{relative:o}),[W,re,oe]=aA(r,S),ue=pA(y,{replace:h,state:m,target:p,preventScrollReset:b,relative:o,viewTransition:x});function C(R){e&&e(R),R.defaultPrevented||ue(R)}let A=L.createElement("a",{...S,...oe,href:V||Q,onClick:k||u?e:C,ref:cA(N,re),target:p,"data-discover":!B&&n==="render"?"true":void 0});return W&&!B?L.createElement(L.Fragment,null,A,L.createElement(oA,{page:Q})):A});Qe.displayName="Link";var dA=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...y},b){let x=mu(h,{relative:y.relative}),S=Ss(),N=L.useContext(Wh),{navigator:U,basename:B}=L.useContext(di),V=N!=null&&EA(x)&&m===!0,k=U.encodeLocation?U.encodeLocation(x).pathname:x.pathname,Q=S.pathname,W=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(Q=Q.toLowerCase(),W=W?W.toLowerCase():null,k=k.toLowerCase()),W&&B&&(W=_s(W,B)||W);const re=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let oe=Q===k||!o&&Q.startsWith(k)&&Q.charAt(re)==="/",ue=W!=null&&(W===k||!o&&W.startsWith(k)&&W.charAt(k.length)==="/"),C={isActive:oe,isPending:ue,isTransitioning:V},A=oe?e:void 0,R;typeof r=="function"?R=r(C):R=[r,oe?"active":null,ue?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(C):u;return L.createElement(Qe,{...y,"aria-current":A,className:R,ref:b,style:P,to:h,viewTransition:m},typeof p=="function"?p(C):p)});dA.displayName="NavLink";var fA=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:o,state:u,method:h=ph,action:m,onSubmit:p,relative:y,preventScrollReset:b,viewTransition:x,...S},N)=>{let U=_A(),B=bA(m,{relative:y}),V=h.toLowerCase()==="get"?"get":"post",k=typeof m=="string"&&SE.test(m),Q=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let re=W.nativeEvent.submitter,oe=re?.getAttribute("formmethod")||h;U(re||W.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:y,preventScrollReset:b,viewTransition:x})};return L.createElement("form",{ref:N,method:V,action:B,onSubmit:r?p:Q,...S,"data-discover":!k&&i==="render"?"true":void 0})});fA.displayName="Form";function mA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AE(i){let e=L.useContext(So);return ct(e,mA(i)),e}function pA(i,{target:e,replace:n,state:r,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=fu(),p=Ss(),y=mu(i,{relative:u});return L.useCallback(b=>{if(K1(b,e)){b.preventDefault();let x=n!==void 0?n:Zl(p)===Zl(y);m(i,{replace:x,state:r,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,y,n,r,e,i,o,u,h])}function gA(i){Gn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=L.useRef(tp(i)),n=L.useRef(!1),r=Ss(),o=L.useMemo(()=>Q1(r.search,n.current?null:e.current),[r.search]),u=fu(),h=L.useCallback((m,p)=>{const y=tp(typeof m=="function"?m(new URLSearchParams(o)):m);n.current=!0,u("?"+y,p)},[u,o]);return[o,h]}var yA=0,vA=()=>`__${String(++yA)}__`;function _A(){let{router:i}=AE("useSubmit"),{basename:e}=L.useContext(di),n=k1();return L.useCallback(async(r,o={})=>{let{action:u,method:h,encType:m,formData:p,body:y}=X1(r,e);if(o.navigate===!1){let b=o.fetcherKey||vA();await i.fetch(b,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function bA(i,{relative:e}={}){let{basename:n}=L.useContext(di),r=L.useContext(Gi);ct(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),u={...mu(i||".",{relative:e})},h=Ss();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(b=>b==="")){m.delete("index"),p.filter(x=>x).forEach(x=>m.append("index",x));let b=m.toString();u.search=b?`?${b}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:gs([n,u.pathname])),Zl(u)}function EA(i,{relative:e}={}){let n=L.useContext(yE);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=AE("useViewTransitionState"),o=mu(i,{relative:e});if(!n.isTransitioning)return!1;let u=_s(n.currentLocation.pathname,r)||n.currentLocation.pathname,h=_s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Rh(o.pathname,h)!=null||Rh(o.pathname,u)!=null}var Zh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(i){return this.listeners.add(i),this.onSubscribe(),()=>{this.listeners.delete(i),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xA={setTimeout:(i,e)=>setTimeout(i,e),clearTimeout:i=>clearTimeout(i),setInterval:(i,e)=>setInterval(i,e),clearInterval:i=>clearInterval(i)},wA=class{#e=xA;#t=!1;setTimeoutProvider(i){this.#e=i}setTimeout(i,e){return this.#e.setTimeout(i,e)}clearTimeout(i){this.#e.clearTimeout(i)}setInterval(i,e){return this.#e.setInterval(i,e)}clearInterval(i){this.#e.clearInterval(i)}},np=new wA;function TA(i){setTimeout(i,0)}var ed=typeof window>"u"||"Deno"in globalThis;function oi(){}function SA(i,e){return typeof i=="function"?i(e):i}function AA(i){return typeof i=="number"&&i>=0&&i!==1/0}function RA(i,e){return Math.max(i+(e||0)-Date.now(),0)}function ip(i,e){return typeof i=="function"?i(e):i}function NA(i,e){return typeof i=="function"?i(e):i}function w0(i,e){const{type:n="all",exact:r,fetchStatus:o,predicate:u,queryKey:h,stale:m}=i;if(h){if(r){if(e.queryHash!==Bp(h,e.options))return!1}else if(!tu(e.queryKey,h))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof m=="boolean"&&e.isStale()!==m||o&&o!==e.state.fetchStatus||u&&!u(e))}function T0(i,e){const{exact:n,status:r,predicate:o,mutationKey:u}=i;if(u){if(!e.options.mutationKey)return!1;if(n){if(eu(e.options.mutationKey)!==eu(u))return!1}else if(!tu(e.options.mutationKey,u))return!1}return!(r&&e.state.status!==r||o&&!o(e))}function Bp(i,e){return(e?.queryKeyHashFn||eu)(i)}function eu(i){return JSON.stringify(i,(e,n)=>sp(n)?Object.keys(n).sort().reduce((r,o)=>(r[o]=n[o],r),{}):n)}function tu(i,e){return i===e?!0:typeof i!=typeof e?!1:i&&e&&typeof i=="object"&&typeof e=="object"?Object.keys(e).every(n=>tu(i[n],e[n])):!1}var CA=Object.prototype.hasOwnProperty;function RE(i,e){if(i===e)return i;const n=S0(i)&&S0(e);if(!n&&!(sp(i)&&sp(e)))return e;const o=(n?i:Object.keys(i)).length,u=n?e:Object.keys(e),h=u.length,m=n?new Array(h):{};let p=0;for(let y=0;y<h;y++){const b=n?y:u[y],x=i[b],S=e[b];if(x===S){m[b]=x,(n?y<o:CA.call(i,b))&&p++;continue}if(x===null||S===null||typeof x!="object"||typeof S!="object"){m[b]=S;continue}const N=RE(x,S);m[b]=N,N===x&&p++}return o===h&&p===o?i:m}function S0(i){return Array.isArray(i)&&i.length===Object.keys(i).length}function sp(i){if(!A0(i))return!1;const e=i.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!A0(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(i)!==Object.prototype)}function A0(i){return Object.prototype.toString.call(i)==="[object Object]"}function IA(i){return new Promise(e=>{np.setTimeout(e,i)})}function DA(i,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(i,e):n.structuralSharing!==!1?RE(i,e):e}function OA(i,e,n=0){const r=[...i,e];return n&&r.length>n?r.slice(1):r}function MA(i,e,n=0){const r=[e,...i];return n&&r.length>n?r.slice(0,-1):r}var Fp=Symbol();function NE(i,e){return!i.queryFn&&e?.initialPromise?()=>e.initialPromise:!i.queryFn||i.queryFn===Fp?()=>Promise.reject(new Error(`Missing queryFn: '${i.queryHash}'`)):i.queryFn}var jA=class extends Zh{#e;#t;#n;constructor(){super(),this.#n=i=>{if(!ed&&window.addEventListener){const e=()=>i();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(i){this.#e!==i&&(this.#e=i,this.onFocus())}onFocus(){const i=this.isFocused();this.listeners.forEach(e=>{e(i)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},CE=new jA;function PA(){let i,e;const n=new Promise((o,u)=>{i=o,e=u});n.status="pending",n.catch(()=>{});function r(o){Object.assign(n,o),delete n.resolve,delete n.reject}return n.resolve=o=>{r({status:"fulfilled",value:o}),i(o)},n.reject=o=>{r({status:"rejected",reason:o}),e(o)},n}var kA=TA;function VA(){let i=[],e=0,n=m=>{m()},r=m=>{m()},o=kA;const u=m=>{e?i.push(m):o(()=>{n(m)})},h=()=>{const m=i;i=[],m.length&&o(()=>{r(()=>{m.forEach(p=>{n(p)})})})};return{batch:m=>{let p;e++;try{p=m()}finally{e--,e||h()}return p},batchCalls:m=>(...p)=>{u(()=>{m(...p)})},schedule:u,setNotifyFunction:m=>{n=m},setBatchNotifyFunction:m=>{r=m},setScheduler:m=>{o=m}}}var an=VA(),LA=class extends Zh{#e=!0;#t;#n;constructor(){super(),this.#n=i=>{if(!ed&&window.addEventListener){const e=()=>i(!0),n=()=>i(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(i){this.#n=i,this.#t?.(),this.#t=i(this.setOnline.bind(this))}setOnline(i){this.#e!==i&&(this.#e=i,this.listeners.forEach(n=>{n(i)}))}isOnline(){return this.#e}},Nh=new LA;function UA(i){return Math.min(1e3*2**i,3e4)}function IE(i){return(i??"online")==="online"?Nh.isOnline():!0}var rp=class extends Error{constructor(i){super("CancelledError"),this.revert=i?.revert,this.silent=i?.silent}};function DE(i){let e=!1,n=0,r;const o=PA(),u=()=>o.status!=="pending",h=B=>{if(!u()){const V=new rp(B);S(V),i.onCancel?.(V)}},m=()=>{e=!0},p=()=>{e=!1},y=()=>CE.isFocused()&&(i.networkMode==="always"||Nh.isOnline())&&i.canRun(),b=()=>IE(i.networkMode)&&i.canRun(),x=B=>{u()||(r?.(),o.resolve(B))},S=B=>{u()||(r?.(),o.reject(B))},N=()=>new Promise(B=>{r=V=>{(u()||y())&&B(V)},i.onPause?.()}).then(()=>{r=void 0,u()||i.onContinue?.()}),U=()=>{if(u())return;let B;const V=n===0?i.initialPromise:void 0;try{B=V??i.fn()}catch(k){B=Promise.reject(k)}Promise.resolve(B).then(x).catch(k=>{if(u())return;const Q=i.retry??(ed?0:3),W=i.retryDelay??UA,re=typeof W=="function"?W(n,k):W,oe=Q===!0||typeof Q=="number"&&n<Q||typeof Q=="function"&&Q(n,k);if(e||!oe){S(k);return}n++,i.onFail?.(n,k),IA(re).then(()=>y()?void 0:N()).then(()=>{e?S(k):U()})})};return{promise:o,status:()=>o.status,cancel:h,continue:()=>(r?.(),o),cancelRetry:m,continueRetry:p,canStart:b,start:()=>(b()?U():N().then(U),o)}}var OE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AA(this.gcTime)&&(this.#e=np.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(i){this.gcTime=Math.max(this.gcTime||0,i??(ed?1/0:300*1e3))}clearGcTimeout(){this.#e&&(np.clearTimeout(this.#e),this.#e=void 0)}},zA=class extends OE{#e;#t;#n;#s;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#s=e.client,this.#n=this.#s.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=R0(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=R0(this.options);n.data!==void 0&&(this.setData(n.data,{updatedAt:n.dataUpdatedAt,manual:!0}),this.#e=n)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,n){const r=DA(this.state.data,e,this.options);return this.#r({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.#r({type:"setState",state:e,setStateOptions:n})}cancel(e){const n=this.#i?.promise;return this.#i?.cancel(e),n?n.then(oi).catch(oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>NA(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Fp||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ip(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RA(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(n=>n.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(n=>n.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#r({type:"invalidate"})}async fetch(e,n){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&n?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(y=>y.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,o=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},u=()=>{const p=NE(this.options,n),b=(()=>{const x={client:this.#s,queryKey:this.queryKey,meta:this.meta};return o(x),x})();return this.#o=!1,this.options.persister?this.options.persister(p,b,this):p(b)},m=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:this.#s,state:this.state,fetchFn:u};return o(p),p})();this.options.behavior?.onFetch(m,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==m.fetchOptions?.meta)&&this.#r({type:"fetch",meta:m.fetchOptions?.meta}),this.#i=DE({initialPromise:n?.initialPromise,fn:m.fetchFn,onCancel:p=>{p instanceof rp&&p.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(p,y)=>{this.#r({type:"failed",failureCount:p,error:y})},onPause:()=>{this.#r({type:"pause"})},onContinue:()=>{this.#r({type:"continue"})},retry:m.options.retry,retryDelay:m.options.retryDelay,networkMode:m.options.networkMode,canRun:()=>!0});try{const p=await this.#i.start();if(p===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(p),this.#n.config.onSuccess?.(p,this),this.#n.config.onSettled?.(p,this.state.error,this),p}catch(p){if(p instanceof rp){if(p.silent)return this.#i.promise;if(p.revert){if(this.state.data===void 0)throw p;return this.state.data}}throw this.#r({type:"error",error:p}),this.#n.config.onError?.(p,this),this.#n.config.onSettled?.(this.state.data,p,this),p}finally{this.scheduleGc()}}#r(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...BA(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const u=e.error;return{...r,error:u,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),an.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function BA(i,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IE(e.networkMode)?"fetching":"paused",...i===void 0&&{error:null,status:"pending"}}}function R0(i){const e=typeof i.initialData=="function"?i.initialData():i.initialData,n=e!==void 0,r=n?typeof i.initialDataUpdatedAt=="function"?i.initialDataUpdatedAt():i.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function N0(i){return{onFetch:(e,n)=>{const r=e.options,o=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],h=e.state.data?.pageParams||[];let m={pages:[],pageParams:[]},p=0;const y=async()=>{let b=!1;const x=U=>{Object.defineProperty(U,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},S=NE(e.options,e.fetchOptions),N=async(U,B,V)=>{if(b)return Promise.reject();if(B==null&&U.pages.length)return Promise.resolve(U);const Q=(()=>{const ue={client:e.client,queryKey:e.queryKey,pageParam:B,direction:V?"backward":"forward",meta:e.options.meta};return x(ue),ue})(),W=await S(Q),{maxPages:re}=e.options,oe=V?MA:OA;return{pages:oe(U.pages,W,re),pageParams:oe(U.pageParams,B,re)}};if(o&&u.length){const U=o==="backward",B=U?FA:C0,V={pages:u,pageParams:h},k=B(r,V);m=await N(V,k,U)}else{const U=i??u.length;do{const B=p===0?h[0]??r.initialPageParam:C0(r,m);if(p>0&&B==null)break;m=await N(m,B),p++}while(p<U)}return m};e.options.persister?e.fetchFn=()=>e.options.persister?.(y,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=y}}}function C0(i,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?i.getNextPageParam(e[r],e,n[r],n):void 0}function FA(i,{pages:e,pageParams:n}){return e.length>0?i.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var qA=class extends OE{#e;#t;#n;#s;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||HA(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(n=>n!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#s?.continue()??this.execute(this.state.variables)}async execute(e){const n=()=>{this.#i({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#s=DE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(h,m)=>{this.#i({type:"failed",failureCount:h,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",u=!this.#s.canStart();try{if(o)n();else{this.#i({type:"pending",variables:e,isPaused:u}),await this.#n.config.onMutate?.(e,this,r);const m=await this.options.onMutate?.(e,r);m!==this.state.context&&this.#i({type:"pending",context:m,variables:e,isPaused:u})}const h=await this.#s.start();return await this.#n.config.onSuccess?.(h,e,this.state.context,this,r),await this.options.onSuccess?.(h,e,this.state.context,r),await this.#n.config.onSettled?.(h,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(h,null,e,this.state.context,r),this.#i({type:"success",data:h}),h}catch(h){try{throw await this.#n.config.onError?.(h,e,this.state.context,this,r),await this.options.onError?.(h,e,this.state.context,r),await this.#n.config.onSettled?.(void 0,h,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(void 0,h,e,this.state.context,r),h}finally{this.#i({type:"error",error:h})}}finally{this.#n.runNext(this)}}#i(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),an.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function HA(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var GA=class extends Zh{constructor(i={}){super(),this.config=i,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(i,e,n){const r=new qA({client:i,mutationCache:this,mutationId:++this.#n,options:i.defaultMutationOptions(e),state:n});return this.add(r),r}add(i){this.#e.add(i);const e=sh(i);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(i):this.#t.set(e,[i])}this.notify({type:"added",mutation:i})}remove(i){if(this.#e.delete(i)){const e=sh(i);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const r=n.indexOf(i);r!==-1&&n.splice(r,1)}else n[0]===i&&this.#t.delete(e)}}this.notify({type:"removed",mutation:i})}canRun(i){const e=sh(i);if(typeof e=="string"){const r=this.#t.get(e)?.find(o=>o.state.status==="pending");return!r||r===i}else return!0}runNext(i){const e=sh(i);return typeof e=="string"?this.#t.get(e)?.find(r=>r!==i&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){an.batch(()=>{this.#e.forEach(i=>{this.notify({type:"removed",mutation:i})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(i){const e={exact:!0,...i};return this.getAll().find(n=>T0(e,n))}findAll(i={}){return this.getAll().filter(e=>T0(i,e))}notify(i){an.batch(()=>{this.listeners.forEach(e=>{e(i)})})}resumePausedMutations(){const i=this.getAll().filter(e=>e.state.isPaused);return an.batch(()=>Promise.all(i.map(e=>e.continue().catch(oi))))}};function sh(i){return i.options.scope?.id}var KA=class extends Zh{constructor(i={}){super(),this.config=i,this.#e=new Map}#e;build(i,e,n){const r=e.queryKey,o=e.queryHash??Bp(r,e);let u=this.get(o);return u||(u=new zA({client:i,queryKey:r,queryHash:o,options:i.defaultQueryOptions(e),state:n,defaultOptions:i.getQueryDefaults(r)}),this.add(u)),u}add(i){this.#e.has(i.queryHash)||(this.#e.set(i.queryHash,i),this.notify({type:"added",query:i}))}remove(i){const e=this.#e.get(i.queryHash);e&&(i.destroy(),e===i&&this.#e.delete(i.queryHash),this.notify({type:"removed",query:i}))}clear(){an.batch(()=>{this.getAll().forEach(i=>{this.remove(i)})})}get(i){return this.#e.get(i)}getAll(){return[...this.#e.values()]}find(i){const e={exact:!0,...i};return this.getAll().find(n=>w0(e,n))}findAll(i={}){const e=this.getAll();return Object.keys(i).length>0?e.filter(n=>w0(i,n)):e}notify(i){an.batch(()=>{this.listeners.forEach(e=>{e(i)})})}onFocus(){an.batch(()=>{this.getAll().forEach(i=>{i.onFocus()})})}onOnline(){an.batch(()=>{this.getAll().forEach(i=>{i.onOnline()})})}},QA=class{#e;#t;#n;#s;#i;#a;#o;#r;constructor(i={}){this.#e=i.queryCache||new KA,this.#t=i.mutationCache||new GA,this.#n=i.defaultOptions||{},this.#s=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=CE.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#r=Nh.subscribe(async i=>{i&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#r?.(),this.#r=void 0)}isFetching(i){return this.#e.findAll({...i,fetchStatus:"fetching"}).length}isMutating(i){return this.#t.findAll({...i,status:"pending"}).length}getQueryData(i){const e=this.defaultQueryOptions({queryKey:i});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(i){const e=this.defaultQueryOptions(i),n=this.#e.build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(i):(i.revalidateIfStale&&n.isStaleByTime(ip(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(i){return this.#e.findAll(i).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(i,e,n){const r=this.defaultQueryOptions({queryKey:i}),u=this.#e.get(r.queryHash)?.state.data,h=SA(e,u);if(h!==void 0)return this.#e.build(this,r).setData(h,{...n,manual:!0})}setQueriesData(i,e,n){return an.batch(()=>this.#e.findAll(i).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(i){const e=this.defaultQueryOptions({queryKey:i});return this.#e.get(e.queryHash)?.state}removeQueries(i){const e=this.#e;an.batch(()=>{e.findAll(i).forEach(n=>{e.remove(n)})})}resetQueries(i,e){const n=this.#e;return an.batch(()=>(n.findAll(i).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...i},e)))}cancelQueries(i,e={}){const n={revert:!0,...e},r=an.batch(()=>this.#e.findAll(i).map(o=>o.cancel(n)));return Promise.all(r).then(oi).catch(oi)}invalidateQueries(i,e={}){return an.batch(()=>(this.#e.findAll(i).forEach(n=>{n.invalidate()}),i?.refetchType==="none"?Promise.resolve():this.refetchQueries({...i,type:i?.refetchType??i?.type??"active"},e)))}refetchQueries(i,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=an.batch(()=>this.#e.findAll(i).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,n);return n.throwOnError||(u=u.catch(oi)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(r).then(oi)}fetchQuery(i){const e=this.defaultQueryOptions(i);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(ip(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(i){return this.fetchQuery(i).then(oi).catch(oi)}fetchInfiniteQuery(i){return i.behavior=N0(i.pages),this.fetchQuery(i)}prefetchInfiniteQuery(i){return this.fetchInfiniteQuery(i).then(oi).catch(oi)}ensureInfiniteQueryData(i){return i.behavior=N0(i.pages),this.ensureQueryData(i)}resumePausedMutations(){return Nh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(i){this.#n=i}setQueryDefaults(i,e){this.#s.set(eu(i),{queryKey:i,defaultOptions:e})}getQueryDefaults(i){const e=[...this.#s.values()],n={};return e.forEach(r=>{tu(i,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(i,e){this.#i.set(eu(i),{mutationKey:i,defaultOptions:e})}getMutationDefaults(i){const e=[...this.#i.values()],n={};return e.forEach(r=>{tu(i,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(i){if(i._defaulted)return i;const e={...this.#n.queries,...this.getQueryDefaults(i.queryKey),...i,_defaulted:!0};return e.queryHash||(e.queryHash=Bp(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Fp&&(e.enabled=!1),e}defaultMutationOptions(i){return i?._defaulted?i:{...this.#n.mutations,...i?.mutationKey&&this.getMutationDefaults(i.mutationKey),...i,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},YA=L.createContext(void 0),$A=({client:i,children:e})=>(L.useEffect(()=>(i.mount(),()=>{i.unmount()}),[i]),g.jsx(YA.Provider,{value:i,children:e}));const XA=()=>{};var I0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},WA=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},jE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,y=p?i[o+2]:0,b=u>>2,x=(u&3)<<4|m>>4;let S=(m&15)<<2|y>>6,N=y&63;p||(N=64,h||(S=64)),r.push(n[b],n[x],n[S],n[N])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(ME(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):WA(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const x=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||x==null)throw new JA;const S=u<<2|m>>4;if(r.push(S),y!==64){const N=m<<4&240|y>>2;if(r.push(N),x!==64){const U=y<<6&192|x;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(i){const e=ME(i);return jE.encodeByteArray(e,!0)},Ch=function(i){return ZA(i).replace(/\./g,"")},PE=function(i){try{return jE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=()=>eR().__FIREBASE_DEFAULTS__,nR=()=>{if(typeof process>"u"||typeof I0>"u")return;const i=I0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},iR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&PE(i[1]);return e&&JSON.parse(e)},td=()=>{try{return XA()||tR()||nR()||iR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kE=i=>td()?.emulatorHosts?.[i],VE=i=>{const e=kE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},LE=()=>td()?.config,UE=i=>td()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function qp(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Ch(JSON.stringify(n)),Ch(JSON.stringify(h)),""].join(".")}const Ql={};function rR(){const i={prod:[],emulator:[]};for(const e of Object.keys(Ql))Ql[e]?i.emulator.push(e):i.prod.push(e);return i}function aR(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let D0=!1;function Hp(i,e){if(typeof window>"u"||typeof document>"u"||!ma(window.location.host)||Ql[i]===e||Ql[i]||D0)return;Ql[i]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",u=rR().prod.length>0;function h(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,N){S.setAttribute("width","24"),S.setAttribute("id",N),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{D0=!0,h()},S}function b(S,N){S.setAttribute("id",N),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function x(){const S=aR(r),N=n("text"),U=document.getElementById(N)||document.createElement("span"),B=n("learnmore"),V=document.getElementById(B)||document.createElement("a"),k=n("preprendIcon"),Q=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;m(W),b(V,B);const re=y();p(Q,k),W.append(Q,U,V,re),document.body.appendChild(W)}u?(U.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function oR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function lR(){const i=td()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function uR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function hR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dR(){const i=en();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function fR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function pR(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR="FirebaseError";class Ki extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gR,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?yR(u,r):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ki(o,m,r)}}function yR(i,e){return i.replace(vR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const vR=/\{\$([^}]+)}/g;function _R(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function la(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const u=i[o],h=e[o];if(O0(u)&&O0(h)){if(!la(u,h))return!1}else if(u!==h)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function O0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,u]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Fl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function bR(i,e){const n=new ER(i,e);return n.subscribe.bind(n)}class ER{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");xR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Um),o.error===void 0&&(o.error=Um),o.complete===void 0&&(o.complete=Um);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function xR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Um(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(i){return i&&i._delegate?i._delegate:i}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new sR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SR(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);r===m&&h.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&e(u,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TR(i){return i===ia?void 0:i}function SR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new wR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ve||(Ve={}));const RR={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},NR=Ve.INFO,CR={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},IR=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=CR[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gp{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=IR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const DR=(i,e)=>e.some(n=>i instanceof n);let M0,j0;function OR(){return M0||(M0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MR(){return j0||(j0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,ap=new WeakMap,FE=new WeakMap,zm=new WeakMap,Kp=new WeakMap;function jR(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(cr(i.result)),o()},h=()=>{r(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,i)}).catch(()=>{}),Kp.set(e,i),e}function PR(i){if(ap.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});ap.set(i,e)}let op={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return ap.get(i);if(e==="objectStoreNames")return i.objectStoreNames||FE.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function kR(i){op=i(op)}function VR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Bm(this),e,...n);return FE.set(r,e.sort?e.sort():[e]),cr(r)}:MR().includes(i)?function(...e){return i.apply(Bm(this),e),cr(BE.get(this))}:function(...e){return cr(i.apply(Bm(this),e))}}function LR(i){return typeof i=="function"?VR(i):(i instanceof IDBTransaction&&PR(i),DR(i,OR())?new Proxy(i,op):i)}function cr(i){if(i instanceof IDBRequest)return jR(i);if(zm.has(i))return zm.get(i);const e=LR(i);return e!==i&&(zm.set(i,e),Kp.set(e,i)),e}const Bm=i=>Kp.get(i);function UR(i,e,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=cr(h);return r&&h.addEventListener("upgradeneeded",p=>{r(cr(h.result),p.oldVersion,p.newVersion,cr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const zR=["get","getKey","getAll","getAllKeys","count"],BR=["put","add","delete","clear"],Fm=new Map;function P0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Fm.get(e))return Fm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=BR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||zR.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Fm.set(e,u),u}kR(i=>({...i,get:(e,n,r)=>P0(e,n)||i.get(e,n,r),has:(e,n)=>!!P0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qR(i){return i.getComponent()?.type==="VERSION"}const lp="@firebase/app",k0="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new Gp("@firebase/app"),HR="@firebase/app-compat",GR="@firebase/analytics-compat",KR="@firebase/analytics",QR="@firebase/app-check-compat",YR="@firebase/app-check",$R="@firebase/auth",XR="@firebase/auth-compat",WR="@firebase/database",JR="@firebase/data-connect",ZR="@firebase/database-compat",eN="@firebase/functions",tN="@firebase/functions-compat",nN="@firebase/installations",iN="@firebase/installations-compat",sN="@firebase/messaging",rN="@firebase/messaging-compat",aN="@firebase/performance",oN="@firebase/performance-compat",lN="@firebase/remote-config",uN="@firebase/remote-config-compat",cN="@firebase/storage",hN="@firebase/storage-compat",dN="@firebase/firestore",fN="@firebase/ai",mN="@firebase/firestore-compat",pN="firebase",gN="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="[DEFAULT]",yN={[lp]:"fire-core",[HR]:"fire-core-compat",[KR]:"fire-analytics",[GR]:"fire-analytics-compat",[YR]:"fire-app-check",[QR]:"fire-app-check-compat",[$R]:"fire-auth",[XR]:"fire-auth-compat",[WR]:"fire-rtdb",[JR]:"fire-data-connect",[ZR]:"fire-rtdb-compat",[eN]:"fire-fn",[tN]:"fire-fn-compat",[nN]:"fire-iid",[iN]:"fire-iid-compat",[sN]:"fire-fcm",[rN]:"fire-fcm-compat",[aN]:"fire-perf",[oN]:"fire-perf-compat",[lN]:"fire-rc",[uN]:"fire-rc-compat",[cN]:"fire-gcs",[hN]:"fire-gcs-compat",[dN]:"fire-fst",[mN]:"fire-fst-compat",[fN]:"fire-vertex","fire-js":"fire-js",[pN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Map,vN=new Map,cp=new Map;function V0(i,e){try{i.container.addComponent(e)}catch(n){bs.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ua(i){const e=i.name;if(cp.has(e))return bs.debug(`There were multiple attempts to register component ${e}.`),!1;cp.set(e,i);for(const n of Ih.values())V0(n,i);for(const n of vN.values())V0(n,i);return!0}function nd(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hr=new pu("app","Firebase",_N);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=gN;function qE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r={name:up,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw hr.create("bad-app-name",{appName:String(o)});if(n||(n=LE()),!n)throw hr.create("no-options");const u=Ih.get(o);if(u){if(la(n,u.options)&&la(r,u.config))return u;throw hr.create("duplicate-app",{appName:o})}const h=new AR(o);for(const p of cp.values())h.addComponent(p);const m=new bN(n,r,h);return Ih.set(o,m),m}function Qp(i=up){const e=Ih.get(i);if(!e&&i===up&&LE())return qE();if(!e)throw hr.create("no-app",{appName:i});return e}function Vi(i,e,n){let r=yN[i]??i;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${r}" with version "${e}":`];o&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bs.warn(h.join(" "));return}ua(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN="firebase-heartbeat-database",xN=1,nu="firebase-heartbeat-store";let qm=null;function HE(){return qm||(qm=UR(EN,xN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(i=>{throw hr.create("idb-open",{originalErrorMessage:i.message})})),qm}async function wN(i){try{const n=(await HE()).transaction(nu),r=await n.objectStore(nu).get(GE(i));return await n.done,r}catch(e){if(e instanceof Ki)bs.warn(e.message);else{const n=hr.create("idb-get",{originalErrorMessage:e?.message});bs.warn(n.message)}}}async function L0(i,e){try{const r=(await HE()).transaction(nu,"readwrite");await r.objectStore(nu).put(e,GE(i)),await r.done}catch(n){if(n instanceof Ki)bs.warn(n.message);else{const r=hr.create("idb-set",{originalErrorMessage:n?.message});bs.warn(r.message)}}}function GE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=1024,SN=30;class AN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new NN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=U0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>SN){const o=CN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){bs.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=U0(),{heartbeatsToSend:n,unsentEntries:r}=RN(this._heartbeatsCache.heartbeats),o=Ch(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return bs.warn(e),""}}}function U0(){return new Date().toISOString().substring(0,10)}function RN(i,e=TN){const n=[];let r=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),z0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),z0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class NN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?pR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return L0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function z0(i){return Ch(JSON.stringify({version:2,heartbeats:i})).length}function CN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(i){ua(new mr("platform-logger",e=>new FR(e),"PRIVATE")),ua(new mr("heartbeat",e=>new AN(e),"PRIVATE")),Vi(lp,k0,i),Vi(lp,k0,"esm2020"),Vi("fire-js","")}IN("");function KE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DN=KE,QE=new pu("auth","Firebase",KE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Gp("@firebase/auth");function ON(i,...e){Dh.logLevel<=Ve.WARN&&Dh.warn(`Auth (${pa}): ${i}`,...e)}function yh(i,...e){Dh.logLevel<=Ve.ERROR&&Dh.error(`Auth (${pa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(i,...e){throw $p(i,...e)}function ci(i,...e){return $p(i,...e)}function Yp(i,e,n){const r={...DN(),[e]:n};return new pu("auth","Firebase",r).create(e,{appName:i.name})}function ys(i){return Yp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MN(i,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Kn(i,"argument-error"),Yp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $p(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return QE.create(i,...e)}function Ee(i,e,...n){if(!i)throw $p(e,...n)}function ms(i){const e="INTERNAL ASSERTION FAILED: "+i;throw yh(e),new Error(e)}function Es(i,e){i||ms(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){return typeof self<"u"&&self.location?.href||""}function jN(){return B0()==="http:"||B0()==="https:"}function B0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jN()||cR()||"connection"in navigator)?navigator.onLine:!0}function kN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Es(n>e,"Short delay should be less than long delay!"),this.isMobile=oR()||hR()}get(){return PN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i,e){Es(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ms("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ms("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ms("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],UN=new yu(3e4,6e4);function Er(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function xr(i,e,n,r,o={}){return $E(i,o,async()=>{let u={},h={};r&&(e==="GET"?h=r:u={body:JSON.stringify(r)});const m=gu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:p,...u};return uR()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ma(i.emulatorConfig.host)&&(y.credentials="include"),YE.fetch()(await XE(i,i.config.apiHost,n,m),y)})}async function $E(i,e,n){i._canInitEmulator=!1;const r={...VN,...e};try{const o=new BN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(i,"user-disabled",h);const b=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Yp(i,b,y);Kn(i,b)}}catch(o){if(o instanceof Ki)throw o;Kn(i,"network-request-failed",{message:String(o)})}}async function vu(i,e,n,r,o={}){const u=await xr(i,e,n,r,o);return"mfaPendingCredential"in u&&Kn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function XE(i,e,n,r){const o=`${e}${n}?${r}`,u=i,h=u.config.emulator?Xp(i.config,o):`${i.config.apiScheme}://${o}`;return LN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function zN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class BN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ci(this.auth,"network-request-failed")),UN.get())})}}function rh(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=ci(i,e,r);return o.customData._tokenResponse=n,o}function F0(i){return i!==void 0&&i.enterprise!==void 0}class FN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return zN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function qN(i,e){return xr(i,"GET","/v2/recaptchaConfig",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(i,e){return xr(i,"POST","/v1/accounts:delete",e)}async function Oh(i,e){return xr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GN(i,e=!1){const n=Ot(i),r=await n.getIdToken(e),o=Wp(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:r,authTime:Yl(Hm(o.auth_time)),issuedAtTime:Yl(Hm(o.iat)),expirationTime:Yl(Hm(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Hm(i){return Number(i)*1e3}function Wp(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return yh("JWT malformed, contained fewer than 3 sections"),null;try{const o=PE(n);return o?JSON.parse(o):(yh("Failed to decode base64 JWT payload"),null)}catch(o){return yh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function q0(i){const e=Wp(i);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iu(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ki&&KN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function KN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yl(this.lastLoginAt),this.creationTime=Yl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(i){const e=i.auth,n=await i.getIdToken(),r=await iu(i,Oh(e,{idToken:n}));Ee(r?.users.length,e,"internal-error");const o=r.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?WE(o.providerUserInfo):[],h=$N(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,y=m?p:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,b)}async function YN(i){const e=Ot(i);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $N(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function WE(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XN(i,e){const n=await $E(i,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await XE(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:r};return i.emulatorConfig&&ma(i.emulatorConfig.host)&&(p.credentials="include"),YE.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function WN(i,e){return xr(i,"POST","/v2/accounts:revokeToken",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=q0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await XN(e,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,h=new mo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),h.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return ms("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(i,e){Ee(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new QN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new dp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await iu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GN(this,e)}reload(){return YN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new li({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(ys(this.auth));const e=await this.getIdToken();return await iu(this,HN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:x,emailVerified:S,isAnonymous:N,providerData:U,stsTokenManager:B}=n;Ee(x&&B,e,"internal-error");const V=mo.fromJSON(this.name,B);Ee(typeof x=="string",e,"internal-error"),rr(r,e.name),rr(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),rr(u,e.name),rr(h,e.name),rr(m,e.name),rr(p,e.name),rr(y,e.name),rr(b,e.name);const k=new li({uid:x,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:N,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:V,createdAt:y,lastLoginAt:b});return U&&Array.isArray(U)&&(k.providerData=U.map(Q=>({...Q}))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,n,r=!1){const o=new mo;o.updateFromServerResponse(n);const u=new li({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?WE(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new mo;m.updateFromIdToken(r);const p=new li({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new dp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;function ps(i){Es(i instanceof Function,"Expected a class definition");let e=H0.get(i);return e?(Es(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,H0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}JE.type="NONE";const G0=JE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(i,e,n){return`firebase:${i}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=vh(this.userKey,o.apiKey,u),this.fullPersistenceKey=vh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Oh(this.auth,{idToken:e}).catch(()=>{});return n?li._fromGetAccountInfoResponse(this.auth,n,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(ps(G0),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ps(G0);const h=vh(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const b=await y._get(h);if(b){let x;if(typeof b=="string"){const S=await Oh(e,{idToken:b}).catch(()=>{});if(!S)break;x=await li._fromGetAccountInfoResponse(e,S,b)}else x=li._fromJSON(e,b);y!==u&&(m=x),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,r):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(h)}catch{}})),new po(u,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ZE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sx(e))return"Blackberry";if(rx(e))return"Webos";if(ex(e))return"Safari";if((e.includes("chrome/")||tx(e))&&!e.includes("edge/"))return"Chrome";if(ix(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if(r?.length===2)return r[1]}return"Other"}function ZE(i=en()){return/firefox\//i.test(i)}function ex(i=en()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tx(i=en()){return/crios\//i.test(i)}function nx(i=en()){return/iemobile/i.test(i)}function ix(i=en()){return/android/i.test(i)}function sx(i=en()){return/blackberry/i.test(i)}function rx(i=en()){return/webos/i.test(i)}function Jp(i=en()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function JN(i=en()){return Jp(i)&&!!window.navigator?.standalone}function ZN(){return dR()&&document.documentMode===10}function ax(i=en()){return Jp(i)||ix(i)||rx(i)||sx(i)||/windows phone/i.test(i)||nx(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(i,e=[]){let n;switch(i){case"Browser":n=K0(en());break;case"Worker":n=`${K0(en())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${pa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,e={}){return xr(i,"GET","/v2/passwordPolicy",Er(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=6;class i2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??n2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Q0(this),this.idTokenSubscription=new Q0(this),this.beforeStateQueue=new e2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ps(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await po.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Oh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(r=m.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(ys(this));const n=e?Ot(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ps(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await t2(this),n=new i2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await WN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ps(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ps(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,r,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ox(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&ON(`Error while retrieving App Check token: ${e.error}`),e?.token}}function wr(i){return Ot(i)}class Q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=bR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let id={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function r2(i){id=i}function lx(i){return id.loadJS(i)}function a2(){return id.recaptchaEnterpriseScript}function o2(){return id.gapiScript}function l2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class u2{constructor(){this.enterprise=new c2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class c2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const h2="recaptcha-enterprise",ux="NO_RECAPTCHA";class d2{constructor(e){this.type=h2,this.auth=wr(e)}async verify(e="verify",n=!1){async function r(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{qN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new FN(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,h(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;F0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{h(y)}).catch(()=>{h(ux)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new u2().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{r(this.auth).then(m=>{if(!n&&F0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=a2();p.length!==0&&(p+=m),lx(p).then(()=>{o(m,u,h)}).catch(y=>{h(y)})}}).catch(m=>{h(m)})})}}async function Y0(i,e,n,r=!1,o=!1){const u=new d2(i);let h;if(o)h=ux;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fp(i,e,n,r,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Y0(i,e,n,n==="getOobCode");return r(i,u)}else return r(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Y0(i,e,n,n==="getOobCode");return r(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(i,e){const n=nd(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(la(u,e??{}))return o;Kn(o,"already-initialized")}return n.initialize({options:e})}function m2(i,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ps);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function p2(i,e,n){const r=wr(i);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,u=cx(e),{host:h,port:m}=g2(e),p=m===null?"":`:${m}`,y={url:`${u}//${h}${p}/`},b=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(la(y,r.config.emulator)&&la(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,ma(h)?(qp(`${u}//${h}${p}`),Hp("Auth",!0)):y2()}function cx(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function g2(i){const e=cx(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:$0(r.substr(u.length+1))}}else{const[u,h]=r.split(":");return{host:u,port:$0(h)}}}function $0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function y2(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ms("not implemented")}_getIdTokenResponse(e){return ms("not implemented")}_linkToIdToken(e,n){return ms("not implemented")}_getReauthenticationResolver(e){return ms("not implemented")}}async function v2(i,e){return xr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _2(i,e){return vu(i,"POST","/v1/accounts:signInWithPassword",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",Er(i,e))}async function E2(i,e){return vu(i,"POST","/v1/accounts:signInWithEmailLink",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Zp{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new su(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new su(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",_2);case"emailLink":return b2(e,{email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,r,"signUpPassword",v2);case"emailLink":return E2(e,{idToken:n,email:this._email,oobCode:this._password});default:Kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(i,e){return vu(i,"POST","/v1/accounts:signInWithIdp",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="http://localhost";class ca extends Zp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Kn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const h=new ca(r,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:x2,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T2(i){const e=Bl(Fl(i)).link,n=e?Bl(Fl(e)).deep_link_id:null,r=Bl(Fl(i)).deep_link_id;return(r?Bl(Fl(r)).link:null)||r||n||e||i}class eg{constructor(e){const n=Bl(Fl(e)),r=n.apiKey??null,o=n.oobCode??null,u=w2(n.mode??null);Ee(r&&o&&u,"argument-error"),this.apiKey=r,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=T2(e);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.providerId=Ro.PROVIDER_ID}static credential(e,n){return su._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=eg.parseLink(n);return Ee(r,"argument-error"),su._fromEmailAndCode(e,r.code,r.tenantId)}}Ro.PROVIDER_ID="password";Ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends tg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends _u{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.FACEBOOK_SIGN_IN_METHOD="facebook.com";ar.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs extends _u{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fs.credential(n,r)}catch{return null}}}fs.GOOGLE_SIGN_IN_METHOD="google.com";fs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends _u{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return or.credential(e.oauthAccessToken)}catch{return null}}}or.GITHUB_SIGN_IN_METHOD="github.com";or.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends _u{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lr.credential(n,r)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(i,e){return vu(i,"POST","/v1/accounts:signUp",Er(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const u=await li._fromIdTokenResponse(e,r,o),h=X0(r);return new ha({user:u,providerId:h,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=X0(r);return new ha({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function X0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends Ki{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,jh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new jh(e,n,r,o)}}function hx(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?jh._fromErrorAndOperation(i,u,e,r):u})}async function A2(i,e,n=!1){const r=await iu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ha._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(i,e,n=!1){const{auth:r}=i;if(pn(r.app))return Promise.reject(ys(r));const o="reauthenticate";try{const u=await iu(i,hx(r,o,e,i),n);Ee(u.idToken,r,"internal-error");const h=Wp(u.idToken);Ee(h,r,"internal-error");const{sub:m}=h;return Ee(i.uid===m,r,"user-mismatch"),ha._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Kn(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dx(i,e,n=!1){if(pn(i.app))return Promise.reject(ys(i));const r="signIn",o=await hx(i,r,e),u=await ha._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(u.user),u}async function N2(i,e){return dx(wr(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fx(i){const e=wr(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C2(i,e,n){if(pn(i.app))return Promise.reject(ys(i));const r=wr(i),h=await fp(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",S2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&fx(i),p}),m=await ha._fromIdTokenResponse(r,"signIn",h);return await r._updateCurrentUser(m.user),m}function I2(i,e,n){return pn(i.app)?Promise.reject(ys(i)):N2(Ot(i),Ro.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fx(i),r})}function D2(i,e,n,r){return Ot(i).onIdTokenChanged(e,n,r)}function O2(i,e,n){return Ot(i).beforeAuthStateChanged(e,n)}function M2(i,e,n,r){return Ot(i).onAuthStateChanged(e,n,r)}function j2(i){return Ot(i).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=1e3,k2=10;class px extends mx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ax(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(r);!n&&this.localCache[r]===h||this.notifyListeners(r,h)},u=this.storage.getItem(r);ZN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,k2):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}px.type="LOCAL";const V2=px;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx extends mx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}gx.type="SESSION";const yx=gx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new sd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(h).map(async y=>y(n.origin,u)),p=await L2(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const y=ng("",20);o.port1.start();const b=setTimeout(()=>{p(new Error("unsupported_event"))},r);h={messageChannel:o,onMessage(x){const S=x;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(b),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function z2(i){Li().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function B2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function F2(){return navigator?.serviceWorker?.controller||null}function q2(){return vx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firebaseLocalStorageDb",H2=1,kh="firebaseLocalStorage",bx="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rd(i,e){return i.transaction([kh],e?"readwrite":"readonly").objectStore(kh)}function G2(){const i=indexedDB.deleteDatabase(_x);return new bu(i).toPromise()}function mp(){const i=indexedDB.open(_x,H2);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(kh,{keyPath:bx})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(kh)?e(r):(r.close(),await G2(),e(await mp()))})})}async function W0(i,e,n){const r=rd(i,!0).put({[bx]:e,value:n});return new bu(r).toPromise()}async function K2(i,e){const n=rd(i,!1).get(e),r=await new bu(n).toPromise();return r===void 0?null:r.value}function J0(i,e){const n=rd(i,!0).delete(e);return new bu(n).toPromise()}const Q2=800,Y2=3;class Ex{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Y2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sd._getInstance(q2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await B2(),!this.activeServiceWorker)return;this.sender=new U2(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||F2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mp();return await W0(e,Ph,"1"),await J0(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>W0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>K2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rd(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ex.type="LOCAL";const $2=Ex;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(i,e){return e?ps(e):(Ee(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends Zp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X2(i){return dx(i.auth,new ig(i),i.bypassAuthState)}function W2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),R2(n,new ig(i),i.bypassAuthState)}async function J2(i){const{auth:e,user:n}=i;return Ee(n,e,"internal-error"),A2(n,new ig(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,r,o,u=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X2;case"linkViaPopup":case"linkViaRedirect":return J2;case"reauthViaPopup":case"reauthViaRedirect":return W2;default:Kn(this.auth,"internal-error")}}resolve(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Es(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new yu(2e3,1e4);async function eC(i,e,n){if(pn(i.app))return Promise.reject(ci(i,"operation-not-supported-in-this-environment"));const r=wr(i);MN(i,e,tg);const o=xx(r,n);return new sa(r,"signInViaPopup",e,o).executeNotNull()}class sa extends wx{constructor(e,n,r,o,u){super(e,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,sa.currentPopupAction&&sa.currentPopupAction.cancel(),sa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Es(this.filter.length===1,"Popup operations only handle one event");const e=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,sa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Z2.get())};e()}}sa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="pendingRedirect",_h=new Map;class nC extends wx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_h.get(this.auth._key());if(!e){try{const r=await iC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_h.set(this.auth._key(),e)}return this.bypassAuthState||_h.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iC(i,e){const n=aC(e),r=rC(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function sC(i,e){_h.set(i._key(),e)}function rC(i){return ps(i._redirectPersistence)}function aC(i){return vh(tC,i.config.apiKey,i.name)}async function oC(i,e,n=!1){if(pn(i.app))return Promise.reject(ys(i));const r=wr(i),o=xx(r,e),h=await new nC(r,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await r._persistUserIfCurrent(h.user),await r._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=600*1e3;class uC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Tx(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";n.onError(ci(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Tx({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function cC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tx(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hC(i,e={}){return xr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fC=/^https?/;async function mC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await hC(i);for(const n of e)try{if(pC(n))return}catch{}Kn(i,"unauthorized-domain")}function pC(i){const e=hp(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===r}if(!fC.test(n))return!1;if(dC.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new yu(3e4,6e4);function eb(){const i=Li().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function yC(i){return new Promise((e,n)=>{function r(){eb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{eb(),n(ci(i,"network-request-failed"))},timeout:gC.get()})}if(Li().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Li().gapi?.load)r();else{const o=l2("iframefcb");return Li()[o]=()=>{gapi.load?r():n(ci(i,"network-request-failed"))},lx(`${o2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw bh=null,e})}let bh=null;function vC(i){return bh=bh||yC(i),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new yu(5e3,15e3),bC="__/auth/iframe",EC="emulator/auth/iframe",xC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TC(i){const e=i.config;Ee(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Xp(e,EC):`https://${i.config.authDomain}/${bC}`,r={apiKey:e.apiKey,appName:i.name,v:pa},o=wC.get(i.config.apiHost);o&&(r.eid=o);const u=i._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${gu(r).slice(1)}`}async function SC(i){const e=await vC(i),n=Li().gapi;return Ee(n,i,"internal-error"),e.open({where:document.body,url:TC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xC,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const h=ci(i,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},_C.get());function p(){Li().clearTimeout(m),o(r)}r.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,NC=600,CC="_blank",IC="http://localhost";class tb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(i,e,n,r=RC,o=NC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const p={...AC,width:r.toString(),height:o.toString(),top:u,left:h},y=en().toLowerCase();n&&(m=tx(y)?CC:n),ZE(y)&&(e=e||IC,p.scrollbars="yes");const b=Object.entries(p).reduce((S,[N,U])=>`${S}${N}=${U},`,"");if(JN(y)&&m!=="_self")return OC(e||"",m),new tb(null);const x=window.open(e||"",m,b);Ee(x,i,"popup-blocked");try{x.focus()}catch{}return new tb(x)}function OC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="__/auth/handler",jC="emulator/auth/handler",PC=encodeURIComponent("fac");async function nb(i,e,n,r,o,u){Ee(i.config.authDomain,i,"auth-domain-config-required"),Ee(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:pa,eventId:o};if(e instanceof tg){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",_R(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,x]of Object.entries({}))h[b]=x}if(e instanceof _u){const b=e.getScopes().filter(x=>x!=="");b.length>0&&(h.scopes=b.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const p=await i._getAppCheckToken(),y=p?`#${PC}=${encodeURIComponent(p)}`:"";return`${kC(i)}?${gu(m).slice(1)}${y}`}function kC({config:i}){return i.emulator?Xp(i,jC):`https://${i.authDomain}/${MC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="webStorageSupport";class VC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yx,this._completeRedirectFn=oC,this._overrideRedirectResult=sC}async _openPopup(e,n,r,o){Es(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await nb(e,n,r,hp(),o);return DC(e,u,ng())}async _openRedirect(e,n,r,o){await this._originValidation(e);const u=await nb(e,n,r,hp(),o);return z2(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Es(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SC(e),r=new uC(e);return n.register("authEvent",o=>(Ee(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Gm,{type:Gm},o=>{const u=o?.[0]?.[Gm];u!==void 0&&n(!!u),Kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=mC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ax()||ex()||Jp()}}const LC=VC;var ib="@firebase/auth",sb="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(i){ua(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=r.options;Ee(h&&!h.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ox(i)},y=new s2(r,o,u,p);return m2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ua(new mr("auth-internal",e=>{const n=wr(e.getProvider("auth").getImmediate());return(r=>new UC(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vi(ib,sb,zC(i)),Vi(ib,sb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=300,qC=UE("authIdTokenMaxAge")||FC;let rb=null;const HC=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>qC)return;const o=n?.token;rb!==o&&(rb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function GC(i=Qp()){const e=nd(i,"auth");if(e.isInitialized())return e.getImmediate();const n=f2(i,{popupRedirectResolver:LC,persistence:[$2,V2,yx]}),r=UE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const h=HC(u.toString());O2(n,h,()=>h(n.currentUser)),D2(n,m=>h(m))}}const o=kE("auth");return o&&p2(n,`http://${o}`),n}function KC(){return document.getElementsByTagName("head")?.[0]??document}r2({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const u=ci("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",KC().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");var ab=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dr,Sx;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function R(){}R.prototype=A.prototype,C.F=A.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(P,M,F){for(var I=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)I[pe-2]=arguments[pe];return A.prototype[M].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,A,R){R||(R=0);const P=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)P[M]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(M=0;M<16;++M)P[M]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=C.g[0],R=C.g[1],M=C.g[2];let F=C.g[3],I;I=A+(F^R&(M^F))+P[0]+3614090360&4294967295,A=R+(I<<7&4294967295|I>>>25),I=F+(M^A&(R^M))+P[1]+3905402710&4294967295,F=A+(I<<12&4294967295|I>>>20),I=M+(R^F&(A^R))+P[2]+606105819&4294967295,M=F+(I<<17&4294967295|I>>>15),I=R+(A^M&(F^A))+P[3]+3250441966&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(F^R&(M^F))+P[4]+4118548399&4294967295,A=R+(I<<7&4294967295|I>>>25),I=F+(M^A&(R^M))+P[5]+1200080426&4294967295,F=A+(I<<12&4294967295|I>>>20),I=M+(R^F&(A^R))+P[6]+2821735955&4294967295,M=F+(I<<17&4294967295|I>>>15),I=R+(A^M&(F^A))+P[7]+4249261313&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(F^R&(M^F))+P[8]+1770035416&4294967295,A=R+(I<<7&4294967295|I>>>25),I=F+(M^A&(R^M))+P[9]+2336552879&4294967295,F=A+(I<<12&4294967295|I>>>20),I=M+(R^F&(A^R))+P[10]+4294925233&4294967295,M=F+(I<<17&4294967295|I>>>15),I=R+(A^M&(F^A))+P[11]+2304563134&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(F^R&(M^F))+P[12]+1804603682&4294967295,A=R+(I<<7&4294967295|I>>>25),I=F+(M^A&(R^M))+P[13]+4254626195&4294967295,F=A+(I<<12&4294967295|I>>>20),I=M+(R^F&(A^R))+P[14]+2792965006&4294967295,M=F+(I<<17&4294967295|I>>>15),I=R+(A^M&(F^A))+P[15]+1236535329&4294967295,R=M+(I<<22&4294967295|I>>>10),I=A+(M^F&(R^M))+P[1]+4129170786&4294967295,A=R+(I<<5&4294967295|I>>>27),I=F+(R^M&(A^R))+P[6]+3225465664&4294967295,F=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(F^A))+P[11]+643717713&4294967295,M=F+(I<<14&4294967295|I>>>18),I=R+(F^A&(M^F))+P[0]+3921069994&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^F&(R^M))+P[5]+3593408605&4294967295,A=R+(I<<5&4294967295|I>>>27),I=F+(R^M&(A^R))+P[10]+38016083&4294967295,F=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(F^A))+P[15]+3634488961&4294967295,M=F+(I<<14&4294967295|I>>>18),I=R+(F^A&(M^F))+P[4]+3889429448&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^F&(R^M))+P[9]+568446438&4294967295,A=R+(I<<5&4294967295|I>>>27),I=F+(R^M&(A^R))+P[14]+3275163606&4294967295,F=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(F^A))+P[3]+4107603335&4294967295,M=F+(I<<14&4294967295|I>>>18),I=R+(F^A&(M^F))+P[8]+1163531501&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(M^F&(R^M))+P[13]+2850285829&4294967295,A=R+(I<<5&4294967295|I>>>27),I=F+(R^M&(A^R))+P[2]+4243563512&4294967295,F=A+(I<<9&4294967295|I>>>23),I=M+(A^R&(F^A))+P[7]+1735328473&4294967295,M=F+(I<<14&4294967295|I>>>18),I=R+(F^A&(M^F))+P[12]+2368359562&4294967295,R=M+(I<<20&4294967295|I>>>12),I=A+(R^M^F)+P[5]+4294588738&4294967295,A=R+(I<<4&4294967295|I>>>28),I=F+(A^R^M)+P[8]+2272392833&4294967295,F=A+(I<<11&4294967295|I>>>21),I=M+(F^A^R)+P[11]+1839030562&4294967295,M=F+(I<<16&4294967295|I>>>16),I=R+(M^F^A)+P[14]+4259657740&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^F)+P[1]+2763975236&4294967295,A=R+(I<<4&4294967295|I>>>28),I=F+(A^R^M)+P[4]+1272893353&4294967295,F=A+(I<<11&4294967295|I>>>21),I=M+(F^A^R)+P[7]+4139469664&4294967295,M=F+(I<<16&4294967295|I>>>16),I=R+(M^F^A)+P[10]+3200236656&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^F)+P[13]+681279174&4294967295,A=R+(I<<4&4294967295|I>>>28),I=F+(A^R^M)+P[0]+3936430074&4294967295,F=A+(I<<11&4294967295|I>>>21),I=M+(F^A^R)+P[3]+3572445317&4294967295,M=F+(I<<16&4294967295|I>>>16),I=R+(M^F^A)+P[6]+76029189&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(R^M^F)+P[9]+3654602809&4294967295,A=R+(I<<4&4294967295|I>>>28),I=F+(A^R^M)+P[12]+3873151461&4294967295,F=A+(I<<11&4294967295|I>>>21),I=M+(F^A^R)+P[15]+530742520&4294967295,M=F+(I<<16&4294967295|I>>>16),I=R+(M^F^A)+P[2]+3299628645&4294967295,R=M+(I<<23&4294967295|I>>>9),I=A+(M^(R|~F))+P[0]+4096336452&4294967295,A=R+(I<<6&4294967295|I>>>26),I=F+(R^(A|~M))+P[7]+1126891415&4294967295,F=A+(I<<10&4294967295|I>>>22),I=M+(A^(F|~R))+P[14]+2878612391&4294967295,M=F+(I<<15&4294967295|I>>>17),I=R+(F^(M|~A))+P[5]+4237533241&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~F))+P[12]+1700485571&4294967295,A=R+(I<<6&4294967295|I>>>26),I=F+(R^(A|~M))+P[3]+2399980690&4294967295,F=A+(I<<10&4294967295|I>>>22),I=M+(A^(F|~R))+P[10]+4293915773&4294967295,M=F+(I<<15&4294967295|I>>>17),I=R+(F^(M|~A))+P[1]+2240044497&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~F))+P[8]+1873313359&4294967295,A=R+(I<<6&4294967295|I>>>26),I=F+(R^(A|~M))+P[15]+4264355552&4294967295,F=A+(I<<10&4294967295|I>>>22),I=M+(A^(F|~R))+P[6]+2734768916&4294967295,M=F+(I<<15&4294967295|I>>>17),I=R+(F^(M|~A))+P[13]+1309151649&4294967295,R=M+(I<<21&4294967295|I>>>11),I=A+(M^(R|~F))+P[4]+4149444226&4294967295,A=R+(I<<6&4294967295|I>>>26),I=F+(R^(A|~M))+P[11]+3174756917&4294967295,F=A+(I<<10&4294967295|I>>>22),I=M+(A^(F|~R))+P[2]+718787259&4294967295,M=F+(I<<15&4294967295|I>>>17),I=R+(F^(M|~A))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+F&4294967295}r.prototype.v=function(C,A){A===void 0&&(A=C.length);const R=A-this.blockSize,P=this.C;let M=this.h,F=0;for(;F<A;){if(M==0)for(;F<=R;)o(this,C,F),F+=this.blockSize;if(typeof C=="string"){for(;F<A;)if(P[M++]=C.charCodeAt(F++),M==this.blockSize){o(this,P),M=0;break}}else for(;F<A;)if(P[M++]=C[F++],M==this.blockSize){o(this,P),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;A=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=A&255,A/=256;for(this.v(C),C=Array(16),A=0,R=0;R<4;++R)for(let P=0;P<32;P+=8)C[A++]=this.g[R]>>>P&255;return C};function u(C,A){var R=m;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=A(C)}function h(C,A){this.h=A;const R=[];let P=!0;for(let M=C.length-1;M>=0;M--){const F=C[M]|0;P&&F==A||(R[M]=F,P=!1)}this.g=R}var m={};function p(C){return-128<=C&&C<128?u(C,function(A){return new h([A|0],A<0?-1:0)}):new h([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return V(y(-C));const A=[];let R=1;for(let P=0;C>=R;P++)A[P]=C/R|0,R*=4294967296;return new h(A,0)}function b(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(b(C.substring(1),A));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(A,8));let P=x;for(let F=0;F<C.length;F+=8){var M=Math.min(8,C.length-F);const I=parseInt(C.substring(F,F+M),A);M<8?(M=y(Math.pow(A,M)),P=P.j(M).add(y(I))):(P=P.j(R),P=P.add(y(I)))}return P}var x=p(0),S=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-V(this).m();let C=0,A=1;for(let R=0;R<this.g.length;R++){const P=this.i(R);C+=(P>=0?P:4294967296+P)*A,A*=4294967296}return C},i.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(U(this))return"0";if(B(this))return"-"+V(this).toString(C);const A=y(Math.pow(C,6));var R=this;let P="";for(;;){const M=re(R,A).g;R=k(R,M.j(A));let F=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,U(R))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},i.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function U(C){if(C.h!=0)return!1;for(let A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function B(C){return C.h==-1}i.l=function(C){return C=k(this,C),B(C)?-1:U(C)?0:1};function V(C){const A=C.g.length,R=[];for(let P=0;P<A;P++)R[P]=~C.g[P];return new h(R,~C.h).add(S)}i.abs=function(){return B(this)?V(this):this},i.add=function(C){const A=Math.max(this.g.length,C.g.length),R=[];let P=0;for(let M=0;M<=A;M++){let F=P+(this.i(M)&65535)+(C.i(M)&65535),I=(F>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);P=I>>>16,F&=65535,I&=65535,R[M]=I<<16|F}return new h(R,R[R.length-1]&-2147483648?-1:0)};function k(C,A){return C.add(V(A))}i.j=function(C){if(U(this)||U(C))return x;if(B(this))return B(C)?V(this).j(V(C)):V(V(this).j(C));if(B(C))return V(this.j(V(C)));if(this.l(N)<0&&C.l(N)<0)return y(this.m()*C.m());const A=this.g.length+C.g.length,R=[];for(var P=0;P<2*A;P++)R[P]=0;for(P=0;P<this.g.length;P++)for(let M=0;M<C.g.length;M++){const F=this.i(P)>>>16,I=this.i(P)&65535,pe=C.i(M)>>>16,we=C.i(M)&65535;R[2*P+2*M]+=I*we,Q(R,2*P+2*M),R[2*P+2*M+1]+=F*we,Q(R,2*P+2*M+1),R[2*P+2*M+1]+=I*pe,Q(R,2*P+2*M+1),R[2*P+2*M+2]+=F*pe,Q(R,2*P+2*M+2)}for(C=0;C<A;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=A;C<2*A;C++)R[C]=0;return new h(R,0)};function Q(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function W(C,A){this.g=C,this.h=A}function re(C,A){if(U(A))throw Error("division by zero");if(U(C))return new W(x,x);if(B(C))return A=re(V(C),A),new W(V(A.g),V(A.h));if(B(A))return A=re(C,V(A)),new W(V(A.g),A.h);if(C.g.length>30){if(B(C)||B(A))throw Error("slowDivide_ only works with positive integers.");for(var R=S,P=A;P.l(C)<=0;)R=oe(R),P=oe(P);var M=ue(R,1),F=ue(P,1);for(P=ue(P,2),R=ue(R,2);!U(P);){var I=F.add(P);I.l(C)<=0&&(M=M.add(R),F=I),P=ue(P,1),R=ue(R,1)}return A=k(C,M.j(A)),new W(M,A)}for(M=x;C.l(A)>=0;){for(R=Math.max(1,Math.floor(C.m()/A.m())),P=Math.ceil(Math.log(R)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=y(R),I=F.j(A);B(I)||I.l(C)>0;)R-=P,F=y(R),I=F.j(A);U(F)&&(F=S),M=M.add(F),C=k(C,I)}return new W(M,C)}i.B=function(C){return re(this,C).h},i.and=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)&C.i(P);return new h(R,this.h&C.h)},i.or=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)|C.i(P);return new h(R,this.h|C.h)},i.xor=function(C){const A=Math.max(this.g.length,C.g.length),R=[];for(let P=0;P<A;P++)R[P]=this.i(P)^C.i(P);return new h(R,this.h^C.h)};function oe(C){const A=C.g.length+1,R=[];for(let P=0;P<A;P++)R[P]=C.i(P)<<1|C.i(P-1)>>>31;return new h(R,C.h)}function ue(C,A){const R=A>>5;A%=32;const P=C.g.length-R,M=[];for(let F=0;F<P;F++)M[F]=A>0?C.i(F+R)>>>A|C.i(F+R+1)<<32-A:C.i(F+R);return new h(M,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,Sx=r,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=b,dr=h}).apply(typeof ab<"u"?ab:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ax,ql,Rx,Eh,pp,Nx,Cx,Ix;(function(){var i,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var v=0;v<c.length;++v){var E=c[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function o(c,v){if(v)e:{var E=r;c=c.split(".");for(var T=0;T<c.length-1;T++){var q=c[T];if(!(q in E))break e;E=E[q]}c=c[c.length-1],T=E[c],v=v(T),v!=T&&v!=null&&e(E,c,{configurable:!0,writable:!0,value:v})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(v){var E=[],T;for(T in v)Object.prototype.hasOwnProperty.call(v,T)&&E.push([T,v[T]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function p(c,v,E){return c.call.apply(c.bind,arguments)}function y(c,v,E){return y=p,y.apply(null,arguments)}function b(c,v){var E=Array.prototype.slice.call(arguments,1);return function(){var T=E.slice();return T.push.apply(T,arguments),c.apply(this,T)}}function x(c,v){function E(){}E.prototype=v.prototype,c.Z=v.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(T,q,$){for(var ae=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ae[Ne-2]=arguments[Ne];return v.prototype[q].apply(T,ae)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function N(c){const v=c.length;if(v>0){const E=Array(v);for(let T=0;T<v;T++)E[T]=c[T];return E}return[]}function U(c,v){for(let T=1;T<arguments.length;T++){const q=arguments[T];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=c.length||0;const $=q.length||0;c.length=E+$;for(let ae=0;ae<$;ae++)c[E+ae]=q[ae]}else c.push(q)}}class B{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function V(c){h.setTimeout(()=>{throw c},0)}function k(){var c=C;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class Q{constructor(){this.h=this.g=null}add(v,E){const T=W.get();T.set(v,E),this.h?this.h.next=T:this.g=T,this.h=T}}var W=new B(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,ue=!1,C=new Q,A=()=>{const c=Promise.resolve(void 0);oe=()=>{c.then(R)}};function R(){for(var c;c=k();){try{c.h.call(c.g)}catch(E){V(E)}var v=W;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};h.addEventListener("test",E,v),h.removeEventListener("test",E,v)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function pe(c,v){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}x(pe,M),pe.prototype.init=function(c,v){const E=this.type=c.type,T=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(E=="mouseover"?v=c.fromElement:E=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&pe.Z.h.call(this)},pe.prototype.h=function(){pe.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(Math.random()*1e6|0),Y=0;function se(c,v,E,T,q){this.listener=c,this.proxy=null,this.src=v,this.type=E,this.capture=!!T,this.ha=q,this.key=++Y,this.da=this.fa=!1}function ce(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function De(c,v,E){for(const T in c)v.call(E,c[T],T,c)}function Oe(c,v){for(const E in c)v.call(void 0,c[E],E,c)}function O(c){const v={};for(const E in c)v[E]=c[E];return v}const J="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,v){let E,T;for(let q=1;q<arguments.length;q++){T=arguments[q];for(E in T)c[E]=T[E];for(let $=0;$<J.length;$++)E=J[$],Object.prototype.hasOwnProperty.call(T,E)&&(c[E]=T[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,v,E,T,q){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const ae=Se(c,v,T,q);return ae>-1?(v=c[ae],E||(v.fa=!1)):(v=new se(v,this.src,$,!!T,q),v.fa=E,c.push(v)),v};function be(c,v){const E=v.type;if(E in c.g){var T=c.g[E],q=Array.prototype.indexOf.call(T,v,void 0),$;($=q>=0)&&Array.prototype.splice.call(T,q,1),$&&(ce(v),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Se(c,v,E,T){for(let q=0;q<c.length;++q){const $=c[q];if(!$.da&&$.listener==v&&$.capture==!!E&&$.ha==T)return q}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,v,E,T,q){if(Array.isArray(v)){for(let $=0;$<v.length;$++)ot(c,v[$],E,T,q);return null}return E=Po(E),c&&c[we]?c.J(v,E,m(T)?!!T.capture:!1,q):Ar(c,v,E,!1,T,q)}function Ar(c,v,E,T,q,$){if(!v)throw Error("Invalid event type");const ae=m(q)?!!q.capture:!!q;let Ne=Rr(c);if(Ne||(c[Be]=Ne=new he(c)),E=Ne.add(v,E,T,ae,$),E.proxy)return E;if(T=_a(),E.proxy=T,T.src=c,T.listener=E,c.addEventListener)F||(q=ae),q===void 0&&(q=!1),c.addEventListener(v.toString(),T,q);else if(c.attachEvent)c.attachEvent(fi(v.toString()),T);else if(c.addListener&&c.removeListener)c.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _a(){function c(E){return v.call(c.src,c.listener,E)}const v=Mo;return c}function ba(c,v,E,T,q){if(Array.isArray(v))for(var $=0;$<v.length;$++)ba(c,v[$],E,T,q);else T=m(T)?!!T.capture:!!T,E=Po(E),c&&c[we]?(c=c.i,$=String(v).toString(),$ in c.g&&(v=c.g[$],E=Se(v,E,T,q),E>-1&&(ce(v[E]),Array.prototype.splice.call(v,E,1),v.length==0&&(delete c.g[$],c.h--)))):c&&(c=Rr(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Se(v,E,T,q)),(E=c>-1?v[c]:null)&&Ea(E))}function Ea(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[we])be(v.i,c);else{var E=c.type,T=c.proxy;v.removeEventListener?v.removeEventListener(E,T,c.capture):v.detachEvent?v.detachEvent(fi(E),T):v.addListener&&v.removeListener&&v.removeListener(T),(E=Rr(v))?(be(E,c),E.h==0&&(E.src=null,v[Be]=null)):ce(c)}}}function fi(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Mo(c,v){if(c.da)c=!0;else{v=new pe(v,this);const E=c.listener,T=c.ha||c.src;c.fa&&Ea(c),c=E.call(T,v)}return c}function Rr(c){return c=c[Be],c instanceof he?c:null}var jo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Po(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(v){return c.handleEvent(v)}),c[jo])}function bt(){P.call(this),this.i=new he(this),this.M=this,this.G=null}x(bt,P),bt.prototype[we]=!0,bt.prototype.removeEventListener=function(c,v,E,T){ba(this,c,v,E,T)};function jt(c,v){var E,T=c.G;if(T)for(E=[];T;T=T.G)E.push(T);if(c=c.M,T=v.type||v,typeof v=="string")v=new M(v,c);else if(v instanceof M)v.target=v.target||c;else{var q=v;v=new M(T,c),le(v,q)}q=!0;let $,ae;if(E)for(ae=E.length-1;ae>=0;ae--)$=v.g=E[ae],q=As($,T,!0,v)&&q;if($=v.g=c,q=As($,T,!0,v)&&q,q=As($,T,!1,v)&&q,E)for(ae=0;ae<E.length;ae++)$=v.g=E[ae],q=As($,T,!1,v)&&q}bt.prototype.N=function(){if(bt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const E=c.g[v];for(let T=0;T<E.length;T++)ce(E[T]);delete c.g[v],c.h--}}this.G=null},bt.prototype.J=function(c,v,E,T){return this.i.add(String(c),v,!1,E,T)},bt.prototype.K=function(c,v,E,T){return this.i.add(String(c),v,!0,E,T)};function As(c,v,E,T){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let q=!0;for(let $=0;$<v.length;++$){const ae=v[$];if(ae&&!ae.da&&ae.capture==E){const Ne=ae.listener,gt=ae.ha||ae.src;ae.fa&&be(c.i,ae),q=Ne.call(gt,T)!==!1&&q}}return q&&!T.defaultPrevented}function Od(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:h.setTimeout(c,v||0)}function Nu(c){c.g=Od(()=>{c.g=null,c.i&&(c.i=!1,Nu(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class tn extends P{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Nu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Nr(c){P.call(this),this.h=c,this.g={}}x(Nr,P);var ko=[];function Vo(c){De(c.g,function(v,E){this.g.hasOwnProperty(E)&&Ea(v)},c),c.g={}}Nr.prototype.N=function(){Nr.Z.N.call(this),Vo(this)},Nr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=h.JSON.stringify,Md=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Iu(){}function Du(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Bt(){M.call(this,"d")}x(Bt,M);function Cn(){M.call(this,"c")}x(Cn,M);var pt={},Ou=null;function xa(){return Ou=Ou||new bt}pt.Ia="serverreachability";function Mu(c){M.call(this,pt.Ia,c)}x(Mu,M);function mi(c){const v=xa();jt(v,new Mu(v))}pt.STAT_EVENT="statevent";function Cr(c,v){M.call(this,pt.STAT_EVENT,c),this.stat=v}x(Cr,M);function Et(c){const v=xa();jt(v,new Cr(v,c))}pt.Ja="timingevent";function pi(c,v){M.call(this,pt.Ja,c),this.size=v}x(pi,M);function gi(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},v)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function jd(c,v,E,T,q,$){c.info(function(){if(c.g)if($){var ae="",Ne=$.split("&");for(let Ge=0;Ge<Ne.length;Ge++){var gt=Ne[Ge].split("=");if(gt.length>1){const lt=gt[0];gt=gt[1];const Mn=lt.split("_");ae=Mn.length>=2&&Mn[1]=="type"?ae+(lt+"="+gt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=$;return"XMLHTTP REQ ("+T+") [attempt "+q+"]: "+v+`
`+E+`
`+ae})}function ju(c,v,E,T,q,$,ae){c.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+q+"]: "+v+`
`+E+`
`+$+" "+ae})}function yi(c,v,E,T){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+Pd(c,E)+(T?" "+T:"")})}function Ir(c,v){c.info(function(){return"TIMEOUT: "+v})}$n.prototype.info=function(){};function Pd(c,v){if(!c.g)return v;if(!v)return null;try{const $=JSON.parse(v);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var E=$[c];if(!(E.length<2)){var T=E[1];if(Array.isArray(T)&&!(T.length<1)){var q=T[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ae=1;ae<T.length;ae++)T[ae]=""}}}}return Rs($)}catch{return v}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Lo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function Or(){}x(Or,Iu),Or.prototype.g=function(){return new XMLHttpRequest},Uo=new Or;function Yi(c){return encodeURIComponent(String(c))}function Pu(c){var v=1;c=c.split(":");const E=[];for(;v>0&&c.length;)E.push(c.shift()),v--;return c.length&&E.push(c.join(":")),E}function Xn(c,v,E,T){this.j=c,this.i=v,this.l=E,this.S=T||1,this.V=new Nr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Wn}function Wn(){this.i=null,this.g="",this.h=!1}var xt={},Vt={};function vi(c,v,E){c.M=1,c.A=Mr(Tt(v)),c.u=E,c.R=!0,wa(c,null)}function wa(c,v){c.F=Date.now(),_i(c),c.B=Tt(c.A);var E=c.B,T=c.S;Array.isArray(T)||(T=[String(T)]),Ra(E.i,"t",T),c.C=0,E=c.j.L,c.h=new Wn,c.g=Xu(c.j,E?v:null,!c.u),c.P>0&&(c.O=new tn(y(c.Y,c,c.g),c.P)),v=c.V,E=c.g,T=c.ba;var q="readystatechange";Array.isArray(q)||(q&&(ko[0]=q.toString()),q=ko);for(let $=0;$<q.length;$++){const ae=ot(E,q[$],T||v.handleEvent,!1,v.h||v);if(!ae)break;v.g[ae.key]=ae}v=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),mi(),jd(c.i,c.v,c.B,c.l,c.S,c.u)}Xn.prototype.ba=function(c){c=c.target;const v=this.O;v&&ei(c)==3?v.j():this.Y(c)},Xn.prototype.Y=function(c){try{if(c==this.g)e:{const Ne=ei(this.g),gt=this.g.ya(),Ge=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ne!=4||gt==7||(gt==8||Ge<=0?mi(3):mi(2)),bi(this);var v=this.g.ca();this.X=v;var E=kd(this);if(this.o=v==200,ju(this.i,this.v,this.B,this.l,this.S,Ne,v),this.o){if(this.U&&!this.L){t:{if(this.g){var T,q=this.g;if((T=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var $=T;break t}}$=null}if(c=$)yi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ei(this,c);else{this.o=!1,this.m=3,Et(12),vn(this),In(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Vu(this,E),lt==Vt){Ne==4&&(this.m=4,Et(14),c=!1),yi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==xt){this.m=4,Et(15),yi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else yi(this.i,this.l,lt,null),Ei(this,lt);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||E.length!=0||this.h.h||(this.m=1,Et(16),c=!1),this.o=this.o&&c,!c)yi(this.i,this.l,E,"[Invalid Chunked Response]"),vn(this),In(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),el(ae),ae.P=!0,Et(11))}}else yi(this.i,this.l,E,null),Ei(this,E);Ne==4&&vn(this),this.o&&!this.K&&(Ne==4?Ku(this.j,this):(this.o=!1,_i(this)))}else Xi(this.g),v==400&&E.indexOf("Unknown SID")>0?(this.m=3,Et(12)):(this.m=0,Et(13)),vn(this),In(this)}}}catch{}finally{}};function kd(c){if(!ku(c))return c.g.la();const v=Ft(c.g);if(v==="")return"";let E="";const T=v.length,q=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return vn(c),In(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<T;$++)c.h.h=!0,E+=c.h.i.decode(v[$],{stream:!(q&&$==T-1)});return v.length=0,c.h.g+=E,c.C=0,c.h.g}function ku(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Vu(c,v){var E=c.C,T=v.indexOf(`
`,E);return T==-1?Vt:(E=Number(v.substring(E,T)),isNaN(E)?xt:(T+=1,T+E>v.length?Vt:(v=v.slice(T,T+E),c.C=T+E,v)))}Xn.prototype.cancel=function(){this.K=!0,vn(this)};function _i(c){c.T=Date.now()+c.H,Ta(c,c.H)}function Ta(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=gi(y(c.aa,c),v)}function bi(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Xn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(mi(),Et(17)),vn(this),this.m=2,In(this)):Ta(this,this.T-c)};function In(c){c.j.I==0||c.K||Ku(c.j,c)}function vn(c){bi(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,Vo(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Ei(c,v){try{var E=c.j;if(E.I!=0&&(E.g==c||wi(E.h,c))){if(!c.L&&wi(E.h,c)&&E.I==3){try{var T=E.Ba.g.parse(v)}catch{T=null}if(Array.isArray(T)&&T.length==3){var q=T;if(q[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Oa(E),Ps(E);else break e;zr(E),Et(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=gi(y(E.Va,E),6e3));xi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ci(E,11)}else if((c.L||E.g==c)&&Oa(E),!I(v))for(q=E.Ba.g.parse(v),v=0;v<q.length;v++){let Ge=q[v];const lt=Ge[0];if(!(lt<=E.K))if(E.K=lt,Ge=Ge[1],E.I==2)if(Ge[0]=="c"){E.M=Ge[1],E.ba=Ge[2];const Mn=Ge[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ii=Ge[4];Ii!=null&&(E.za=Ii,E.j.info("SVER="+E.za));const ti=Ge[5];ti!=null&&typeof ti=="number"&&ti>0&&(T=1.5*ti,E.O=T,E.j.info("backChannelRequestTimeoutMs_="+T)),T=E;const ni=c.g;if(ni){const Br=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var $=T.h;$.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Fo($,$.h),$.h=null))}if(T.G){const Ma=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;Ma&&(T.wa=Ma,$e(T.J,T.G,Ma))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),T=E;var ae=c;if(T.na=$u(T,T.L?T.ba:null,T.W),ae.L){qo(T.h,ae);var Ne=ae,gt=T.O;gt&&(Ne.H=gt),Ne.D&&(bi(Ne),_i(Ne)),T.g=ae}else Hu(T);E.i.length>0&&Ni(E)}else Ge[0]!="stop"&&Ge[0]!="close"||Ci(E,7);else E.I==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Ci(E,7):Jo(E):Ge[0]!="noop"&&E.l&&E.l.qa(Ge),E.A=0)}}mi(4)}catch{}}var wt=class{constructor(c,v){this.g=c,this.map=v}};function zo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Bo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xi(c){return c.h?1:c.g?c.g.size:0}function wi(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function Fo(c,v){c.g?c.g.add(v):c.h=v}function qo(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}zo.prototype.cancel=function(){if(this.i=Ho(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ho(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const E of c.g.values())v=v.concat(E.G);return v}return N(c.i)}var Lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sa(c,v){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const T=c[E].indexOf("=");let q,$=null;T>=0?(q=c[E].substring(0,T),$=c[E].substring(T+1)):q=c[E],v(q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function _n(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof _n?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.u),this.h=c.h,Go(this,Fu(c.i)),this.m=c.m):c&&(v=String(c).match(Lu))?(this.l=!1,Lt(this,v[1]||"",!0),this.o=Ti(v[2]||""),this.g=Ti(v[3]||"",!0),Ns(this,v[4]),this.h=Ti(v[5]||"",!0),Go(this,v[6]||"",!0),this.m=Ti(v[7]||"")):(this.l=!1,this.i=new Is(null,this.l))}_n.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(jr(v,Aa,!0),":");var E=this.g;return(E||v=="file")&&(c.push("//"),(v=this.o)&&c.push(jr(v,Aa,!0),"@"),c.push(Yi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(jr(E,E.charAt(0)=="/"?Ko:Uu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",jr(E,zu)),c.join("")},_n.prototype.resolve=function(c){const v=Tt(this);let E=!!c.j;E?Lt(v,c.j):E=!!c.o,E?v.o=c.o:E=!!c.g,E?v.g=c.g:E=c.u!=null;var T=c.h;if(E)Ns(v,c.u);else if(E=!!c.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var q=v.h.lastIndexOf("/");q!=-1&&(T=v.h.slice(0,q+1)+T)}if(q=T,q==".."||q==".")T="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){T=q.lastIndexOf("/",0)==0,q=q.split("/");const $=[];for(let ae=0;ae<q.length;){const Ne=q[ae++];Ne=="."?T&&ae==q.length&&$.push(""):Ne==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),T&&ae==q.length&&$.push("")):($.push(Ne),T=!0)}T=$.join("/")}else T=q}return E?v.h=T:E=c.i.toString()!=="",E?Go(v,Fu(c.i)):E=!!c.m,E&&(v.m=c.m),v};function Tt(c){return new _n(c)}function Lt(c,v,E){c.j=E?Ti(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function Go(c,v,E){v instanceof Is?(c.i=v,Na(c.i,c.l)):(E||(v=jr(v,Cs)),c.i=new Is(v,c.l))}function $e(c,v,E){c.i.set(v,E)}function Mr(c){return $e(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jr(c,v,E){return typeof c=="string"?(c=encodeURI(c).replace(v,on),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function on(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Aa=/[#\/\?@]/g,Uu=/[#\?:]/g,Ko=/[#\?]/g,Cs=/[#\?@]/g,zu=/#/g;function Is(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Sa(c.i,function(v,E){c.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Is.prototype,i.add=function(c,v){ln(this),this.i=null,c=Ds(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(v),this.h+=1,this};function Bu(c,v){ln(c),v=Ds(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function Qo(c,v){return ln(c),v=Ds(c,v),c.g.has(v)}i.forEach=function(c,v){ln(this),this.g.forEach(function(E,T){E.forEach(function(q){c.call(v,q,T,this)},this)},this)};function Yo(c,v){ln(c);let E=[];if(typeof v=="string")Qo(c,v)&&(E=E.concat(c.g.get(Ds(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)E=E.concat(c[v]);return E}i.set=function(c,v){return ln(this),this.i=null,c=Ds(this,c),Qo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},i.get=function(c,v){return c?(c=Yo(this,c),c.length>0?String(c[0]):v):v};function Ra(c,v,E){Bu(c,v),E.length>0&&(c.i=null,c.g.set(Ds(c,v),N(E)),c.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let T=0;T<v.length;T++){var E=v[T];const q=Yi(E);E=Yo(this,E);for(let $=0;$<E.length;$++){let ae=q;E[$]!==""&&(ae+="="+Yi(E[$])),c.push(ae)}}return this.i=c.join("&")};function Fu(c){const v=new Is;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function Ds(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function Na(c,v){v&&!c.j&&(ln(c),c.i=null,c.g.forEach(function(E,T){const q=T.toLowerCase();T!=q&&(Bu(this,T),Ra(this,q,E))},c)),c.j=v}function Jn(c,v){const E=new $n;if(h.Image){const T=new Image;T.onload=b(Dn,E,"TestLoadImage: loaded",!0,v,T),T.onerror=b(Dn,E,"TestLoadImage: error",!1,v,T),T.onabort=b(Dn,E,"TestLoadImage: abort",!1,v,T),T.ontimeout=b(Dn,E,"TestLoadImage: timeout",!1,v,T),h.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=c}else v(!1)}function $o(c,v){const E=new $n,T=new AbortController,q=setTimeout(()=>{T.abort(),Dn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:T.signal}).then($=>{clearTimeout(q),$.ok?Dn(E,"TestPingServer: ok",!0,v):Dn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(q),Dn(E,"TestPingServer: error",!1,v)})}function Dn(c,v,E,T,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),T(E)}catch{}}function Os(){this.g=new Cu}function Si(c){this.i=c.Sb||null,this.h=c.ab||!1}x(Si,Iu),Si.prototype.g=function(){return new Pr(this.i,this.h)};function Pr(c,v){bt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Pr,bt),i=Pr.prototype,i.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Zn(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||h).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ms(this)),this.readyState=0},i.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ca(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ca(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}i.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?Ms(this):Zn(this),this.readyState==3&&Ca(this)}},i.Oa=function(c){this.g&&(this.response=this.responseText=c,Ms(this))},i.Na=function(c){this.g&&(this.response=c,Ms(this))},i.ga=function(){this.g&&Ms(this)};function Ms(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Zn(c)}i.setRequestHeader=function(c,v){this.A.append(c,v)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=v.next();return c.join(`\r
`)};function Zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let v="";return De(c,function(E,T){v+=T,v+=":",v+=E,v+=`\r
`}),v}function kr(c,v,E){e:{for(T in E){var T=!1;break e}T=!0}T||(E=On(E),typeof c=="string"?E!=null&&Yi(E):$e(c,v,E))}function Je(c){bt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Je,bt);var Ai=/^https?$/i,Xo=["POST","PUT"];i=Je.prototype,i.Fa=function(c){this.H=c},i.ea=function(c,v,E,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch($){Vr(this,$);return}if(c=E||"",E=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var q in T)E.set(q,T[q]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const $ of T.keys())E.set($,T.get($));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),q=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(Xo,v,void 0)>=0)||T||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ae]of E)this.g.setRequestHeader($,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Vr(this,$)}};function Vr(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,Wo(c),$i(c)}function Wo(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,jt(this,"complete"),jt(this,"abort"),$i(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),Je.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},i.Xa=function(){Lr(this)};function Lr(c){if(c.h&&typeof u<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(jt(c,"readystatechange"),ei(c)==4){c.h=!1;try{const $=c.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var T;if(T=$===0){let ae=String(c.D).match(Lu)[1]||null;!ae&&h.self&&h.self.location&&(ae=h.self.location.protocol.slice(0,-1)),T=!Ai.test(ae?ae.toLowerCase():"")}E=T}if(E)jt(c,"complete"),jt(c,"success");else{c.o=6;try{var q=ei(c)>2?c.g.statusText:""}catch{q=""}c.l=q+" ["+c.ca()+"]",Wo(c)}}finally{$i(c)}}}}function $i(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,v||jt(c,"ready");try{E.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}i.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Md(v)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xi(c){const v={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<c.length;T++){if(I(c[T]))continue;var E=Pu(c[T]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=v[q]||[];v[q]=$,$.push(E)}Oe(v,function(T){return T.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ri(c,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||v}function js(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ri("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ri("baseRetryDelayMs",5e3,c),this.Za=Ri("retryDelaySeedMs",1e4,c),this.Ta=Ri("forwardChannelMaxRetries",2,c),this.va=Ri("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new zo(c&&c.concurrentRequestLimit),this.Ba=new Os,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=js.prototype,i.ka=8,i.I=1,i.connect=function(c,v,E,T){Et(0),this.W=c,this.H=v||{},E&&T!==void 0&&(this.H.OSID=E,this.H.OAID=T),this.F=this.X,this.J=$u(this,null,this.W),Ni(this)};function Jo(c){if(Ia(c),c.I==3){var v=c.V++,E=Tt(c.J);if($e(E,"SID",c.M),$e(E,"RID",v),$e(E,"TYPE","terminate"),Ur(c,E),v=new Xn(c,c.j,v),v.M=2,v.A=Mr(Tt(E)),E=!1,h.navigator&&h.navigator.sendBeacon)try{E=h.navigator.sendBeacon(v.A.toString(),"")}catch{}!E&&h.Image&&(new Image().src=v.A,E=!0),E||(v.g=Xu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),_i(v)}Yu(c)}function Ps(c){c.g&&(el(c),c.g.cancel(),c.g=null)}function Ia(c){Ps(c),c.v&&(h.clearTimeout(c.v),c.v=null),Oa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ni(c){if(!Bo(c.h)&&!c.m){c.m=!0;var v=c.Ea;oe||A(),ue||(oe(),ue=!0),C.add(v,c),c.D=0}}function Da(c,v){return xi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=gi(y(c.Ea,c,v),Qu(c,c.D)),c.D++,!0)}i.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const q=new Xn(this,this.j,c);let $=this.o;if(this.U&&($?($=O($),le($,this.U)):$=this.U),this.u!==null||this.R||(q.J=$,$=null),this.S)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var T=this.i[E];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(v+=T,v>4096){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=qu(this,q,v),E=Tt(this.J),$e(E,"RID",c),$e(E,"CVER",22),this.G&&$e(E,"X-HTTP-Session-Id",this.G),Ur(this,E),$&&(this.R?v="headers="+Yi(On($))+"&"+v:this.u&&kr(E,this.u,$)),Fo(this.h,q),this.Ra&&$e(E,"TYPE","init"),this.S?($e(E,"$req",v),$e(E,"SID","null"),q.U=!0,vi(q,E,null)):vi(q,E,v),this.I=2}}else this.I==3&&(c?Zo(this,c):this.i.length==0||Bo(this.h)||Zo(this))};function Zo(c,v){var E;v?E=v.l:E=c.V++;const T=Tt(c.J);$e(T,"SID",c.M),$e(T,"RID",E),$e(T,"AID",c.K),Ur(c,T),c.u&&c.o&&kr(T,c.u,c.o),E=new Xn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),v&&(c.i=v.G.concat(c.i)),v=qu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Fo(c.h,E),vi(E,T,v)}function Ur(c,v){c.H&&De(c.H,function(E,T){$e(v,T,E)}),c.l&&De({},function(E,T){$e(v,T,E)})}function qu(c,v,E){E=Math.min(c.i.length,E);const T=c.l?y(c.l.Ka,c.l,c):null;e:{var q=c.i;let Ne=-1;for(;;){const gt=["count="+E];Ne==-1?E>0?(Ne=q[0].g,gt.push("ofs="+Ne)):Ne=0:gt.push("ofs="+Ne);let Ge=!0;for(let lt=0;lt<E;lt++){var $=q[lt].g;const Mn=q[lt].map;if($-=Ne,$<0)Ne=Math.max(0,q[lt].g-100),Ge=!1;else try{$="req"+$+"_"||"";try{var ae=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ii,ti]of ae){let ni=ti;m(ti)&&(ni=Rs(ti)),gt.push($+Ii+"="+encodeURIComponent(ni))}}catch(Ii){throw gt.push($+"type="+encodeURIComponent("_badmap")),Ii}}catch{T&&T(Mn)}}if(Ge){ae=gt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),v.G=c,ae}function Hu(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;oe||A(),ue||(oe(),ue=!0),C.add(v,c),c.A=0}}function zr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=gi(y(c.Da,c),Qu(c,c.A)),c.A++,!0)}i.Da=function(){if(this.v=null,Gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=gi(y(this.Wa,this),c)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Et(10),Ps(this),Gu(this))};function el(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Gu(c){c.g=new Xn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=Tt(c.na);$e(v,"RID","rpc"),$e(v,"SID",c.M),$e(v,"AID",c.K),$e(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&$e(v,"TO",c.ia),$e(v,"TYPE","xmlhttp"),Ur(c,v),c.u&&c.o&&kr(v,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Mr(Tt(v)),E.u=null,E.R=!0,wa(E,c)}i.Va=function(){this.C!=null&&(this.C=null,Ps(this),zr(this),Et(19))};function Oa(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ku(c,v){var E=null;if(c.g==v){Oa(c),el(c),c.g=null;var T=2}else if(wi(c.h,v))E=v.G,qo(c.h,v),T=1;else return;if(c.I!=0){if(v.o)if(T==1){E=v.u?v.u.length:0,v=Date.now()-v.F;var q=c.D;T=xa(),jt(T,new pi(T,E)),Ni(c)}else Hu(c);else if(q=v.m,q==3||q==0&&v.X>0||!(T==1&&Da(c,v)||T==2&&zr(c)))switch(E&&E.length>0&&(v=c.h,v.i=v.i.concat(E)),q){case 1:Ci(c,5);break;case 4:Ci(c,10);break;case 3:Ci(c,6);break;default:Ci(c,2)}}}function Qu(c,v){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*v}function Ci(c,v){if(c.j.info("Error code "+v),v==2){var E=y(c.bb,c),T=c.Ua;const q=!T;T=new _n(T||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Lt(T,"https"),Mr(T),q?Jn(T.toString(),E):$o(T.toString(),E)}else Et(2);c.I=0,c.l&&c.l.pa(v),Yu(c),Ia(c)}i.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Et(2)):(this.j.info("Failed to ping google.com"),Et(1))};function Yu(c){if(c.I=0,c.ja=[],c.l){const v=Ho(c.h);(v.length!=0||c.i.length!=0)&&(U(c.ja,v),U(c.ja,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.oa()}}function $u(c,v,E){var T=E instanceof _n?Tt(E):new _n(E);if(T.g!="")v&&(T.g=v+"."+T.g),Ns(T,T.u);else{var q=h.location;T=q.protocol,v=v?v+"."+q.hostname:q.hostname,q=+q.port;const $=new _n(null);T&&Lt($,T),v&&($.g=v),q&&Ns($,q),E&&($.h=E),T=$}return E=c.G,v=c.wa,E&&v&&$e(T,E,v),$e(T,"VER",c.ka),Ur(c,T),T}function Xu(c,v,E){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Je(new Si({ab:E})):new Je(c.ma),v.Fa(c.L),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}i=Wu.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function ks(){}ks.prototype.g=function(c,v){return new nn(c,v)};function nn(c,v){bt.call(this),this.g=new js(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!I(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!I(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new Wi(this)}x(nn,bt),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Jo(this.g)},nn.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Rs(c),c=E);v.i.push(new wt(v.Ya++,c)),v.I==3&&Ni(v)},nn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,nn.Z.N.call(this)};function Ju(c){Bt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const E in v){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}x(Ju,Bt);function Zu(){Cn.call(this),this.status=1}x(Zu,Cn);function Wi(c){this.g=c}x(Wi,Wu),Wi.prototype.ra=function(){jt(this.g,"a")},Wi.prototype.qa=function(c){jt(this.g,new Ju(c))},Wi.prototype.pa=function(c){jt(this.g,new Zu)},Wi.prototype.oa=function(){jt(this.g,"b")},ks.prototype.createWebChannel=ks.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Ix=function(){return new ks},Cx=function(){return xa()},Nx=pt,pp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,Eh=Dr,Lo.COMPLETE="complete",Rx=Lo,Du.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",bt.prototype.listen=bt.prototype.J,ql=Du,Je.prototype.listenOnce=Je.prototype.K,Je.prototype.getLastError=Je.prototype.Ha,Je.prototype.getLastErrorCode=Je.prototype.ya,Je.prototype.getStatus=Je.prototype.ca,Je.prototype.getResponseJson=Je.prototype.La,Je.prototype.getResponseText=Je.prototype.la,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Fa,Ax=Je}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const ob="@firebase/firestore",lb="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Gp("@firebase/firestore");function uo(){return da.logLevel}function fe(i,...e){if(da.logLevel<=Ve.DEBUG){const n=e.map(sg);da.debug(`Firestore (${No}): ${i}`,...n)}}function xs(i,...e){if(da.logLevel<=Ve.ERROR){const n=e.map(sg);da.error(`Firestore (${No}): ${i}`,...n)}}function vo(i,...e){if(da.logLevel<=Ve.WARN){const n=e.map(sg);da.warn(`Firestore (${No}): ${i}`,...n)}}function sg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,Dx(i,r,n)}function Dx(i,e,n){let r=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw xs(r),new Error(r)}function Ye(i,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,i||Dx(e,o,r)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ki{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class YC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class $C{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ye(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new vs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vs,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vs)}}),0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string",31837,{l:r}),new Ox(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class XC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new XC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ub{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class JC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ye(this.o===void 0,3512);const r=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>r(u)))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ub(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ye(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ub(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZC(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<i;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=ZC(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=e.charAt(o[u]%62))}return r}}function Le(i,e){return i<e?-1:i>e?1:0}function gp(i,e){const n=Math.min(i.length,e.length);for(let r=0;r<n;r++){const o=i.charAt(r),u=e.charAt(r);if(o!==u)return Km(o)===Km(u)?Le(o,u):Km(o)?1:-1}return Le(i.length,e.length)}const eI=55296,tI=57343;function Km(i){const e=i.charCodeAt(0);return e>=eI&&e<=tI}function _o(i,e,n){return i.length===e.length&&i.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="__name__";class Pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&xe(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xe(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const u=Pi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Le(e.length,n.length)}static compareSegments(e,n){const r=Pi.isNumericId(e),o=Pi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):gp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return dr.fromString(e.substring(4,e.length-2))}}class it extends Pi{construct(e,n,r){return new it(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new de(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new it(n)}static emptyPath(){return new it([])}}const nI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Pi{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return nI.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cb}static keyField(){return new Yt([cb])}static fromServerFormat(e){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(r+=m,o++):(u(),o++)}if(u(),h)throw new de(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(it.fromString(e))}static fromName(e){return new ve(it.fromString(e).popFirst(5))}static empty(){return new ve(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i,e,n){if(!n)throw new de(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function iI(i,e,n,r){if(e===!0&&r===!0)throw new de(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function hb(i){if(!ve.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function db(i){if(ve.isDocumentKey(i))throw new de(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jx(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function ad(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe(12329,{type:typeof i})}function yn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ad(i);throw new de(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,e){const n={typeString:i};return e&&(n.value=e),n}function Eu(i,e){if(!jx(i))throw new de(ne.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,u="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){n=`JSON missing required field: '${r}'`;break}const h=i[r];if(o&&typeof h!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new de(ne.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb=-62135596800,mb=1e6;class at{static now(){return at.fromMillis(Date.now())}static fromDate(e){return at.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*mb);return new at(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<fb)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mb}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:at._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,at._jsonSchema))return new at(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-fb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}at._jsonSchemaVersion="firestore/timestamp/1.0",at._jsonSchema={type:Dt("string",at._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new at(0,0))}static max(){return new Te(new at(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function sI(i,e){const n=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,o=Te.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new pr(o,ve.empty(),e)}function rI(i){return new pr(i.readTime,i.key,ru)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(Te.min(),ve.empty(),ru)}static max(){return new pr(Te.max(),ve.empty(),ru)}}function aI(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Le(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==oI)throw i;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ie.reject(n)}static resolve(e){return new ie(((n,r)=>{n(e)}))}static reject(e){return new ie(((n,r)=>{r(e)}))}static waitFor(e){return new ie(((n,r)=>{let o=0,u=0,h=!1;e.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>r(p)))})),h=!0,u===o&&n()}))}static or(e){let n=ie.resolve(!1);for(const r of e)n=n.next((o=>o?ie.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(e,n){return new ie(((r,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((b=>{h[y]=b,++m,m===u&&r(h)}),(b=>o(b)))}}))}static doWhile(e,n){return new ie(((r,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):r()};u()}))}}function uI(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}od.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function ld(i){return i==null}function Vh(i){return i===0&&1/i==-1/0}function cI(i){return typeof i=="number"&&Number.isInteger(i)&&!Vh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="";function hI(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=pb(e)),e=dI(i.get(n),e);return pb(e)}function dI(i,e){let n=e;const r=i.length;for(let o=0;o<r;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case Px:n+="";break;default:n+=u}}return n}function pb(i){return i+Px+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Tr(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function kx(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?r(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,o,u){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,u){return new Qt(e??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const u=r(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xe(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe(57766)}get value(){throw xe(16141)}get color(){throw xe(16727)}get left(){throw xe(29726)}get right(){throw xe(36894)}copy(e,n,r,o,u){return this}insert(e,n,r){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yb(this.data.getIterator())}getIteratorFrom(e){return new yb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class yb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new kt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Vx("Invalid base64 string: "+u):u}})(e);return new $t(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const fI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(i){if(Ye(!!i,39018),typeof i=="string"){let e=0;const n=fI.exec(i);if(Ye(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:_t(i.seconds),nanos:_t(i.nanos)}}function _t(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function yr(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx="server_timestamp",Ux="__type__",zx="__previous_value__",Bx="__local_write_time__";function og(i){return(i?.mapValue?.fields||{})[Ux]?.stringValue===Lx}function ud(i){const e=i.mapValue.fields[zx];return og(e)?ud(e):e}function au(i){const e=gr(i.mapValue.fields[Bx].timestampValue);return new at(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,n,r,o,u,h,m,p,y,b){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=b}}const Lh="(default)";class ou{constructor(e,n){this.projectId=e,this.database=n||Lh}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===Lh}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx="__type__",pI="__max__",lh={mapValue:{}},qx="__vector__",Uh="value";function vr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?og(i)?4:yI(i)?9007199254740991:gI(i)?10:11:xe(28295,{value:i})}function qi(i,e){if(i===e)return!0;const n=vr(i);if(n!==vr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return au(i).isEqual(au(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=gr(o.timestampValue),m=gr(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(o,u){return yr(o.bytesValue).isEqual(yr(u.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(i,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=_t(o.doubleValue),m=_t(u.doubleValue);return h===m?Vh(h)===Vh(m):isNaN(h)&&isNaN(m)}return!1})(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],qi);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(gb(h)!==gb(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!qi(h[p],m[p])))return!1;return!0})(i,e);default:return xe(52216,{left:i})}}function lu(i,e){return(i.values||[]).find((n=>qi(n,e)))!==void 0}function bo(i,e){if(i===e)return 0;const n=vr(i),r=vr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(i.booleanValue,e.booleanValue);case 2:return(function(u,h){const m=_t(u.integerValue||u.doubleValue),p=_t(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(i,e);case 3:return vb(i.timestampValue,e.timestampValue);case 4:return vb(au(i),au(e));case 5:return gp(i.stringValue,e.stringValue);case 6:return(function(u,h){const m=yr(u),p=yr(h);return m.compareTo(p)})(i.bytesValue,e.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let y=0;y<m.length&&y<p.length;y++){const b=Le(m[y],p[y]);if(b!==0)return b}return Le(m.length,p.length)})(i.referenceValue,e.referenceValue);case 8:return(function(u,h){const m=Le(_t(u.latitude),_t(h.latitude));return m!==0?m:Le(_t(u.longitude),_t(h.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return _b(i.arrayValue,e.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},y=m[Uh]?.arrayValue,b=p[Uh]?.arrayValue,x=Le(y?.values?.length||0,b?.values?.length||0);return x!==0?x:_b(y,b)})(i.mapValue,e.mapValue);case 11:return(function(u,h){if(u===lh.mapValue&&h===lh.mapValue)return 0;if(u===lh.mapValue)return 1;if(h===lh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=h.fields||{},b=Object.keys(y);p.sort(),b.sort();for(let x=0;x<p.length&&x<b.length;++x){const S=gp(p[x],b[x]);if(S!==0)return S;const N=bo(m[p[x]],y[b[x]]);if(N!==0)return N}return Le(p.length,b.length)})(i.mapValue,e.mapValue);default:throw xe(23264,{he:n})}}function vb(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Le(i,e);const n=gr(i),r=gr(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function _b(i,e){const n=i.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=bo(n[o],r[o]);if(u)return u}return Le(n.length,r.length)}function Eo(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(n){return yr(n).toBase64()})(i.bytesValue):"referenceValue"in i?(function(n){return ve.fromName(n).toString()})(i.referenceValue):"geoPointValue"in i?(function(n){return`geo(${n.latitude},${n.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=yp(u);return r+"]"})(i.arrayValue):"mapValue"in i?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${yp(n.fields[h])}`;return o+"}"})(i.mapValue):xe(61005,{value:i})}function xh(i){switch(vr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ud(i);return e?16+xh(e):16;case 5:return 2*i.stringValue.length;case 6:return yr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+xh(u)),0)})(i.arrayValue);case 10:case 11:return(function(r){let o=0;return Tr(r.fields,((u,h)=>{o+=u.length+xh(h)})),o})(i.mapValue);default:throw xe(13486,{value:i})}}function bb(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function lg(i){return!!i&&"arrayValue"in i}function Eb(i){return!!i&&"nullValue"in i}function xb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function wh(i){return!!i&&"mapValue"in i}function gI(i){return(i?.mapValue?.fields||{})[Fx]?.stringValue===qx}function $l(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Tr(i.mapValue.fields,((n,r)=>e.mapValue.fields[n]=$l(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(i.arrayValue.values[n]);return e}return{...i}}function yI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===pI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=m.popLast()}h?r[m.lastSegment()]=$l(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Tr(n,((o,u)=>e[o]=u));for(const o of r)delete e[o]}clone(){return new gn($l(this.value))}}function Hx(i){const e=[];return Tr(i.fields,((n,r)=>{const o=new Yt([n]);if(wh(r)){const u=Hx(r.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)})),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,o,u,h,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),gn.empty(),0)}static newFoundDocument(e,n,r,o){return new Zt(e,1,n,Te.min(),r,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this.position=e,this.inclusive=n}}function wb(i,e,n){let r=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?r=ve.comparator(ve.fromName(h.referenceValue),n.key):r=bo(h,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function Tb(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!qi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n="asc"){this.field=e,this.dir=n}}function vI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{}class It extends Gx{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bI(e,n,r):n==="array-contains"?new wI(e,r):n==="in"?new TI(e,r):n==="not-in"?new SI(e,r):n==="array-contains-any"?new AI(e,r):new It(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new EI(e,r):new xI(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(bo(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(bo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class hi extends Gx{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new hi(e,n)}matches(e){return Kx(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kx(i){return i.op==="and"}function Qx(i){return _I(i)&&Kx(i)}function _I(i){for(const e of i.filters)if(e instanceof hi)return!1;return!0}function _p(i){if(i instanceof It)return i.field.canonicalString()+i.op.toString()+Eo(i.value);if(Qx(i))return i.filters.map((e=>_p(e))).join(",");{const e=i.filters.map((n=>_p(n))).join(",");return`${i.op}(${e})`}}function Yx(i,e){return i instanceof It?(function(r,o){return o instanceof It&&r.op===o.op&&r.field.isEqual(o.field)&&qi(r.value,o.value)})(i,e):i instanceof hi?(function(r,o){return o instanceof hi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,h,m)=>u&&Yx(h,o.filters[m])),!0):!1})(i,e):void xe(19439)}function $x(i){return i instanceof It?(function(n){return`${n.field.canonicalString()} ${n.op} ${Eo(n.value)}`})(i):i instanceof hi?(function(n){return n.op.toString()+" {"+n.getFilters().map($x).join(" ,")+"}"})(i):"Filter"}class bI extends It{constructor(e,n,r){super(e,n,r),this.key=ve.fromName(r.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class EI extends It{constructor(e,n){super(e,"in",n),this.keys=Xx("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xI extends It{constructor(e,n){super(e,"not-in",n),this.keys=Xx("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function Xx(i,e){return(e.arrayValue?.values||[]).map((n=>ve.fromName(n.referenceValue)))}class wI extends It{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lg(n)&&lu(n.arrayValue,this.value)}}class TI extends It{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&lu(this.value.arrayValue,n)}}class SI extends It{constructor(e,n){super(e,"not-in",n)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!lu(this.value.arrayValue,n)}}class AI extends It{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>lu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n=null,r=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function Sb(i,e=null,n=[],r=[],o=null,u=null,h=null){return new RI(i,e,n,r,o,u,h)}function ug(i){const e=Re(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>_p(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),ld(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>Eo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>Eo(r))).join(",")),e.Te=n}return e.Te}function cg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!vI(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Yx(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Tb(i.startAt,e.startAt)&&Tb(i.endAt,e.endAt)}function bp(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n=null,r=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function NI(i,e,n,r,o,u,h,m){return new xu(i,e,n,r,o,u,h,m)}function cd(i){return new xu(i)}function Ab(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Wx(i){return i.collectionGroup!==null}function Xl(i){const e=Re(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new kt(Yt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Bh(u,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new Bh(Yt.keyField(),r))}return e.Ie}function Ui(i){const e=Re(i);return e.Ee||(e.Ee=CI(e,Xl(i))),e.Ee}function CI(i,e){if(i.limitType==="F")return Sb(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Bh(o.field,u)}));const n=i.endAt?new zh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new zh(i.startAt.position,i.startAt.inclusive):null;return Sb(i.path,i.collectionGroup,e,i.filters,i.limit,n,r)}}function Ep(i,e){const n=i.filters.concat([e]);return new xu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function xp(i,e,n){return new xu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function hd(i,e){return cg(Ui(i),Ui(e))&&i.limitType===e.limitType}function Jx(i){return`${ug(Ui(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>$x(o))).join(", ")}]`),ld(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>Eo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>Eo(o))).join(",")),`Target(${r})`})(Ui(i))}; limitType=${i.limitType})`}function dd(i,e){return e.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):ve.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(i,e)&&(function(r,o){for(const u of Xl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(i,e)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(i,e)&&(function(r,o){return!(r.startAt&&!(function(h,m,p){const y=wb(h,m,p);return h.inclusive?y<=0:y<0})(r.startAt,Xl(r),o)||r.endAt&&!(function(h,m,p){const y=wb(h,m,p);return h.inclusive?y>=0:y>0})(r.endAt,Xl(r),o))})(i,e)}function II(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Zx(i){return(e,n)=>{let r=!1;for(const o of Xl(i)){const u=DI(o,e,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function DI(i,e,n){const r=i.field.isKeyField()?ve.comparator(e.key,n.key):(function(u,h,m){const p=h.data.field(u),y=m.data.field(u);return p!==null&&y!==null?bo(p,y):xe(42886)})(i.field,e,n);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Tr(this.inner,((n,r)=>{for(const[o,u]of r)e(o,u)}))}isEmpty(){return kx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI=new ht(ve.comparator);function ws(){return OI}const ew=new ht(ve.comparator);function Hl(...i){let e=ew;for(const n of i)e=e.insert(n.key,n);return e}function tw(i){let e=ew;return i.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ra(){return Wl()}function nw(){return Wl()}function Wl(){return new ga((i=>i.toString()),((i,e)=>i.isEqual(e)))}const MI=new ht(ve.comparator),jI=new kt(ve.comparator);function Ue(...i){let e=jI;for(const n of i)e=e.add(n);return e}const PI=new kt(Le);function kI(){return PI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function iw(i){return{integerValue:""+i}}function VI(i,e){return cI(e)?iw(e):hg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(){this._=void 0}}function LI(i,e,n){return i instanceof uu?(function(o,u){const h={fields:{[Ux]:{stringValue:Lx},[Bx]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=ud(u)),u&&(h.fields[zx]=u),{mapValue:h}})(n,e):i instanceof cu?rw(i,e):i instanceof hu?aw(i,e):(function(o,u){const h=sw(o,u),m=Rb(h)+Rb(o.Ae);return vp(h)&&vp(o.Ae)?iw(m):hg(o.serializer,m)})(i,e)}function UI(i,e,n){return i instanceof cu?rw(i,e):i instanceof hu?aw(i,e):n}function sw(i,e){return i instanceof Fh?(function(r){return vp(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(e)?e:{integerValue:0}:null}class uu extends fd{}class cu extends fd{constructor(e){super(),this.elements=e}}function rw(i,e){const n=ow(e);for(const r of i.elements)n.some((o=>qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class hu extends fd{constructor(e){super(),this.elements=e}}function aw(i,e){let n=ow(e);for(const r of i.elements)n=n.filter((o=>!qi(o,r)));return{arrayValue:{values:n}}}class Fh extends fd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Rb(i){return _t(i.integerValue||i.doubleValue)}function ow(i){return lg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n){this.field=e,this.transform=n}}function BI(i,e){return i.field.isEqual(e.field)&&(function(r,o){return r instanceof cu&&o instanceof cu||r instanceof hu&&o instanceof hu?_o(r.elements,o.elements,qi):r instanceof Fh&&o instanceof Fh?qi(r.Ae,o.Ae):r instanceof uu&&o instanceof uu})(i.transform,e.transform)}class FI{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Th(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class md{}function lw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new dg(i.key,Hn.none()):new wu(i.key,i.data,Hn.none());{const n=i.data,r=gn.empty();let o=new kt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?r.delete(u):r.set(u,h),o=o.add(u)}return new Sr(i.key,r,new Nn(o.toArray()),Hn.none())}}function qI(i,e,n){i instanceof wu?(function(o,u,h){const m=o.value.clone(),p=Cb(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(i,e,n):i instanceof Sr?(function(o,u,h){if(!Th(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Cb(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(uw(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(i,e,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,n)}function Jl(i,e,n,r){return i instanceof wu?(function(u,h,m,p){if(!Th(u.precondition,h))return m;const y=u.value.clone(),b=Ib(u.fieldTransforms,p,h);return y.setAll(b),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(i,e,n,r):i instanceof Sr?(function(u,h,m,p){if(!Th(u.precondition,h))return m;const y=Ib(u.fieldTransforms,p,h),b=h.data;return b.setAll(uw(u)),b.setAll(y),h.convertToFoundDocument(h.version,b).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((x=>x.field)))})(i,e,n,r):(function(u,h,m){return Th(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(i,e,n)}function HI(i,e){let n=null;for(const r of i.fieldTransforms){const o=e.data.field(r.field),u=sw(r.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(r.field,u))}return n||null}function Nb(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&_o(r,o,((u,h)=>BI(u,h)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wu extends md{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends md{constructor(e,n,r,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uw(i){const e=new Map;return i.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=i.data.field(n);e.set(n,r)}})),e}function Cb(i,e,n){const r=new Map;Ye(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);r.set(u.field,UI(h,m,n[o]))}return r}function Ib(i,e,n){const r=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);r.set(o.field,LI(u,h,e))}return r}class dg extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GI extends md{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qI(u,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Jl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nw();return this.mutations.forEach((o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=lw(h,m);p!==null&&r.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Te.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ue())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,r)=>Nb(n,r)))&&_o(this.baseMutations,e.baseMutations,((n,r)=>Nb(n,r)))}}class fg{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Ye(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return MI})();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,r[h].version);return new fg(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Fe;function $I(i){switch(i){case ne.OK:return xe(64938);case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return xe(15467,{code:i})}}function cw(i){if(i===void 0)return xs("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Ct.OK:return ne.OK;case Ct.CANCELLED:return ne.CANCELLED;case Ct.UNKNOWN:return ne.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return ne.INTERNAL;case Ct.UNAVAILABLE:return ne.UNAVAILABLE;case Ct.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ct.NOT_FOUND:return ne.NOT_FOUND;case Ct.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ct.ABORTED:return ne.ABORTED;case Ct.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ct.DATA_LOSS:return ne.DATA_LOSS;default:return xe(39323,{code:i})}}(Fe=Ct||(Ct={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=new dr([4294967295,4294967295],0);function Db(i){const e=XI().encode(i),n=new Sx;return n.update(e),new Uint8Array(n.digest())}function Ob(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new dr([n,r],0),new dr([o,u],0)]}class mg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(r<0)throw new Gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=dr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(dr.fromNumber(r)));return o.compare(WI)===1&&(o=new dr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Db(e),[r,o]=Ob(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);if(!this.we(h))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new mg(u,o,n);return r.forEach((m=>h.insert(m))),h}insert(e){if(this.ge===0)return;const n=Db(e),[r,o]=Ob(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(r,o,u);this.Se(h)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n,r,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new pd(Te.min(),o,new ht(Le),ws(),Ue())}}class Tu{constructor(e,n,r,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Tu(r,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n,r,o){this.be=e,this.removedTargetIds=n,this.key=r,this.De=o}}class hw{constructor(e,n){this.targetId=e,this.Ce=n}}class dw{constructor(e,n,r=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Mb{constructor(){this.ve=0,this.Fe=jb(),this.Me=$t.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ue(),n=Ue(),r=Ue();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:xe(38017,{changeType:u})}})),new Tu(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=jb()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ye(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class JI{constructor(e){this.Ge=e,this.ze=new Map,this.je=ws(),this.Je=uh(),this.He=uh(),this.Ye=new ht(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xe(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(bp(u))if(r===0){const h=new ve(u.path);this.et(n,h,Zt.newNoDocument(h,Te.min()))}else Ye(r===1,20013,{expectedCount:r});else{const h=this._t(n);if(h!==r){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=yr(r).toUint8Array()}catch(p){if(p instanceof Vx)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new mg(h,o,u)}catch(p){return vo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&bp(m.target)){const p=new ve(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let r=Ue();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(e)));const o=new pd(e,n,this.Ye,this.je,r);return this.je=ws(),this.Je=uh(),this.He=uh(),this.Ye=new ht(Le),o}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Mb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Mb),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function uh(){return new ht(ve.comparator)}function jb(){return new ht(ve.comparator)}const ZI={asc:"ASCENDING",desc:"DESCENDING"},eD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tD={and:"AND",or:"OR"};class nD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function wp(i,e){return i.useProto3Json||ld(e)?e:{value:e}}function qh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function iD(i,e){return qh(i,e.toTimestamp())}function zi(i){return Ye(!!i,49232),Te.fromTimestamp((function(n){const r=gr(n);return new at(r.seconds,r.nanos)})(i))}function pg(i,e){return Tp(i,e).canonicalString()}function Tp(i,e){const n=(function(o){return new it(["projects",o.projectId,"databases",o.database])})(i).child("documents");return e===void 0?n:n.child(e)}function mw(i){const e=it.fromString(i);return Ye(_w(e),10190,{key:e.toString()}),e}function Sp(i,e){return pg(i.databaseId,e.path)}function Qm(i,e){const n=mw(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(gw(n))}function pw(i,e){return pg(i.databaseId,e)}function sD(i){const e=mw(i);return e.length===4?it.emptyPath():gw(e)}function Ap(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function gw(i){return Ye(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Pb(i,e,n){return{name:Sp(i,e),fields:n.value.mapValue.fields}}function rD(i,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:xe(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Ye(b===void 0||typeof b=="string",58123),$t.fromBase64String(b||"")):(Ye(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),$t.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&(function(y){const b=y.code===void 0?ne.UNKNOWN:cw(y.code);return new de(b,y.message||"")})(h);n=new dw(r,o,u,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=Qm(i,r.document.name),u=zi(r.document.updateTime),h=r.document.createTime?zi(r.document.createTime):Te.min(),m=new gn({mapValue:{fields:r.document.fields}}),p=Zt.newFoundDocument(o,u,h,m),y=r.targetIds||[],b=r.removedTargetIds||[];n=new Sh(y,b,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=Qm(i,r.document),u=r.readTime?zi(r.readTime):Te.min(),h=Zt.newNoDocument(o,u),m=r.removedTargetIds||[];n=new Sh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=Qm(i,r.document),u=r.removedTargetIds||[];n=new Sh([],u,o,null)}else{if(!("filter"in e))return xe(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,h=new YI(o,u),m=r.targetId;n=new hw(m,h)}}return n}function aD(i,e){let n;if(e instanceof wu)n={update:Pb(i,e.key,e.value)};else if(e instanceof dg)n={delete:Sp(i,e.key)};else if(e instanceof Sr)n={update:Pb(i,e.key,e.data),updateMask:pD(e.fieldMask)};else{if(!(e instanceof GI))return xe(16599,{Vt:e.type});n={verify:Sp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(u,h){const m=h.transform;if(m instanceof uu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Fh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw xe(20930,{transform:h.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:iD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe(27497)})(i,e.precondition)),n}function oD(i,e){return i&&i.length>0?(Ye(e!==void 0,14353),i.map((n=>(function(o,u){let h=o.updateTime?zi(o.updateTime):zi(u);return h.isEqual(Te.min())&&(h=zi(u)),new FI(h,o.transformResults||[])})(n,e)))):[]}function lD(i,e){return{documents:[pw(i,e.path)]}}function uD(i,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=pw(i,o);const u=(function(y){if(y.length!==0)return vw(hi.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const h=(function(y){if(y.length!==0)return y.map((b=>(function(S){return{field:ho(S.field),direction:dD(S.dir)}})(b)))})(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=wp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function cD(i){let e=sD(i.parent);const n=i.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Ye(r===1,65062);const b=n.from[0];b.allDescendants?o=b.collectionId:e=e.child(b.collectionId)}let u=[];n.where&&(u=(function(x){const S=yw(x);return S instanceof hi&&Qx(S)?S.getFilters():[S]})(n.where));let h=[];n.orderBy&&(h=(function(x){return x.map((S=>(function(U){return new Bh(fo(U.field),(function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let S;return S=typeof x=="object"?x.value:x,ld(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(x){const S=!!x.before,N=x.values||[];return new zh(N,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const S=!x.before,N=x.values||[];return new zh(N,S)})(n.endAt)),NI(e,o,h,u,m,"F",p,y)}function hD(i,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yw(i){return i.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return It.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=fo(n.unaryFilter.field);return It.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=fo(n.unaryFilter.field);return It.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=fo(n.unaryFilter.field);return It.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xe(61313);default:return xe(60726)}})(i):i.fieldFilter!==void 0?(function(n){return It.create(fo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xe(58110);default:return xe(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(n){return hi.create(n.compositeFilter.filters.map((r=>yw(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe(1026)}})(n.compositeFilter.op))})(i):xe(30097,{filter:i})}function dD(i){return ZI[i]}function fD(i){return eD[i]}function mD(i){return tD[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return Yt.fromServerFormat(i.fieldPath)}function vw(i){return i instanceof It?(function(n){if(n.op==="=="){if(xb(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(Eb(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(xb(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(Eb(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:fD(n.op),value:n.value}}})(i):i instanceof hi?(function(n){const r=n.getFilters().map((o=>vw(o)));return r.length===1?r[0]:{compositeFilter:{op:mD(n.op),filters:r}}})(i):xe(54877,{filter:i})}function pD(i){const e=[];return i.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function _w(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,o,u=Te.min(),h=Te.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.yt=e}}function yD(i){const e=cD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?xp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.Cn=new _D}addToCollectionParentIndex(e,n){return this.Cn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(pr.min())}updateCollectionGroup(e,n,r){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class _D{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new kt(it.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new kt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bw=41943040;class mn{static withCacheSize(e){return new mn(e,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(bw,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new xo(0)}static cr(){return new xo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="LruGarbageCollector",bD=1048576;function Lb([i,e],[n,r]){const o=Le(i,n);return o===0?Le(e,r):o}class ED{constructor(e){this.Ir=e,this.buffer=new kt(Lb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Lb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(Vb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?fe(Vb,"Ignoring IndexedDB error during garbage collection: ",n):await Co(n)}await this.Vr(3e5)}))}}class wD{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(od.ce);const r=new ED(n);return this.mr.forEachTarget(e,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(kb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kb):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,o,u,h,m,p,y;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,h=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,n)))).next((x=>(u=x,p=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),uo()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-b}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${x} documents in `+(y-p)+`ms
Total Duration: ${y-b}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:x}))))}}function TD(i,e){return new wD(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.changes=new ga((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Jl(r.mutation,o,Nn.empty(),at.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ue()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ue()){const o=ra();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((u=>{let h=Hl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,n){const r=ra();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ue())))}populateOverlays(e,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(e,n,r,o){let u=ws();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((p,y)=>{const b=r.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof Sr)?u=u.insert(y.key,y):b!==void 0?(h.set(y.key,b.mutation.getFieldMask()),Jl(b.mutation,y,b.mutation.getFieldMask(),at.now())):h.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,b)=>h.set(y,b))),n.forEach(((y,b)=>m.set(y,new AD(b,h.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Wl();let o=new ht(((h,m)=>h-m)),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let b=r.get(p)||Nn.empty();b=m.applyToLocalView(y,b),r.set(p,b);const x=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,x)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,b=p.value,x=nw();b.forEach((S=>{if(!u.has(S)){const N=lw(n.get(S),r.get(S));N!==null&&x.set(S,N),u=u.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,x))}return ie.waitFor(h)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return(function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Wx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-u.size):ie.resolve(ra());let m=ru,p=u;return h.next((y=>ie.forEach(y,((b,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),u.get(b)?ie.resolve():this.remoteDocumentCache.getEntry(e,b).next((S=>{p=p.insert(b,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ue()))).next((b=>({batchId:m,changes:tw(b)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next((r=>{let o=Hl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const u=n.collectionGroup;let h=Hl();return this.indexManager.getCollectionParents(e,u).next((m=>ie.forEach(m,(p=>{const y=(function(x,S){return new xu(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((b=>{b.forEach(((x,S)=>{h=h.insert(x,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,u,o)))).next((h=>{u.forEach(((p,y)=>{const b=y.getKey();h.get(b)===null&&(h=h.insert(b,Zt.newInvalidDocument(b)))}));let m=Hl();return h.forEach(((p,y)=>{const b=u.get(p);b!==void 0&&Jl(b.mutation,y,Nn.empty(),at.now()),dd(n,y)&&(m=m.insert(p,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ie.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:yD(o.bundledQuery),readTime:zi(o.readTime)}})(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.overlays=new ht(ve.comparator),this.qr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ra();return ie.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,u)=>{this.St(e,n,u)})),ie.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),ie.resolve()}getOverlaysForCollection(e,n,r){const o=ra(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let u=new ht(((y,b)=>y-b));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let b=u.get(y.largestBatchId);b===null&&(b=ra(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,b)=>m.set(y,b))),!(m.size()>=o)););return ie.resolve(m)}St(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(r.key,new QI(n,r));let u=this.qr.get(n);u===void 0&&(u=Ue(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(){this.Qr=new kt(zt.$r),this.Ur=new kt(zt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new zt(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new zt(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new ve(new it([])),r=new zt(n,e),o=new zt(n,e+1),u=[];return this.Ur.forEachInRange([r,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ve(new it([])),r=new zt(n,e),o=new zt(n,e+1);let u=Ue();return this.Ur.forEachInRange([r,o],(h=>{u=u.add(h.key)})),u}containsKey(e){const n=new zt(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class zt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ve.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(zt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KI(u,n,r,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(h)}lookupMutationBatch(e,n){return ie.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kt(Le);return n.forEach((o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{r=r.add(m.Yr)}))})),ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let u=r;ve.isDocumentKey(u)||(u=u.child(""));const h=new zt(new ve(u),0);let m=new kt(Le);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Yr)),!0)}),h),ie.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Ye(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return ie.forEach(n.mutations,(o=>{const u=new zt(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new zt(n,0),o=this.Zr.firstAfterOrEqual(r);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e){this.ri=e,this.docs=(function(){return new ht(ve.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ie.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=ws();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))})),ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let u=ws();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:b}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||aI(rI(b),r)<=0||(o.has(b.key)||dd(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,r,o){xe(9500)}ii(e,n){return ie.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new MD(this)}getSize(e){return ie.resolve(this.size)}}class MD extends SD{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(r)})),ie.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.persistence=e,this.si=new ga((n=>ug(n)),cg),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new gg,this.targetCount=0,this.ai=xo.ur()}forEachTarget(e,n){return this.si.forEach(((r,o)=>n(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),ie.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new xo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.Pr(n),ie.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,r){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return ie.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),ie.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(e,h))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return ie.resolve(r)}containsKey(e,n){return ie.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,n){this.ui={},this.overlays={},this.ci=new od(0),this.li=!1,this.li=!0,this.hi=new ID,this.referenceDelegate=e(this),this.Pi=new jD(this),this.indexManager=new vD,this.remoteDocumentCache=(function(o){return new OD(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new gD(n),this.Ii=new ND(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new DD(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){fe("MemoryPersistence","Starting transaction:",e);const o=new PD(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class PD extends lI{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new gg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw xe(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),ie.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ie.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(r=>{const o=ve.fromPath(r);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ie.or([()=>ie.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hh{constructor(e,n){this.persistence=e,this.pi=new ga((r=>hI(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=TD(this,n)}static mi(e,n){return new Hh(e,n)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return ie.forEach(this.pi,((r,o)=>this.br(e,r,o).next((u=>u?ie.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(h=>this.br(e,h,n).next((m=>{m||(r++,u.removeEntry(h,Te.min()))})))).next((()=>u.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ie.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=xh(e.data.value)),n}br(e,n,r){return ie.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ie.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=o}static As(e,n){let r=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vg(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return fR()?8:uI(en())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const u={result:null};return this.ys(e,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(e,n,o,r).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new kD;return this.Ss(e,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,h,m.size)}))})).next((()=>u.result))}bs(e,n,r,o){return r.documentReadCount<this.fs?(uo()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",co(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(uo()<=Ve.DEBUG&&fe("QueryEngine","Query:",co(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(uo()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",co(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):ie.resolve())}ys(e,n){if(Ab(n))return ie.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=xp(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((u=>{const h=Ue(...u);return this.ps.getDocuments(e,h).next((m=>this.indexManager.getMinOffset(e,r).next((p=>{const y=this.Ds(n,m);return this.Cs(n,y,h,p.readTime)?this.ys(e,xp(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,r,o){return Ab(n)||o.isEqual(Te.min())?ie.resolve(null):this.ps.getDocuments(e,r).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,r,o)?ie.resolve(null):(uo()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),co(n)),this.vs(e,h,n,sI(o,ru)).next((m=>m)))}))}Ds(e,n){let r=new kt(Zx(e));return n.forEach(((o,u)=>{dd(e,u)&&(r=r.add(u))})),r}Cs(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,r){return uo()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",co(n)),this.ps.getDocumentsMatchingQuery(e,n,pr.min(),r)}vs(e,n,r,o){return this.ps.getDocumentsMatchingQuery(e,r,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",LD=3e8;class UD{constructor(e,n,r,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Le),this.xs=new ga((u=>ug(u)),cg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new RD(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function zD(i,e,n,r){return new UD(i,e,n,r)}async function xw(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const h=[],m=[];let p=Ue();for(const y of o){h.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}for(const y of u){m.push(y.batchId);for(const b of y.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(r,p).next((y=>({Ls:y,removedBatchIds:h,addedBatchIds:m})))}))}))}function BD(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,y,b){const x=y.batch,S=x.keys();let N=ie.resolve();return S.forEach((U=>{N=N.next((()=>b.getEntry(p,U))).next((B=>{const V=y.docVersions.get(U);Ye(V!==null,48541),B.version.compareTo(V)<0&&(x.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),b.addEntry(B)))}))})),N.next((()=>m.mutationQueue.removeMutationBatch(p,x)))})(n,r,e,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let p=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function ww(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function FD(i,e){const n=Re(i),r=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach(((b,x)=>{const S=o.get(x);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,b.removedDocuments,x).next((()=>n.Pi.addMatchingKeys(u,b.addedDocuments,x))));let N=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(x)!==null?N=N.withResumeToken($t.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):b.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(b.resumeToken,r)),o=o.insert(x,N),(function(B,V,k){return B.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=LD?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(S,N,b)&&m.push(n.Pi.updateTargetData(u,N))}));let p=ws(),y=Ue();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),m.push(qD(u,h,e.documentUpdates).next((b=>{p=b.ks,y=b.qs}))),!r.isEqual(Te.min())){const b=n.Pi.getLastRemoteSnapshotVersion(u).next((x=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));m.push(b)}return ie.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function qD(i,e,n){let r=Ue(),o=Ue();return n.forEach((u=>r=r.add(u))),e.getEntries(i,r).next((u=>{let h=ws();return n.forEach(((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):fe(_g,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function HD(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ag),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function GD(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,e).next((u=>u?(o=u,ie.resolve(o)):n.Pi.allocateTargetId(r).next((h=>(o=new ur(e,h,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Rp(i,e,n){const r=Re(i),o=r.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(h=>r.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Io(h))throw h;fe(_g,`Failed to update sequence numbers for target ${e}: ${h}`)}r.Ms=r.Ms.remove(e),r.xs.delete(o.target)}function Ub(i,e,n){const r=Re(i);let o=Te.min(),u=Ue();return r.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,b){const x=Re(p),S=x.xs.get(b);return S!==void 0?ie.resolve(x.Ms.get(S)):x.Pi.getTargetData(y,b)})(r,h,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(h,e,n?o:Te.min(),n?u:Ue()))).next((m=>(KD(r,II(e),m),{documents:m,Qs:u})))))}function KD(i,e,n){let r=i.Os.get(e)||Te.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),i.Os.set(e,r)}class zb{constructor(){this.activeTargetIds=kI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QD{constructor(){this.Mo=new zb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new zb,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="ConnectivityMonitor";class Fb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(Bb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(Bb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function Np(){return ch===null?ch=(function(){return 268435456+Math.round(2147483648*Math.random())})():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="RestConnection",$D={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XD{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===Lh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(e,n,r,o,u){const h=Np(),m=this.zo(e,n.toUriEncodedString());fe(Ym,`Sending RPC '${e}' ${h}:`,m,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(m),b=ma(y);return this.Jo(e,m,p,r,b).then((x=>(fe(Ym,`Received RPC '${e}' ${h}: `,x),x)),(x=>{throw vo(Ym,`RPC '${e}' ${h} failed with error: `,x,"url: ",m,"request:",r),x}))}Ho(e,n,r,o,u,h){return this.Go(e,n,r,o,u)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),r&&r.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const r=$D[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class JD extends XD{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,o,u){const h=Np();return new Promise(((m,p)=>{const y=new Ax;y.setWithCredentials(!0),y.listenOnce(Rx.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Eh.NO_ERROR:const x=y.getResponseJson();fe(Wt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(x)),m(x);break;case Eh.TIMEOUT:fe(Wt,`RPC '${e}' ${h} timed out`),p(new de(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Eh.HTTP_ERROR:const S=y.getStatus();if(fe(Wt,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const U=N?.error;if(U&&U.status&&U.message){const B=(function(k){const Q=k.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Q)>=0?Q:ne.UNKNOWN})(U.status);p(new de(B,U.message))}else p(new de(ne.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new de(ne.UNAVAILABLE,"Connection failed."));break;default:xe(9055,{l_:e,streamId:h,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{fe(Wt,`RPC '${e}' ${h} completed.`)}}));const b=JSON.stringify(o);fe(Wt,`RPC '${e}' ${h} sending request:`,o),y.send(n,"POST",b,r,15)}))}T_(e,n,r){const o=Np(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Ix(),m=Cx(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const b=u.join("");fe(Wt,`Creating RPC '${e}' stream ${o}: ${b}`,p);const x=h.createWebChannel(b,p);this.I_(x);let S=!1,N=!1;const U=new WD({Yo:V=>{N?fe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(S||(fe(Wt,`Opening RPC '${e}' stream ${o} transport.`),x.open(),S=!0),fe(Wt,`RPC '${e}' stream ${o} sending:`,V),x.send(V))},Zo:()=>x.close()}),B=(V,k,Q)=>{V.listen(k,(W=>{try{Q(W)}catch(re){setTimeout((()=>{throw re}),0)}}))};return B(x,ql.EventType.OPEN,(()=>{N||(fe(Wt,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),B(x,ql.EventType.CLOSE,(()=>{N||(N=!0,fe(Wt,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(x))})),B(x,ql.EventType.ERROR,(V=>{N||(N=!0,vo(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,V.name,"Message:",V.message),U.a_(new de(ne.UNAVAILABLE,"The operation could not be completed")))})),B(x,ql.EventType.MESSAGE,(V=>{if(!N){const k=V.data[0];Ye(!!k,16349);const Q=k,W=Q?.error||Q[0]?.error;if(W){fe(Wt,`RPC '${e}' stream ${o} received error:`,W);const re=W.status;let oe=(function(A){const R=Ct[A];if(R!==void 0)return cw(R)})(re),ue=W.message;oe===void 0&&(oe=ne.INTERNAL,ue="Unknown error status: "+re+" with message "+W.message),N=!0,U.a_(new de(oe,ue)),x.close()}else fe(Wt,`RPC '${e}' stream ${o} received:`,k),U.u_(k)}})),B(m,Nx.STAT_EVENT,(V=>{V.stat===pp.PROXY?fe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===pp.NOPROXY&&fe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(i){return new nD(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="PersistentStream";class Sw{constructor(e,n,r,o,u,h,m,p){this.Mi=e,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Tw(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(xs(n.toString()),xs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new de(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return fe(qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(fe(qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZD extends Sw{constructor(e,n,r,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=rD(this.serializer,e),r=(function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?zi(h.readTime):Te.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Ap(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=bp(p)?{documents:lD(u,p)}:{query:uD(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=fw(u,h.resumeToken);const y=wp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=qh(u,h.snapshotVersion.toTimestamp());const y=wp(u,h.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=hD(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Ap(this.serializer),n.removeTarget=e,this.q_(n)}}class eO extends Sw{constructor(e,n,r,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ye(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ye(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ye(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=oD(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ap(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>aD(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{}class nO extends tO{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(e,Tp(n,r),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ne.UNKNOWN,u.toString())}))}Ho(e,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(e,Tp(n,r),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ne.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class iO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xs(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="RemoteStore";class sO{constructor(e,n,r,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{r.enqueueAndForget((async()=>{ya(this)&&(fe(fa,"Restarting streams for network reachability change."),await(async function(p){const y=Re(p);y.Ea.add(4),await Su(y),y.Ra.set("Unknown"),y.Ea.delete(4),await yd(y)})(this))}))})),this.Ra=new iO(r,o)}}async function yd(i){if(ya(i))for(const e of i.da)await e(!0)}async function Su(i){for(const e of i.da)await e(!1)}function Aw(i,e){const n=Re(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),wg(n)?xg(n):Do(n).O_()&&Eg(n,e))}function bg(i,e){const n=Re(i),r=Do(n);n.Ia.delete(e),r.O_()&&Rw(n,e),n.Ia.size===0&&(r.O_()?r.L_():ya(n)&&n.Ra.set("Unknown"))}function Eg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Do(i).Y_(e)}function Rw(i,e){i.Va.Ue(e),Do(i).Z_(e)}function xg(i){i.Va=new JI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Do(i).start(),i.Ra.ua()}function wg(i){return ya(i)&&!Do(i).x_()&&i.Ia.size>0}function ya(i){return Re(i).Ea.size===0}function Nw(i){i.Va=void 0}async function rO(i){i.Ra.set("Online")}async function aO(i){i.Ia.forEach(((e,n)=>{Eg(i,e)}))}async function oO(i,e){Nw(i),wg(i)?(i.Ra.ha(e),xg(i)):i.Ra.set("Unknown")}async function lO(i,e,n){if(i.Ra.set("Online"),e instanceof dw&&e.state===2&&e.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(i,e)}catch(r){fe(fa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Gh(i,r)}else if(e instanceof Sh?i.Va.Ze(e):e instanceof hw?i.Va.st(e):i.Va.tt(e),!n.isEqual(Te.min()))try{const r=await ww(i.localStore);n.compareTo(r)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,y)=>{const b=u.Ia.get(p);if(!b)return;u.Ia.set(p,b.withResumeToken($t.EMPTY_BYTE_STRING,b.snapshotVersion)),Rw(u,p);const x=new ur(b.target,p,y,b.sequenceNumber);Eg(u,x)})),u.remoteSyncer.applyRemoteEvent(m)})(i,n)}catch(r){fe(fa,"Failed to raise snapshot:",r),await Gh(i,r)}}async function Gh(i,e,n){if(!Io(e))throw e;i.Ea.add(1),await Su(i),i.Ra.set("Offline"),n||(n=()=>ww(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{fe(fa,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await yd(i)}))}function Cw(i,e){return e().catch((n=>Gh(i,n,e)))}async function vd(i){const e=Re(i),n=_r(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;uO(e);)try{const o=await HD(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,cO(e,o)}catch(o){await Gh(e,o)}Iw(e)&&Dw(e)}function uO(i){return ya(i)&&i.Ta.length<10}function cO(i,e){i.Ta.push(e);const n=_r(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Iw(i){return ya(i)&&!_r(i).x_()&&i.Ta.length>0}function Dw(i){_r(i).start()}async function hO(i){_r(i).ra()}async function dO(i){const e=_r(i);for(const n of i.Ta)e.ea(n.mutations)}async function fO(i,e,n){const r=i.Ta.shift(),o=fg.from(r,e,n);await Cw(i,(()=>i.remoteSyncer.applySuccessfulWrite(o))),await vd(i)}async function mO(i,e){e&&_r(i).X_&&await(async function(r,o){if((function(h){return $I(h)&&h!==ne.ABORTED})(o.code)){const u=r.Ta.shift();_r(r).B_(),await Cw(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await vd(r)}})(i,e),Iw(i)&&Dw(i)}async function Hb(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),fe(fa,"RemoteStore received new credentials");const r=ya(n);n.Ea.add(3),await Su(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await yd(n)}async function pO(i,e){const n=Re(i);e?(n.Ea.delete(2),await yd(n)):e||(n.Ea.add(2),await Su(n),n.Ra.set("Unknown"))}function Do(i){return i.ma||(i.ma=(function(n,r,o){const u=Re(n);return u.sa(),new ZD(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:rO.bind(null,i),t_:aO.bind(null,i),r_:oO.bind(null,i),H_:lO.bind(null,i)}),i.da.push((async e=>{e?(i.ma.B_(),wg(i)?xg(i):i.Ra.set("Unknown")):(await i.ma.stop(),Nw(i))}))),i.ma}function _r(i){return i.fa||(i.fa=(function(n,r,o){const u=Re(n);return u.sa(),new eO(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:hO.bind(null,i),r_:mO.bind(null,i),ta:dO.bind(null,i),na:fO.bind(null,i)}),i.da.push((async e=>{e?(i.fa.B_(),await vd(i)):(await i.fa.stop(),i.Ta.length>0&&(fe(fa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,u){const h=Date.now()+r,m=new Tg(e,n,h,o,u);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sg(i,e){if(xs("AsyncQueue",`${e}: ${i}`),Io(i))return new de(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static emptySet(e){return new yo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ve.comparator(n.key,r.key):(n,r)=>ve.comparator(n.key,r.key),this.keyedMap=Hl(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof yo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.ga=new ht(ve.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xe(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class wo{constructor(e,n,r,o,u,h,m,p,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new wo(e,n,yo.emptySet(n),h,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class yO{constructor(){this.queries=Kb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Re(n),u=o.queries;o.queries=Kb(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(r)}))})(this,new de(ne.ABORTED,"Firestore shutting down"))}}function Kb(){return new ga((i=>Jx(i)),hd)}async function Ag(i,e){const n=Re(i);let r=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(r=2):(u=new gO,r=e.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=Sg(h,`Initialization of query '${co(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ng(n)}async function Rg(i,e){const n=Re(i),r=e.query;let o=3;const u=n.queries.get(r);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function vO(i,e){const n=Re(i);let r=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(r=!0);h.wa=o}}r&&Ng(n)}function _O(i,e,n){const r=Re(i),o=r.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(e)}function Ng(i){i.Ca.forEach((e=>{e.next()}))}var Cp,Qb;(Qb=Cp||(Cp={})).Ma="default",Qb.Cache="cache";class Cg{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class bO{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ue(),this.mutatedKeys=Ue(),this.eu=Zx(e),this.tu=new yo(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new Gb,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((b,x)=>{const S=o.get(b),N=dd(this.query,x)?x:null,U=!!S&&this.mutatedKeys.has(S.key),B=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let V=!1;S&&N?S.data.isEqual(N.data)?U!==B&&(r.track({type:3,doc:N}),V=!0):this.su(S,N)||(r.track({type:2,doc:N}),V=!0,(p&&this.eu(N,p)>0||y&&this.eu(N,y)<0)&&(m=!0)):!S&&N?(r.track({type:0,doc:N}),V=!0):S&&!N&&(r.track({type:1,doc:S}),V=!0,(p||y)&&(m=!0)),V&&(N?(h=h.add(N),u=B?u.add(b):u.delete(b)):(h=h.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const b=this.query.limitType==="F"?h.last():h.first();h=h.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{tu:h,iu:r,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort(((b,x)=>(function(N,U){const B=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe(20277,{Rt:V})}};return B(N)-B(U)})(b.type,x.type)||this.eu(b.doc,x.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,h.length!==0||y?{snapshot:new wo(this.query,e.tu,u,h,e.mutatedKeys,p===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ue(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new Mw(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new Ow(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ue();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ig="SyncEngine";class EO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class xO{constructor(e){this.key=e,this.hu=!1}}class wO{constructor(e,n,r,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ga((m=>Jx(m)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ve.comparator),this.Au=new Map,this.Ru=new gg,this.Vu={},this.mu=new Map,this.fu=xo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function TO(i,e,n=!0){const r=Uw(i);let o;const u=r.Tu.get(e);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jw(r,e,n,!0),o}async function SO(i,e){const n=Uw(i);await jw(n,e,!0,!1)}async function jw(i,e,n,r){const o=await GD(i.localStore,Ui(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return r&&(m=await AO(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&Aw(i.remoteStore,o),m}async function AO(i,e,n,r,o){i.pu=(x,S,N)=>(async function(B,V,k,Q){let W=V.view.ru(k);W.Cs&&(W=await Ub(B.localStore,V.query,!1).then((({documents:C})=>V.view.ru(C,W))));const re=Q&&Q.targetChanges.get(V.targetId),oe=Q&&Q.targetMismatches.get(V.targetId)!=null,ue=V.view.applyChanges(W,B.isPrimaryClient,re,oe);return $b(B,V.targetId,ue.au),ue.snapshot})(i,x,S,N);const u=await Ub(i.localStore,e,!0),h=new bO(e,u.Qs),m=h.ru(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(n,r&&i.onlineState!=="Offline",o),y=h.applyChanges(m,i.isPrimaryClient,p);$b(i,n,y.au);const b=new EO(e,n,h);return i.Tu.set(e,b),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function RO(i,e,n){const r=Re(i),o=r.Tu.get(e),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((h=>!hd(h,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Rp(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&bg(r.remoteStore,o.targetId),Ip(r,o.targetId)})).catch(Co)):(Ip(r,o.targetId),await Rp(r.localStore,o.targetId,!0))}async function NO(i,e){const n=Re(i),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bg(n.remoteStore,r.targetId))}async function CO(i,e,n){const r=kO(i);try{const o=await(function(h,m){const p=Re(h),y=at.now(),b=m.reduce(((N,U)=>N.add(U.key)),Ue());let x,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(N=>{let U=ws(),B=Ue();return p.Ns.getEntries(N,b).next((V=>{U=V,U.forEach(((k,Q)=>{Q.isValidDocument()||(B=B.add(k))}))})).next((()=>p.localDocuments.getOverlayedDocuments(N,U))).next((V=>{x=V;const k=[];for(const Q of m){const W=HI(Q,x.get(Q.key).overlayedDocument);W!=null&&k.push(new Sr(Q.key,W,Hx(W.value.mapValue),Hn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,y,k,m)})).next((V=>{S=V;const k=V.applyToLocalDocumentSet(x,B);return p.documentOverlayCache.saveOverlays(N,V.batchId,k)}))})).then((()=>({batchId:S.batchId,changes:tw(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let y=h.Vu[h.currentUser.toKey()];y||(y=new ht(Le)),y=y.insert(m,p),h.Vu[h.currentUser.toKey()]=y})(r,o.batchId,n),await Au(r,o.changes),await vd(r.remoteStore)}catch(o){const u=Sg(o,"Failed to persist write");n.reject(u)}}async function Pw(i,e){const n=Re(i);try{const r=await FD(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Ye(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ye(h.hu,14607):o.removedDocuments.size>0&&(Ye(h.hu,42227),h.hu=!1))})),await Au(n,r,e)}catch(r){await Co(r)}}function Yb(i,e,n){const r=Re(i);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=Re(h);p.onlineState=m;let y=!1;p.queries.forEach(((b,x)=>{for(const S of x.Sa)S.va(m)&&(y=!0)})),y&&Ng(p)})(r.eventManager,e),o.length&&r.Pu.H_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IO(i,e,n){const r=Re(i);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),u=o&&o.key;if(u){let h=new ht(ve.comparator);h=h.insert(u,Zt.newNoDocument(u,Te.min()));const m=Ue().add(u),p=new pd(Te.min(),new Map,new ht(Le),h,m);await Pw(r,p),r.du=r.du.remove(u),r.Au.delete(e),Dg(r)}else await Rp(r.localStore,e,!1).then((()=>Ip(r,e,n))).catch(Co)}async function DO(i,e){const n=Re(i),r=e.batch.batchId;try{const o=await BD(n.localStore,e);Vw(n,r,null),kw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,o)}catch(o){await Co(o)}}async function OO(i,e,n){const r=Re(i);try{const o=await(function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return p.mutationQueue.lookupMutationBatch(y,m).next((x=>(Ye(x!==null,37113),b=x.keys(),p.mutationQueue.removeMutationBatch(y,x)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,b,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>p.localDocuments.getDocuments(y,b)))}))})(r.localStore,e);Vw(r,e,n),kw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,o)}catch(o){await Co(o)}}function kw(i,e){(i.mu.get(e)||[]).forEach((n=>{n.resolve()})),i.mu.delete(e)}function Vw(i,e,n){const r=Re(i);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),r.Vu[r.currentUser.toKey()]=o}}function Ip(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),n&&i.Pu.yu(r,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach((r=>{i.Ru.containsKey(r)||Lw(i,r)}))}function Lw(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(bg(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),Dg(i))}function $b(i,e,n){for(const r of n)r instanceof Ow?(i.Ru.addReference(r.key,e),MO(i,r)):r instanceof Mw?(fe(Ig,"Document no longer in limbo: "+r.key),i.Ru.removeReference(r.key,e),i.Ru.containsKey(r.key)||Lw(i,r.key)):xe(19791,{wu:r})}function MO(i,e){const n=e.key,r=n.path.canonicalString();i.du.get(n)||i.Eu.has(r)||(fe(Ig,"New document in limbo: "+n),i.Eu.add(r),Dg(i))}function Dg(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new ve(it.fromString(e)),r=i.fu.next();i.Au.set(r,new xO(n)),i.du=i.du.insert(n,r),Aw(i.remoteStore,new ur(Ui(cd(n.path)),r,"TargetPurposeLimboResolution",od.ce))}}async function Au(i,e,n){const r=Re(i),o=[],u=[],h=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,p)=>{h.push(r.pu(p,e,n).then((y=>{if((y||n)&&r.isPrimaryClient){const b=y?!y.fromCache:n?.targetChanges.get(p.targetId)?.current;r.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=vg.As(p.targetId,y);u.push(b)}})))})),await Promise.all(h),r.Pu.H_(o),await(async function(p,y){const b=Re(p);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>ie.forEach(y,(S=>ie.forEach(S.Es,(N=>b.persistence.referenceDelegate.addReference(x,S.targetId,N))).next((()=>ie.forEach(S.ds,(N=>b.persistence.referenceDelegate.removeReference(x,S.targetId,N)))))))))}catch(x){if(!Io(x))throw x;fe(_g,"Failed to update sequence numbers: "+x)}for(const x of y){const S=x.targetId;if(!x.fromCache){const N=b.Ms.get(S),U=N.snapshotVersion,B=N.withLastLimboFreeSnapshotVersion(U);b.Ms=b.Ms.insert(S,B)}}})(r.localStore,u))}async function jO(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){fe(Ig,"User change. New user:",e.toKey());const r=await xw(n.localStore,e);n.currentUser=e,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new de(ne.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.Ls)}}function PO(i,e){const n=Re(i),r=n.Au.get(e);if(r&&r.hu)return Ue().add(r.key);{let o=Ue();const u=n.Iu.get(e);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function Uw(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Pw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=IO.bind(null,e),e.Pu.H_=vO.bind(null,e.eventManager),e.Pu.yu=_O.bind(null,e.eventManager),e}function kO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=DO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=OO.bind(null,e),e}class Kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=gd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zD(this.persistence,new VD,e.initialUser,this.serializer)}Cu(e){return new Ew(yg.mi,this.serializer)}Du(e){return new QD}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kh.provider={build:()=>new Kh};class VO extends Kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ye(this.persistence.referenceDelegate instanceof Hh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xD(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?mn.withCacheSize(this.cacheSizeBytes):mn.DEFAULT;return new Ew((r=>Hh.mi(r,n)),this.serializer)}}class Dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=jO.bind(null,this.syncEngine),await pO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new yO})()}createDatastore(e){const n=gd(e.databaseInfo.databaseId),r=(function(u){return new JD(u)})(e.databaseInfo);return(function(u,h,m,p){return new nO(u,h,m,p)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,u,h,m){return new sO(r,o,u,h,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>Yb(this.syncEngine,n,0)),(function(){return Fb.v()?new Fb:new YD})())}createSyncEngine(e,n){return(function(o,u,h,m,p,y,b){const x=new wO(o,u,h,m,p,y);return b&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const r=Re(n);fe(fa,"RemoteStore shutting down."),r.Ea.add(5),await Su(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Dp.provider={build:()=>new Dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xs("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="FirestoreClient";class LO{constructor(e,n,r,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async h=>{fe(br,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(r,(h=>(fe(br,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Sg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Xm(i,e){i.asyncQueue.verifyOperationInProgress(),fe(br,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let r=n.initialUser;i.setCredentialChangeListener((async o=>{r.isEqual(o)||(await xw(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function Xb(i,e){i.asyncQueue.verifyOperationInProgress();const n=await UO(i);fe(br,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener((r=>Hb(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,o)=>Hb(e.remoteStore,o))),i._onlineComponents=e}async function UO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){fe(br,"Using user provided OfflineComponentProvider");try{await Xm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Xm(i,new Kh)}}else fe(br,"Using default OfflineComponentProvider"),await Xm(i,new VO(void 0));return i._offlineComponents}async function zw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(fe(br,"Using user provided OnlineComponentProvider"),await Xb(i,i._uninitializedComponentsProvider._online)):(fe(br,"Using default OnlineComponentProvider"),await Xb(i,new Dp))),i._onlineComponents}function zO(i){return zw(i).then((e=>e.syncEngine))}async function Qh(i){const e=await zw(i),n=e.eventManager;return n.onListen=TO.bind(null,e.syncEngine),n.onUnlisten=RO.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=SO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=NO.bind(null,e.syncEngine),n}function BO(i,e,n={}){const r=new vs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const b=new Og({next:S=>{b.Nu(),h.enqueueAndForget((()=>Rg(u,x)));const N=S.docs.has(m);!N&&S.fromCache?y.reject(new de(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&S.fromCache&&p&&p.source==="server"?y.reject(new de(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new Cg(cd(m.path),b,{includeMetadataChanges:!0,qa:!0});return Ag(u,x)})(await Qh(i),i.asyncQueue,e,n,r))),r.promise}function FO(i,e,n={}){const r=new vs;return i.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,y){const b=new Og({next:S=>{b.Nu(),h.enqueueAndForget((()=>Rg(u,x))),S.fromCache&&p.source==="server"?y.reject(new de(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),x=new Cg(m,b,{includeMetadataChanges:!0,qa:!0});return Ag(u,x)})(await Qh(i),i.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="firestore.googleapis.com",Jb=!0;class Zb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new de(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Fw,this.ssl=Jb}else this.host=e.host,this.ssl=e.ssl??Jb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bD)throw new de(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}iI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new de(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _d{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new QC;switch(r.type){case"firstParty":return new WC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new de(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=Wb.get(n);r&&(fe("ComponentProvider","Removing Datastore"),Wb.delete(n),r.terminate())})(this),Promise.resolve()}}function qO(i,e,n,r={}){i=yn(i,_d);const o=ma(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(qp(`https://${m}`),Hp("Firestore",!0)),u.host!==Fw&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:r};if(!la(p,h)&&(i._setSettings(p),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=Jt.MOCK_USER;else{y=zE(r.mockUserToken,i._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new de(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Jt(x)}i._authCredentials=new YC(new Ox(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Eu(n,mt._jsonSchema))return new mt(e,r||null,new ve(it.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:Dt("string",mt._jsonSchemaVersion),referencePath:Dt("string")};class fr extends va{constructor(e,n,r){super(e,n,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ve(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function bd(i,e,...n){if(i=Ot(i),Mx("collection","path",e),i instanceof _d){const r=it.fromString(e,...n);return db(r),new fr(i,null,r)}{if(!(i instanceof mt||i instanceof fr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(it.fromString(e,...n));return db(r),new fr(i.firestore,null,r)}}function ki(i,e,...n){if(i=Ot(i),arguments.length===1&&(e=rg.newId()),Mx("doc","path",e),i instanceof _d){const r=it.fromString(e,...n);return hb(r),new mt(i,null,new ve(r))}{if(!(i instanceof mt||i instanceof fr))throw new de(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(it.fromString(e,...n));return hb(r),new mt(i.firestore,i instanceof fr?i.converter:null,new ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="AsyncQueue";class tE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Tw(this,"async_queue_retry"),this._c=()=>{const r=$m();r&&fe(eE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new vs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Io(e))throw e;fe(eE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,xs("INTERNAL UNHANDLED ERROR: ",nE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&xe(47125,{Pc:nE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(i){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of r)if(u in o&&typeof o[u]=="function")return!0;return!1})(i,["next","error","complete"])}class Ts extends _d{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new tE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tE(e),this._firestoreClient=void 0,await e}}}function HO(i,e){const n=typeof i=="object"?i:Qp(),r=typeof i=="string"?i:Lh,o=nd(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=VE("firestore");u&&qO(o,...u)}return o}function Ed(i){if(i._terminated)throw new de(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||GO(i),i._firestoreClient}function GO(i){const e=i._freezeSettings(),n=(function(o,u,h,m){return new mI(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Bw(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new LO(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qn($t.fromBase64String(e))}catch(n){throw new de(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qn($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,qn._jsonSchema))return qn.fromBase64String(e.bytes)}}qn._jsonSchemaVersion="firestore/bytes/1.0",qn._jsonSchema={type:Dt("string",qn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Dt("string",Bi._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,Fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Fi(e.vectorValues);throw new de(ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Fi._jsonSchemaVersion="firestore/vectorValue/1.0",Fi._jsonSchema={type:Dt("string",Fi._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO=/^__.*__$/;class QO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms):new wu(e,this.data,n,this.fieldTransforms)}}class qw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Sr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Hw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe(40011,{Ac:i})}}class Mg{constructor(e,n,r,o,u,h){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){const n=this.path?.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Hw(this.Ac)&&KO.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class YO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||gd(e)}Cc(e,n,r,o=!1){return new Mg({Ac:e,methodName:n,Dc:r,path:Yt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Td(i){const e=i._freezeSettings(),n=gd(i._databaseId);return new YO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Gw(i,e,n,r,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Pg("Data must be an object, but it was:",h,r);const m=Kw(r,h);let p,y;if(u.merge)p=new Nn(h.fieldMask),y=h.fieldTransforms;else if(u.mergeFields){const b=[];for(const x of u.mergeFields){const S=Op(e,x,n);if(!h.contains(S))throw new de(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Yw(b,S)||b.push(S)}p=new Nn(b),y=h.fieldTransforms.filter((x=>p.covers(x.field)))}else p=null,y=h.fieldTransforms;return new QO(new gn(m),p,y)}class Sd extends wd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Sd}}class jg extends wd{_toFieldTransform(e){return new zI(e.path,new uu)}isEqual(e){return e instanceof jg}}function $O(i,e,n,r){const o=i.Cc(1,e,n);Pg("Data must be an object, but it was:",o,r);const u=[],h=gn.empty();Tr(r,((p,y)=>{const b=kg(e,p,n);y=Ot(y);const x=o.yc(b);if(y instanceof Sd)u.push(b);else{const S=Ru(y,x);S!=null&&(u.push(b),h.set(b,S))}}));const m=new Nn(u);return new qw(h,m,o.fieldTransforms)}function XO(i,e,n,r,o,u){const h=i.Cc(1,e,n),m=[Op(e,r,n)],p=[o];if(u.length%2!=0)throw new de(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Op(e,u[S])),p.push(u[S+1]);const y=[],b=gn.empty();for(let S=m.length-1;S>=0;--S)if(!Yw(y,m[S])){const N=m[S];let U=p[S];U=Ot(U);const B=h.yc(N);if(U instanceof Sd)y.push(N);else{const V=Ru(U,B);V!=null&&(y.push(N),b.set(N,V))}}const x=new Nn(y);return new qw(b,x,h.fieldTransforms)}function WO(i,e,n,r=!1){return Ru(n,i.Cc(r?4:3,e))}function Ru(i,e){if(Qw(i=Ot(i)))return Pg("Unsupported field value:",e,i),Kw(i,e);if(i instanceof wd)return(function(r,o){if(!Hw(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let h=0;for(const m of r){let p=Ru(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(i,e)}return(function(r,o){if((r=Ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VI(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=at.fromDate(r);return{timestampValue:qh(o.serializer,u)}}if(r instanceof at){const u=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(o.serializer,u)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qn)return{bytesValue:fw(o.serializer,r._byteString)};if(r instanceof mt){const u=o.databaseId,h=r.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Fi)return(function(h,m){return{mapValue:{fields:{[Fx]:{stringValue:qx},[Uh]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return hg(m.serializer,y)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${ad(r)}`)})(i,e)}function Kw(i,e){const n={};return kx(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Tr(i,((r,o)=>{const u=Ru(o,e.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function Qw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof at||i instanceof Bi||i instanceof qn||i instanceof mt||i instanceof wd||i instanceof Fi)}function Pg(i,e,n){if(!Qw(n)||!jx(n)){const r=ad(n);throw r==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+r)}}function Op(i,e,n){if((e=Ot(e))instanceof xd)return e._internalPath;if(typeof e=="string")return kg(i,e);throw Yh("Field path arguments must be of type string or ",i,!1,void 0,n)}const JO=new RegExp("[~\\*/\\[\\]]");function kg(i,e,n){if(e.search(JO)>=0)throw Yh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new xd(...e.split("."))._internalPath}catch{throw Yh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Yh(i,e,n,r,o){const u=r&&!r.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${r}`),h&&(p+=` in document ${o}`),p+=")"),new de(ne.INVALID_ARGUMENT,m+i+p)}function Yw(i,e){return i.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n,r,o,u){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ZO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ZO extends $w{data(){return super.data()}}function Vg(i,e){return typeof e=="string"?kg(i,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lg{}class e4 extends Lg{}function Ww(i,e,...n){let r=[];e instanceof Lg&&r.push(e),r=r.concat(n),(function(u){const h=u.filter((p=>p instanceof Ug)).length,m=u.filter((p=>p instanceof Ad)).length;if(h>1||h>0&&m>0)throw new de(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)i=o._apply(i);return i}class Ad extends e4{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Ad(e,n,r)}_apply(e){const n=this._parse(e);return Jw(e._query,n),new va(e.firestore,e.converter,Ep(e._query,n))}_parse(e){const n=Td(e.firestore);return(function(u,h,m,p,y,b,x){let S;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new de(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){rE(x,b);const U=[];for(const B of x)U.push(sE(p,u,B));S={arrayValue:{values:U}}}else S=sE(p,u,x)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||rE(x,b),S=WO(m,h,x,b==="in"||b==="not-in");return It.create(y,b,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Rd(i,e,n){const r=e,o=Vg("where",i);return Ad._create(o,r,n)}class Ug extends Lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ug(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:hi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Jw(h,p),h=Ep(h,p)})(e._query,n),new va(e.firestore,e.converter,Ep(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function sE(i,e,n){if(typeof(n=Ot(n))=="string"){if(n==="")throw new de(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wx(e)&&n.indexOf("/")!==-1)throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(it.fromString(n));if(!ve.isDocumentKey(r))throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bb(i,new ve(r))}if(n instanceof mt)return bb(i,n._key);throw new de(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ad(n)}.`)}function rE(i,e){if(!Array.isArray(i)||i.length===0)throw new de(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Jw(i,e){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(i.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class t4{convertValue(e,n="none"){switch(vr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(yr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xe(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Tr(e,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(e){const n=e.fields?.[Uh].arrayValue?.values?.map((r=>_t(r.doubleValue)));return new Fi(n)}convertGeoPoint(e){return new Bi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ud(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(au(e));default:return null}}convertTimestamp(e){const n=gr(e);return new at(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=it.fromString(e);Ye(_w(r),9688,{name:e});const o=new ou(r.get(1),r.get(3)),u=new ve(r.popFirst(5));return o.isEqual(n)||xs(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(i,e,n){let r;return r=i?i.toFirestore(e):e,r}class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aa extends $w{constructor(e,n,r,o,u,h){super(e,n,r,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=aa._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:Dt("string",aa._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class Ah extends aa{data(e={}){return super.data(e)}}class oa{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Ah(this._firestore,this._userDataWriter,r.key,r,new Kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new Ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return m.type!==0&&(y=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),b=h.indexOf(m.doc.key)),{type:n4(m.type),doc:p,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=oa._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function n4(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(i){i=yn(i,mt);const e=yn(i.firestore,Ts);return BO(Ed(e),i._key).then((n=>nT(e,i,n)))}oa._jsonSchemaVersion="firestore/querySnapshot/1.0",oa._jsonSchema={type:Dt("string",oa._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class zg extends t4{constructor(e){super(),this.firestore=e}convertBytes(e){return new qn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}function i4(i){i=yn(i,va);const e=yn(i.firestore,Ts),n=Ed(e),r=new zg(e);return Xw(i._query),FO(n,i._query).then((o=>new oa(e,r,i,o)))}function hh(i,e,n){i=yn(i,mt);const r=yn(i.firestore,Ts),o=Zw(i.converter,e);return Nd(r,[Gw(Td(r),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Hn.none())])}function s4(i,e,n,...r){i=yn(i,mt);const o=yn(i.firestore,Ts),u=Td(o);let h;return h=typeof(e=Ot(e))=="string"||e instanceof xd?XO(u,"updateDoc",i._key,e,n,r):$O(u,"updateDoc",i._key,e),Nd(o,[h.toMutation(i._key,Hn.exists(!0))])}function eT(i){return Nd(yn(i.firestore,Ts),[new dg(i._key,Hn.none())])}function tT(i,e){const n=yn(i.firestore,Ts),r=ki(i),o=Zw(i.converter,e);return Nd(n,[Gw(Td(i.firestore),"addDoc",r._key,o,i.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then((()=>r))}function r4(i,...e){i=Ot(i);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||iE(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(iE(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof mt)h=yn(i.firestore,Ts),m=cd(i._key.path),u={next:p=>{e[r]&&e[r](nT(h,i,p))},error:e[r+1],complete:e[r+2]};else{const p=yn(i,va);h=yn(p.firestore,Ts),m=p._query;const y=new zg(h);u={next:b=>{e[r]&&e[r](new oa(h,y,p,b))},error:e[r+1],complete:e[r+2]},Xw(i._query)}return(function(y,b,x,S){const N=new Og(S),U=new Cg(b,N,x);return y.asyncQueue.enqueueAndForget((async()=>Ag(await Qh(y),U))),()=>{N.Nu(),y.asyncQueue.enqueueAndForget((async()=>Rg(await Qh(y),U)))}})(Ed(h),m,o,u)}function Nd(i,e){return(function(r,o){const u=new vs;return r.asyncQueue.enqueueAndForget((async()=>CO(await zO(r),o,u))),u.promise})(Ed(i),e)}function nT(i,e,n){const r=n.docs.get(e._key),o=new zg(i);return new aa(i,o,e._key,r,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function Fn(){return new jg("serverTimestamp")}(function(e,n=!0){(function(o){No=o})(pa),ua(new mr("firestore",((r,{instanceIdentifier:o,options:u})=>{const h=r.getProvider("app").getImmediate(),m=new Ts(new $C(r.getProvider("auth-internal")),new JC(h,r.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(y.options.projectId,b)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),Vi(ob,lb,e),Vi(ob,lb,"esm2020")})();var a4="firebase",o4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vi(a4,o4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="firebasestorage.googleapis.com",l4="storageBucket",u4=120*1e3,c4=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Ki{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Wm(i){return"storage/"+i}function h4(){const i="An unknown error occurred, please check the error payload for server response.";return new Qi(Hi.UNKNOWN,i)}function d4(){return new Qi(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f4(){return new Qi(Hi.CANCELED,"User canceled the upload/download.")}function m4(i){return new Qi(Hi.INVALID_URL,"Invalid URL '"+i+"'.")}function p4(i){return new Qi(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function oE(i){return new Qi(Hi.INVALID_ARGUMENT,i)}function sT(){return new Qi(Hi.APP_DELETED,"The Firebase app was deleted.")}function g4(i){return new Qi(Hi.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw p4(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(re){re.path.charAt(re.path.length-1)==="/"&&(re.path_=re.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function y(re){re.path_=decodeURIComponent(re.path)}const b="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",N=new RegExp(`^https?://${x}/${b}/b/${o}/o${S}`,"i"),U={bucket:1,path:3},B=n===iT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",k=new RegExp(`^https?://${B}/${o}/${V}`,"i"),W=[{regex:m,indices:p,postModify:u},{regex:N,indices:U,postModify:y},{regex:k,indices:{bucket:1,path:2},postModify:y}];for(let re=0;re<W.length;re++){const oe=W[re],ue=oe.regex.exec(e);if(ue){const C=ue[oe.indices.bucket];let A=ue[oe.indices.path];A||(A=""),r=new ui(C,A),oe.postModify(r);break}}if(r==null)throw m4(e);return r}}class y4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v4(i,e,n){let r=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let y=!1;function b(...V){y||(y=!0,e.apply(null,V))}function x(V){o=setTimeout(()=>{o=null,i(N,p())},V)}function S(){u&&clearTimeout(u)}function N(V,...k){if(y){S();return}if(V){S(),b.call(null,V,...k);return}if(p()||h){S(),b.call(null,V,...k);return}r<64&&(r*=2);let W;m===1?(m=2,W=0):W=(r+Math.random())*1e3,x(W)}let U=!1;function B(V){U||(U=!0,S(),!y&&(o!==null?(V||(m=2),clearTimeout(o),x(0)):V||(m=1)))}return x(0),u=setTimeout(()=>{h=!0,B(!0)},n),B}function _4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(i){return i!==void 0}function lE(i,e,n,r){if(r<e)throw oE(`Invalid value for '${i}'. Expected ${e} or greater.`);if(r>n)throw oE(`Invalid value for '${i}'. Expected ${n} or less.`)}function E4(i){const e=encodeURIComponent;let n="?";for(const r in i)if(i.hasOwnProperty(r)){const o=e(r)+"="+e(i[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var $h;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})($h||($h={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(i,e){const n=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(e,n,r,o,u,h,m,p,y,b,x,S=!0,N=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=x,this.retry=S,this.isUsingEmulator=N,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,B)=>{this.resolve_=U,this.reject_=B,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new dh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===$h.NO_ERROR,p=u.getStatus();if(!m||x4(p,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===$h.ABORT;r(!1,new dh(!1,null,b));return}const y=this.successCodes_.indexOf(p)!==-1;r(!0,new dh(y,u))})},n=(r,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());b4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=h4();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?sT():f4();h(p)}else{const p=d4();h(p)}};this.canceled_?n(!1,new dh(!1,null,!0)):this.backoffId_=v4(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&_4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class dh{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function T4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function S4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function A4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function R4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function N4(i,e,n,r,o,u,h=!0,m=!1){const p=E4(i.urlParams),y=i.url+p,b=Object.assign({},i.headers);return A4(b,e),T4(b,n),S4(b,u),R4(b,r),new w4(y,i.method,b,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function I4(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xh(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return I4(this._location.path)}get storage(){return this._service}get parent(){const e=C4(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new Xh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw g4(e)}}function uE(i,e){const n=e?.[l4];return n==null?null:ui.makeFromBucketSpec(n,i)}function D4(i,e,n,r={}){i.host=`${e}:${n}`;const o=ma(e);o&&(qp(`https://${i.host}/b`),Hp("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(i._overrideAuthToken=typeof u=="string"?u:zE(u,i.app.options.projectId))}class O4{constructor(e,n,r,o,u,h=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=iT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u4,this._maxUploadRetryTime=c4,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=uE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=uE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xh(this,e)}_makeRequest(e,n,r,o,u=!0){if(this._deleted)return new y4(sT());{const h=N4(e,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const cE="@firebase/storage",hE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="storage";function M4(i=Qp(),e){i=Ot(i);const r=nd(i,rT).getImmediate({identifier:e}),o=VE("storage");return o&&j4(r,...o),r}function j4(i,e,n,r={}){D4(i,e,n,r)}function P4(i,{instanceIdentifier:e}){const n=i.getProvider("app").getImmediate(),r=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new O4(n,r,o,e,pa)}function k4(){ua(new mr(rT,P4,"PUBLIC").setMultipleInstances(!0)),Vi(cE,hE,""),Vi(cE,hE,"esm2020")}k4();const V4={apiKey:"AIzaSyCfC8DCLdjuWVEy4_KM3CvVMZu9ScuMBIY",authDomain:"bowlingstatstracker.firebaseapp.com",projectId:"bowlingstatstracker",storageBucket:"bowlingstatstracker.firebasestorage.app",messagingSenderId:"766461963217",appId:"1:766461963217:web:26d31b5469e2328a4b0ef0"},Bg=qE(V4),zl=GC(Bg),Rn=HO(Bg);M4(Bg);const aT=L.createContext(void 0);function Qn(){const i=L.useContext(aT);if(!i)throw new Error("useAuth must be used within an AuthProvider");return i}function L4({children:i}){const[e,n]=L.useState(null),[r,o]=L.useState(null),[u,h]=L.useState(!0);L.useEffect(()=>M2(zl,async N=>{if(n(N),N){const U=await aE(ki(Rn,"users",N.uid));U.exists()&&o(U.data())}else o(null);h(!1)}),[]);const x={currentUser:e,userData:r,loading:u,signIn:async(S,N)=>{await I2(zl,S,N)},signUp:async(S,N,U,B,V)=>{const{user:k}=await C2(zl,S,N),Q={uid:k.uid,email:k.email,displayName:U,role:B,programId:V,createdAt:new Date,updatedAt:new Date};await hh(ki(Rn,"users",k.uid),{...Q,createdAt:Fn(),updatedAt:Fn()}),B==="player"&&await hh(ki(Rn,"players",k.uid),{uid:k.uid,name:U,email:k.email,programId:V,teamIds:[],averageScore:0,gamesPlayed:0,createdAt:Fn(),updatedAt:Fn()}),o(Q)},signInWithGoogle:async()=>{const S=new fs,{user:N}=await eC(zl,S);if(!(await aE(ki(Rn,"users",N.uid))).exists()){const B={uid:N.uid,email:N.email,displayName:N.displayName||N.email.split("@")[0],role:"player",programId:"willard-hs",createdAt:new Date,updatedAt:new Date};await hh(ki(Rn,"users",N.uid),{...B,createdAt:Fn(),updatedAt:Fn()}),await hh(ki(Rn,"players",N.uid),{uid:N.uid,name:N.displayName||N.email.split("@")[0],email:N.email,programId:"willard-hs",teamIds:[],averageScore:0,gamesPlayed:0,createdAt:Fn(),updatedAt:Fn()}),o(B)}},logout:async()=>{await j2(zl)}};return g.jsx(aT.Provider,{value:x,children:i})}function ai({children:i,allowedRoles:e}){const{currentUser:n,userData:r,loading:o}=Qn();return o?g.jsx("div",{className:"min-h-screen flex items-center justify-center",children:g.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})}):n?e&&r&&!e.includes(r.role)?g.jsx(Zm,{to:"/dashboard",replace:!0}):g.jsx(g.Fragment,{children:i}):g.jsx(Zm,{to:"/login",replace:!0})}function U4(){const[i,e]=L.useState(""),[n,r]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState(!1),{signIn:p,signInWithGoogle:y}=Qn(),b=fu(),x=async N=>{N.preventDefault();try{u(""),m(!0),await p(i,n),b("/dashboard")}catch(U){u("Failed to sign in. Please check your credentials."),console.error(U)}finally{m(!1)}},S=async()=>{try{u(""),m(!0),await y(),b("/dashboard")}catch(N){u("Failed to sign in with Google."),console.error(N)}finally{m(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[g.jsx("div",{children:g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Sign in to WHS Bowling"})}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[o&&g.jsx("div",{className:"bg-red-500/20 border border-red-400/50 text-red-100 px-4 py-3 rounded backdrop-blur-sm",children:o}),g.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),g.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i,onChange:N=>e(N.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-white/30 bg-white/5 placeholder-gray-300 text-white rounded-t-md focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent focus:z-10 sm:text-sm backdrop-blur-sm",placeholder:"Email address"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),g.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:N=>r(N.target.value),className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-white/30 bg-white/5 placeholder-gray-300 text-white rounded-b-md focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent focus:z-10 sm:text-sm backdrop-blur-sm",placeholder:"Password"})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:h,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg transition-all",children:h?"Signing in...":"Sign in"})}),g.jsxs("div",{className:"relative",children:[g.jsx("div",{className:"absolute inset-0 flex items-center",children:g.jsx("div",{className:"w-full border-t border-white/20"})}),g.jsx("div",{className:"relative flex justify-center text-sm",children:g.jsx("span",{className:"px-2 bg-transparent text-gray-300",children:"Or continue with"})})]}),g.jsx("div",{children:g.jsxs("button",{type:"button",onClick:S,disabled:h,className:"w-full flex justify-center py-3 px-4 border border-white/30 rounded-lg shadow-sm text-sm font-medium text-white bg-white/10 hover:bg-white/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 backdrop-blur-sm transition-all",children:[g.jsxs("svg",{className:"w-5 h-5 mr-2",viewBox:"0 0 24 24",children:[g.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),g.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),g.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),g.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign in with Google"]})}),g.jsx("div",{className:"text-center",children:g.jsx(Qe,{to:"/signup",className:"text-purple-300 hover:text-purple-200 transition-colors",children:"Don't have an account? Sign up"})})]})]})})}const z4=[{id:"willard-hs",name:"Willard High School"}];function B4(){const[i,e]=L.useState(""),[n,r]=L.useState(""),[o,u]=L.useState(""),[h,m]=L.useState("player"),[p,y]=L.useState("willard-hs"),[b,x]=L.useState(""),[S,N]=L.useState(!1),{signUp:U}=Qn(),B=fu(),V=async k=>{if(k.preventDefault(),n.length<6){x("Password must be at least 6 characters");return}try{x(""),N(!0),await U(i,n,o,h,p),B("/dashboard")}catch(Q){Q.code==="auth/email-already-in-use"?x("Email already in use"):x("Failed to create account"),console.error(Q)}finally{N(!1)}};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 py-12 px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20",children:[g.jsx("div",{children:g.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:"Create your account"})}),g.jsxs("form",{className:"mt-8 space-y-6",onSubmit:V,children:[b&&g.jsx("div",{className:"bg-red-500/20 border border-red-400/50 text-red-100 px-4 py-3 rounded backdrop-blur-sm",children:b}),g.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-200",children:"Full Name"}),g.jsx("input",{id:"displayName",name:"displayName",type:"text",required:!0,value:o,onChange:k=>u(k.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-white/30 bg-white/5 placeholder-gray-300 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent sm:text-sm backdrop-blur-sm",placeholder:"John Doe"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-200",children:"Email address"}),g.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:i,onChange:k=>e(k.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-white/30 bg-white/5 placeholder-gray-300 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent sm:text-sm backdrop-blur-sm",placeholder:"you@example.com"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-200",children:"Password"}),g.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:n,onChange:k=>r(k.target.value),className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-white/30 bg-white/5 placeholder-gray-300 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent sm:text-sm backdrop-blur-sm",placeholder:"Min. 6 characters"})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-200",children:"I am a..."}),g.jsxs("select",{id:"role",name:"role",value:h,onChange:k=>m(k.target.value),className:"mt-1 block w-full px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent sm:text-sm backdrop-blur-sm",children:[g.jsx("option",{value:"player",className:"bg-gray-800",children:"Player"}),g.jsx("option",{value:"coach",className:"bg-gray-800",children:"Coach"})]})]}),g.jsxs("div",{children:[g.jsx("label",{htmlFor:"school",className:"block text-sm font-medium text-gray-200",children:"School"}),g.jsx("select",{id:"school",name:"school",value:p,onChange:k=>y(k.target.value),className:"mt-1 block w-full px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent sm:text-sm backdrop-blur-sm",children:z4.map(k=>g.jsx("option",{value:k.id,className:"bg-gray-800",children:k.name},k.id))})]})]}),g.jsx("div",{children:g.jsx("button",{type:"submit",disabled:S,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg transition-all",children:S?"Creating account...":"Sign up"})}),g.jsx("div",{className:"text-center",children:g.jsx(Qe,{to:"/login",className:"text-purple-300 hover:text-purple-200 transition-colors",children:"Already have an account? Sign in"})})]})]})})}function F4(){const{userData:i,logout:e}=Qn(),n=i?.role==="coach";return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsx("h1",{className:"text-2xl font-bold text-white",children:"WHS Bowling"}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[g.jsxs(Qe,{to:"/practice/spares",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Practice - Spares Only"}),g.jsx("p",{className:"text-gray-300",children:"Work on specific spare drills and conversions"})]}),g.jsxs(Qe,{to:"/practice/full",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Practice - Full Game"}),g.jsx("p",{className:"text-gray-300",children:"Bowl a complete 10-frame game"})]}),g.jsxs(Qe,{to:"/match/traditional",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Match - Traditional"}),g.jsx("p",{className:"text-gray-300",children:"5-person team, each bowls full games"})]}),g.jsxs(Qe,{to:"/match/baker",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Match - Baker"}),g.jsx("p",{className:"text-gray-300",children:"5 players alternate frames"})]}),g.jsxs(Qe,{to:"/league",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"League"}),g.jsx("p",{className:"text-gray-300",children:"3-game series for league play"})]}),g.jsxs(Qe,{to:"/stats",className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:bg-white/20 hover:shadow-2xl transition-all border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"My Stats"}),g.jsx("p",{className:"text-gray-300",children:"View your performance and analytics"})]}),n&&g.jsxs(g.Fragment,{children:[g.jsxs(Qe,{to:"/coach/admin",className:"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:from-indigo-500/30 hover:to-purple-500/30 hover:shadow-2xl transition-all border-2 border-indigo-300/50",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Coach Admin"}),g.jsx("p",{className:"text-gray-200",children:"Manage players, stats, and team settings"})]}),g.jsxs(Qe,{to:"/coach/roster",className:"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:from-indigo-500/30 hover:to-purple-500/30 hover:shadow-2xl transition-all border-2 border-indigo-300/50",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Manage Roster"}),g.jsx("p",{className:"text-gray-200",children:"Add/remove players and create teams"})]}),g.jsxs(Qe,{to:"/coach/notes",className:"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:from-indigo-500/30 hover:to-purple-500/30 hover:shadow-2xl transition-all border-2 border-indigo-300/50",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Coach Notes"}),g.jsx("p",{className:"text-gray-200",children:"View and manage player notes"})]}),g.jsxs(Qe,{to:"/coach/team-stats",className:"bg-gradient-to-br from-indigo-500/20 to-purple-500/20 backdrop-blur-lg rounded-2xl shadow-xl p-6 hover:from-indigo-500/30 hover:to-purple-500/30 hover:shadow-2xl transition-all border-2 border-indigo-300/50",children:[g.jsx("div",{className:"text-3xl mb-3",children:""}),g.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Stats"}),g.jsx("p",{className:"text-gray-200",children:"View team analytics and comparisons"})]})]})]})})]})}function oT({pinsStanding:i,onPinTap:e,disabled:n=!1}){const[r,o]=L.useState(new Set),u=y=>{if(n||!i.includes(y))return;const b=new Set(r);b.has(y)?b.delete(y):b.add(y),o(b),e(y)},h=y=>i.includes(y),m=y=>r.has(y),p=y=>{const b=h(y),x=m(y);return b?x?"bg-yellow-400 text-gray-900 border-4 border-yellow-600 shadow-lg scale-110":"bg-white text-gray-900 border-2 border-gray-400 hover:bg-blue-50 hover:border-blue-500 hover:scale-105":"bg-gray-300 text-gray-500 cursor-not-allowed opacity-50"};return g.jsxs("div",{className:"w-full max-w-md mx-auto",children:[g.jsx("div",{className:"bg-gradient-to-b from-gray-100 to-gray-200 rounded-lg p-6 shadow-inner",children:g.jsxs("div",{className:"space-y-3",children:[g.jsx("div",{className:"flex justify-center gap-2",children:[7,8,9,10].map(y=>g.jsx("button",{onClick:()=>u(y),disabled:n||!h(y),className:`w-14 h-14 rounded-lg font-bold text-xl transition-all ${p(y)}`,children:y},y))}),g.jsx("div",{className:"flex justify-center gap-2 ml-7",children:[4,5,6].map(y=>g.jsx("button",{onClick:()=>u(y),disabled:n||!h(y),className:`w-14 h-14 rounded-lg font-bold text-xl transition-all ${p(y)}`,children:y},y))}),g.jsx("div",{className:"flex justify-center gap-2 ml-14",children:[2,3].map(y=>g.jsx("button",{onClick:()=>u(y),disabled:n||!h(y),className:`w-14 h-14 rounded-lg font-bold text-xl transition-all ${p(y)}`,children:y},y))}),g.jsx("div",{className:"flex justify-center ml-16",children:g.jsx("button",{onClick:()=>u(1),disabled:n||!h(1),className:`w-14 h-14 rounded-lg font-bold text-xl transition-all ${p(1)}`,children:"1"})})]})}),g.jsxs("div",{className:"mt-4 flex justify-center gap-4 text-sm",children:[g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 bg-white rounded border-2 border-gray-400"}),g.jsx("span",{children:"Available"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 bg-yellow-400 rounded border-4 border-yellow-600"}),g.jsx("span",{children:"Selected (LEFT)"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"w-6 h-6 bg-gray-300 rounded opacity-50"}),g.jsx("span",{children:"Down"})]})]})]})}function q4({onStrike:i,onSpare:e,onMiss:n,onUndo:r,onSubmit:o,canUndo:u,canSubmit:h,disabled:m=!1}){const p=y=>`px-4 py-3 rounded-lg font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed ${{primary:"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800",secondary:"bg-gray-600 text-white hover:bg-gray-700 active:bg-gray-800",danger:"bg-red-600 text-white hover:bg-red-700 active:bg-red-800",success:"bg-green-600 text-white hover:bg-green-700 active:bg-green-800"}[y]}`;return g.jsxs("div",{className:"space-y-4",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[g.jsx("button",{onClick:i,disabled:m,className:p("success"),children:"X Strike"}),g.jsx("button",{onClick:e,disabled:m,className:p("primary"),children:"/ Spare"}),g.jsx("button",{onClick:n,disabled:m,className:p("secondary"),children:"- Miss"})]}),g.jsxs("div",{className:"flex gap-3",children:[g.jsx("button",{onClick:r,disabled:!u||m,className:"flex-1 px-4 py-2 bg-yellow-500 text-white rounded-lg font-medium hover:bg-yellow-600 disabled:opacity-50 disabled:cursor-not-allowed",children:" Undo"}),g.jsx("button",{onClick:o,disabled:!h||m,className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Ball"})]})]})}const H4=[[7,10],[4,6],[5,7],[5,10],[4,7,10],[6,7,10],[4,6,7],[4,6,10],[4,7,9],[5,6],[2,7],[3,10],[4,6,7,9,10],[4,6,7,10],[4,7,9,10],[6,7,9,10]],G4=[[1,2,4,10],[1,3,6,7],[1,2,10],[1,3,7]];function lT(i){if(i.length<2||i.includes(1))return!1;const e=[...i].sort((n,r)=>n-r);return H4.some(n=>n.length===e.length&&n.every((r,o)=>r===e[o]))}function uT(i){const e=[...i].sort((n,r)=>n-r);return G4.some(n=>n.length===e.length&&n.every((r,o)=>r===e[o]))}function K4(i){if(i.length===0)return"Strike";if(i.length===10)return"Gutter";const e=[...i].sort((r,o)=>r-o);if(e.length===1)return`${e[0]}-pin`;const n=e.join("-");return n==="7-10"?"7-10 Split":n==="4-6"?"4-6 Split":n==="4-6-7-10"?"Big Four":lT(e)?`${n} Split`:uT(e)?`${n} Washout`:n}function Q4(i,e){const n=i.filter(r=>!e.includes(r));return n.includes(1)&&(n.includes(2)||n.includes(3))}function dE(i,e){return{pins:[...i].sort((n,r)=>n-r),count:i.length,isSplit:lT(i),isWashout:uT(i),isConverted:e,leaveType:K4(i)}}function Y4(i,e){const n=i[e];if(n.frameNumber===10)return n.balls.reduce((m,p)=>m+p.pinsKnockedDown,0);const o=n.balls[0]?.pinsKnockedDown||0,u=n.balls[1]?.pinsKnockedDown||0,h=o+u;if(n.isStrike){const m=i[e+1];if(!m)return null;const p=m.balls[0]?.pinsKnockedDown;if(p===void 0)return null;const y=m.balls[1]?.pinsKnockedDown;if(m.isStrike&&m.frameNumber!==10){const b=i[e+2];if(!b)return null;const x=b.balls[0]?.pinsKnockedDown;return x===void 0?null:10+p+x}return y===void 0?null:10+p+y}if(n.isSpare){const m=i[e+1];if(!m)return null;const p=m.balls[0]?.pinsKnockedDown;return p===void 0?null:10+p}return h}function cT(i){const e=[];let n=0;for(let r=0;r<i.length;r++){const o=Y4(i,r);if(o===null){e.push(null);continue}n+=o,e.push(n)}return e}function $4(i,e){const n=[];if(e===10){for(const u of i.balls)if(u.isFoul)n.push("F");else if(u.isGutter)n.push("G");else if(u.pinsKnockedDown===10)n.push("X");else if(u.pinsKnockedDown===0)n.push("-");else{const h=i.balls[n.length-1];h&&h.pinsKnockedDown+u.pinsKnockedDown===10?n.push("/"):n.push(u.pinsKnockedDown)}return n}const r=i.balls[0],o=i.balls[1];if(!r)return[];if(r.isFoul)n.push("F");else if(r.isGutter||r.pinsKnockedDown===0)n.push("-");else{if(i.isStrike)return n.push("X"),n;n.push(r.pinsKnockedDown)}return o&&(o.isFoul?n.push("F"):i.isSpare?n.push("/"):o.isGutter||o.pinsKnockedDown===0?n.push("-"):n.push(o.pinsKnockedDown)),n}const fh=[1,2,3,4,5,6,7,8,9,10];function X4({frames:i,currentFrame:e}){const n=cT(i),r=(u,h)=>{const m=$4(u,h);return h===10?g.jsx("div",{className:"flex gap-0.5",children:[0,1,2].map(p=>g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center border border-gray-300 text-xs sm:text-sm font-semibold",children:m[p]!==void 0?o(m[p]):""},p))}):g.jsxs("div",{className:"flex gap-0.5",children:[g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center border border-gray-300 text-xs sm:text-sm font-semibold",children:m[0]!==void 0?o(m[0]):""}),g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 flex items-center justify-center border border-gray-300 text-xs sm:text-sm font-semibold",children:m[1]!==void 0?o(m[1]):""})]})},o=u=>typeof u=="number"?u.toString():u;return g.jsx("div",{className:"bg-white shadow-md rounded-lg p-2 sm:p-4 overflow-x-auto",children:g.jsx("div",{className:"min-w-max",children:g.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5,6,7,8,9,10].map(u=>{const h=i.find(y=>y.frameNumber===u),m=u===e,p=h?n[u-1]:null;return g.jsxs("div",{className:`flex-1 border-2 rounded ${m?"border-blue-500 bg-blue-50":"border-gray-300"} min-w-[60px] sm:min-w-[80px]`,children:[g.jsx("div",{className:"text-center text-xs font-semibold text-gray-600 border-b border-gray-300 py-0.5",children:u}),g.jsx("div",{className:"flex justify-center p-1",children:h?r(h,u):g.jsx("div",{className:"flex gap-0.5",children:u===10?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border border-gray-200"}),g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border border-gray-200"}),g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border border-gray-200"})]}):g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border border-gray-200"}),g.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 border border-gray-200"})]})})}),g.jsx("div",{className:"text-center text-sm sm:text-lg font-bold border-t border-gray-300 py-1",children:p??""})]},u)})})})})}function Cd({gameId:i,playerId:e,onGameComplete:n}){const[r,o]=L.useState([]),[u,h]=L.useState(1),[m,p]=L.useState(1),[y,b]=L.useState(fh),[x,S]=L.useState([]),[N,U]=L.useState([]),[B,V]=L.useState(!1);L.useEffect(()=>{if(r.length===0){const pe={id:`${i}-frame-1`,gameId:i,frameNumber:1,playerId:e,balls:[],score:0,runningTotal:0,isStrike:!1,isSpare:!1,createdAt:new Date,updatedAt:new Date};o([pe])}},[]);const k=pe=>{x.includes(pe)?S(x.filter(we=>we!==pe)):S([...x,pe])},Q=(pe,we=!1,Y=!1)=>{const se=[...y];let ce;return we||Y?ce=se:ce=[...x].sort((De,Oe)=>De-Oe),{ballNumber:m,pinsKnockedDown:we?0:pe,pinsetBefore:se,pinsetAfter:ce,isFoul:we,isGutter:Y,timestamp:new Date}},W=pe=>{const we=u-1,Y=[...r],se={...Y[we]};if(se.balls.push(pe),U([...N,pe]),b(pe.pinsetAfter),u<=9&&m===1&&pe.pinsKnockedDown===10){se.isStrike=!0,se.leaveAfterBall1=dE([],!1),Y[we]=se,o(Y),oe();return}m===1&&(se.leaveAfterBall1=dE(pe.pinsetAfter,!1)),m===2&&(se.balls[0]?.pinsKnockedDown||0)+pe.pinsKnockedDown===10&&(se.isSpare=!0,se.leaveAfterBall1&&(se.leaveAfterBall1.isConverted=!0)),Y[we]=se,o(Y),u===10?re(pe,se):m===2?oe():(p(2),S([]))},re=(pe,we)=>{const Y=we.balls.length;if(Y===2){const se=we.balls[0],ce=we.balls[1];se.pinsKnockedDown===10||se.pinsKnockedDown+ce.pinsKnockedDown===10?(p(3),ce.pinsKnockedDown===10&&b(fh),S([])):ue()}else Y===3&&ue()},oe=()=>{if(u===10){ue();return}const pe=u+1,we={id:`${i}-frame-${pe}`,gameId:i,frameNumber:pe,playerId:e,balls:[],score:0,runningTotal:0,isStrike:!1,isSpare:!1,createdAt:new Date,updatedAt:new Date};o([...r,we]),h(pe),p(1),b(fh),S([])},ue=()=>{const pe=cT(r),we=pe[pe.length-1]||0;n(r,we)},C=()=>{const pe=Q(10,!1,!1);S([]),setTimeout(()=>W(pe),200)},A=()=>{const pe=y.length,we=Q(pe,!1,!1);S([]),setTimeout(()=>W(we),200)},R=()=>{const pe=Q(0,!1,!1);S([...y]),W(pe)},P=()=>{const pe=y.length-x.length,we=Q(pe,!1,!1);W(we)},M=()=>{if(N.length===0)return;const pe=N[N.length-1],we=N.slice(0,-1);U(we);const Y=r.findIndex(Oe=>Oe.balls.includes(pe));if(Y===-1)return;const se=[...r],ce={...se[Y]};ce.balls=ce.balls.filter(Oe=>Oe!==pe),ce.balls.length===0&&(ce.isStrike=!1,ce.isSpare=!1,ce.leaveAfterBall1=void 0),se[Y]=ce,o(se);const De=ce.balls[ce.balls.length-1];De?(b(De.pinsetAfter),p(ce.balls.length+1)):(b(fh),p(1)),S([])},F=N.length>0,I=x.length>0;return g.jsxs("div",{className:"max-w-6xl mx-auto p-4 space-y-6",children:[g.jsx(X4,{frames:r,currentFrame:u}),g.jsx("div",{className:"flex justify-end",children:g.jsx("button",{onClick:()=>V(!B),className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors",children:B?" Hide Help":"? Show Help"})}),B&&g.jsxs("div",{className:"bg-purple-50 border-2 border-purple-500 rounded-lg p-6 space-y-4",children:[g.jsx("h3",{className:"text-xl font-bold text-purple-900",children:"How to Score"}),g.jsxs("div",{className:"space-y-3 text-sm text-purple-900",children:[g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:" Selecting Pins:"}),g.jsxs("p",{children:["After your first ball, ",g.jsx("strong",{children:"select the pins you LEFT STANDING"})," (not what you knocked down)."]}),g.jsx("p",{children:"For example: If you left the 1-2-4-7 pins standing, click those pins to highlight them in yellow."})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:" Quick Buttons:"}),g.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"X Strike:"})," You knocked down all 10 pins on your first ball"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"/ Spare:"})," You knocked down all remaining pins on your second ball"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"- Miss:"})," You didn't knock down any pins on this ball"]})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:" USBC Scoring Rules:"}),g.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[g.jsxs("li",{children:[g.jsx("strong",{children:"Strike:"})," 10 pins + your next 2 throws (shown as X)"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Spare:"})," 10 pins + your next 1 throw (shown as /)"]}),g.jsxs("li",{children:[g.jsx("strong",{children:"Open Frame:"})," Just the pin count (miss shown as -)"]})]})]}),g.jsxs("div",{children:[g.jsx("p",{className:"font-semibold",children:" Steps for Each Ball:"}),g.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[g.jsx("li",{children:"Bowl your ball"}),g.jsx("li",{children:`If it's ball 1: Select the pins LEFT standing, then click "Submit Ball"`}),g.jsx("li",{children:"If you got a strike, spare, or miss: Use the quick buttons instead"}),g.jsx("li",{children:"Repeat for ball 2"})]})]})]})]}),g.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-500 p-4",children:g.jsx("div",{className:"flex items-center justify-between",children:g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-semibold text-blue-900",children:["Frame ",u," - Ball ",m]}),g.jsxs("p",{className:"text-sm text-blue-700",children:[x.length," pins left standing  ",y.length," pins available"]})]})})}),g.jsx(oT,{pinsStanding:y,onPinTap:k}),g.jsx(q4,{onStrike:C,onSpare:A,onMiss:R,onUndo:M,onSubmit:P,canUndo:F,canSubmit:I})]})}function W4(){const[i,e]=L.useState(1),[n,r]=L.useState(!1),[o,u]=L.useState(0),h=(p,y)=>{console.log("Game complete!",{frames:p,score:y}),u(y),r(!0)},m=()=>{e(i+1),r(!1),u(0)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:["League Mode - Game ",i]}),n?g.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"Game Complete!"}),g.jsx("p",{className:"text-6xl font-bold text-gray-800 mb-8",children:o}),g.jsxs("button",{onClick:m,className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:["Start Game ",i+1]})]}):g.jsx(Cd,{gameId:`league-game-${i}`,playerId:"current-user-id",mode:"league",onGameComplete:h})]})})}function Id(i,...e){const[n,r]=L.useState([]),[o,u]=L.useState(!0),[h,m]=L.useState(null);return L.useEffect(()=>{u(!0),m(null);const p=bd(Rn,i),y=Ww(p,...e),b=r4(y,x=>{const S=x.docs.map(N=>({id:N.id,...N.data()}));r(S),u(!1)},x=>{console.error(`Error fetching ${i}:`,x),m(x),u(!1)});return()=>b()},[i,JSON.stringify(e)]),{data:n,loading:o,error:h}}function Oo(i){const e=i?[Rd("programId","==",i)]:[];return Id("players",...e)}function Dd(i){const e=i?[Rd("programId","==",i)]:[];return Id("teams",...e)}function hT(i){return Id("games",...[])}function J4(i){const e=i?[Rd("playerId","==",i)]:[];return Id("coachNotes",...e)}function Z4(){const{userData:i,logout:e}=Qn(),{data:n,loading:r,error:o}=Oo(i?.programId);return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200",children:" Back"}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"Coach Admin"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Total Players"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:n.length})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Total Games"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:n.reduce((u,h)=>u+(h.gamesPlayed||0),0)})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Team Average"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:n.length>0?Math.round(n.reduce((u,h)=>u+(h.averageScore||0),0)/n.length):0})]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20",children:[g.jsx("div",{className:"px-6 py-4 border-b border-white/20",children:g.jsx("h2",{className:"text-xl font-semibold text-white",children:"All Players"})}),r&&g.jsx("div",{className:"p-8 text-center text-gray-300",children:"Loading players..."}),o&&g.jsxs("div",{className:"p-8 text-center text-red-300",children:["Error loading players: ",o.message]}),!r&&!o&&n.length===0&&g.jsx("div",{className:"p-8 text-center text-gray-300",children:"No players found. Players will appear here when they sign up for your program."}),!r&&!o&&n.length>0&&g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-white/20",children:[g.jsx("thead",{className:"bg-white/5",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Name"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Email"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Games Played"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Average"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),g.jsx("tbody",{className:"divide-y divide-white/10",children:n.map(u=>g.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:u.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:u.email}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:u.gamesPlayed||0}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:u.averageScore?u.averageScore.toFixed(1):"N/A"}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:g.jsx(Qe,{to:`/coach/notes?playerId=${u.id}`,className:"text-purple-300 hover:text-purple-200 transition-colors",children:"View Notes"})})]},u.id))})]})})]})]})]})}function eM(){const{userData:i,logout:e}=Qn(),{data:n}=Oo(i?.programId),{data:r}=Dd(i?.programId),[o,u]=L.useState(!1),[h,m]=L.useState(""),[p,y]=L.useState([]),[b,x]=L.useState(!1),[S,N]=L.useState(""),U=async k=>{if(k.preventDefault(),!(!i?.programId||!i?.uid)){if(p.length>5){N("Maximum 5 players per team");return}try{x(!0),N("");const Q={name:h,programId:i.programId,coachId:i.uid,playerIds:p,createdAt:Fn(),updatedAt:Fn()};await tT(bd(Rn,"teams"),Q),m(""),y([]),u(!1)}catch(Q){console.error("Error creating team:",Q),N("Failed to create team")}finally{x(!1)}}},B=async k=>{if(confirm("Are you sure you want to delete this team?"))try{await eT(ki(Rn,"teams",k))}catch(Q){console.error("Error deleting team:",Q),alert("Failed to delete team")}},V=k=>{y(Q=>Q.includes(k)?Q.filter(W=>W!==k):[...Q,k])};return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200",children:" Back"}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"Roster Management"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20",children:[g.jsxs("div",{className:"px-6 py-4 border-b border-white/20 flex justify-between items-center",children:[g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Teams"}),g.jsx("button",{onClick:()=>u(!o),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:o?"Cancel":"+ Create Team"})]}),g.jsxs("div",{className:"p-6 space-y-4",children:[o&&g.jsxs("form",{onSubmit:U,className:"bg-white/5 rounded-lg p-4 space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Team Name"}),g.jsx("input",{type:"text",required:!0,value:h,onChange:k=>m(k.target.value),className:"w-full px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 backdrop-blur-sm",placeholder:"e.g., Varsity Team"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Select Players (max 5)"}),g.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:n.map(k=>g.jsxs("label",{className:"flex items-center gap-2 text-white cursor-pointer hover:bg-white/5 p-2 rounded",children:[g.jsx("input",{type:"checkbox",checked:p.includes(k.id),onChange:()=>V(k.id),className:"rounded"}),g.jsx("span",{children:k.name})]},k.id))})]}),S&&g.jsx("div",{className:"text-red-300 text-sm",children:S}),g.jsx("button",{type:"submit",disabled:b||!h||p.length===0,className:"w-full px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating...":"Create Team"})]}),r.length===0?g.jsx("div",{className:"text-center text-gray-300 py-8",children:'No teams created yet. Click "Create Team" to get started.'}):g.jsx("div",{className:"space-y-4",children:r.map(k=>g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold text-white",children:k.name}),g.jsxs("p",{className:"text-sm text-gray-300",children:[k.playerIds.length," player",k.playerIds.length!==1?"s":""]})]}),g.jsx("button",{onClick:()=>B(k.id),className:"text-red-300 hover:text-red-200 text-sm",children:"Delete"})]}),g.jsx("div",{className:"space-y-1",children:k.playerIds.map(Q=>{const W=n.find(re=>re.id===Q);return W?g.jsxs("div",{className:"text-sm text-gray-300",children:[" ",W.name]},Q):null})})]},k.id))})]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20",children:[g.jsx("div",{className:"px-6 py-4 border-b border-white/20",children:g.jsx("h2",{className:"text-xl font-semibold text-white",children:"All Players"})}),g.jsx("div",{className:"p-6",children:n.length===0?g.jsx("div",{className:"text-center text-gray-300 py-8",children:"No players in your program yet."}):g.jsx("div",{className:"space-y-2",children:n.map(k=>g.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-3 border border-white/10",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-white font-medium",children:k.name}),g.jsx("div",{className:"text-sm text-gray-300",children:k.email})]}),g.jsxs("div",{className:"text-right",children:[g.jsx("div",{className:"text-white font-medium",children:k.averageScore?k.averageScore.toFixed(1):"N/A"}),g.jsxs("div",{className:"text-sm text-gray-300",children:[k.gamesPlayed||0," games"]})]})]},k.id))})})]})]})})]})}function tM(){const{userData:i,logout:e}=Qn(),{data:n}=Dd(i?.programId),{data:r}=Oo(i?.programId),{data:o}=hT(),[u,h]=L.useState(""),m=n.find(x=>x.id===u),p=m?r.filter(x=>m.playerIds.includes(x.id)):[],y=p.reduce((x,S)=>{const N=o.filter(V=>V.playerId===S.id),U=N.reduce((V,k)=>V+k.totalScore,0),B=N.reduce((V,k)=>Math.max(V,k.totalScore),0);return{totalGames:x.totalGames+N.length,totalScore:x.totalScore+U,highGame:Math.max(x.highGame,B)}},{totalGames:0,totalScore:0,highGame:0}),b=y.totalGames>0?y.totalScore/y.totalGames:0;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200",children:" Back"}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"Team Stats"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-8",children:[g.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Select Team"}),g.jsxs("select",{value:u,onChange:x=>h(x.target.value),className:"w-full md:w-64 px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 backdrop-blur-sm",children:[g.jsx("option",{value:"",className:"bg-gray-800",children:"-- Select a team --"}),n.map(x=>g.jsx("option",{value:x.id,className:"bg-gray-800",children:x.name},x.id))]})]}),m?g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Team Members"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:p.length})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Total Games"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:y.totalGames})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Team Average"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:b.toFixed(1)})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl p-6 border border-white/20",children:[g.jsx("div",{className:"text-3xl mb-2",children:""}),g.jsx("h3",{className:"text-sm font-medium text-gray-300",children:"Highest Game"}),g.jsx("p",{className:"text-3xl font-bold text-white mt-2",children:y.highGame})]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20",children:[g.jsx("div",{className:"px-6 py-4 border-b border-white/20",children:g.jsx("h2",{className:"text-xl font-semibold text-white",children:"Player Statistics"})}),p.length===0?g.jsx("div",{className:"p-8 text-center text-gray-300",children:"No players on this team yet."}):g.jsx("div",{className:"overflow-x-auto",children:g.jsxs("table",{className:"min-w-full divide-y divide-white/20",children:[g.jsx("thead",{className:"bg-white/5",children:g.jsxs("tr",{children:[g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Player"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Games"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Average"}),g.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"High Game"})]})}),g.jsx("tbody",{className:"divide-y divide-white/10",children:p.map(x=>{const S=o.filter(B=>B.playerId===x.id),N=x.averageScore||0,U=S.reduce((B,V)=>Math.max(B,V.totalScore),0);return g.jsxs("tr",{className:"hover:bg-white/5 transition-colors",children:[g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:x.name}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:x.gamesPlayed||0}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:N.toFixed(1)}),g.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-300",children:U||"N/A"})]},x.id)})})]})})]})]}):g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-12 text-center",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Select a Team to View Stats"}),g.jsx("p",{className:"text-gray-300",children:"Choose a team from the dropdown above to see detailed statistics and player performance."})]})]})]})}function nM(){const{userData:i,logout:e}=Qn(),{data:n}=Oo(i?.programId),[r]=gA(),o=r.get("playerId")||"",[u,h]=L.useState(o),{data:m}=J4(u),[p,y]=L.useState(!1),[b,x]=L.useState(""),[S,N]=L.useState(""),[U,B]=L.useState(!0),[V,k]=L.useState(null),[Q,W]=L.useState(!1);L.useEffect(()=>{h(o)},[o]);const re=async A=>{if(A.preventDefault(),!(!u||!i?.uid))try{W(!0);const R=S.split(",").map(M=>M.trim()).filter(M=>M.length>0),P={coachId:i.uid,playerId:u,content:b,tags:R,isPrivate:U,updatedAt:Fn()};V?await s4(ki(Rn,"coachNotes",V),P):await tT(bd(Rn,"coachNotes"),{...P,createdAt:Fn()}),x(""),N(""),B(!0),y(!1),k(null)}catch(R){console.error("Error saving note:",R),alert("Failed to save note")}finally{W(!1)}},oe=A=>{x(A.content),N(A.tags.join(", ")),B(A.isPrivate),k(A.id),y(!0)},ue=async A=>{if(confirm("Are you sure you want to delete this note?"))try{await eT(ki(Rn,"coachNotes",A))}catch(R){console.error("Error deleting note:",R),alert("Failed to delete note")}},C=n.find(A=>A.id===u);return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200",children:" Back"}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"Coach Notes"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[g.jsx("div",{className:"lg:col-span-1",children:g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Select Player"}),g.jsx("div",{className:"space-y-2",children:n.map(A=>g.jsxs("button",{onClick:()=>{h(A.id),y(!1),k(null)},className:`w-full text-left p-3 rounded-lg transition-all ${u===A.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white/5 text-gray-200 hover:bg-white/10"}`,children:[g.jsx("div",{className:"font-medium",children:A.name}),g.jsx("div",{className:"text-sm opacity-75",children:A.email})]},A.id))})]})}),g.jsx("div",{className:"lg:col-span-2",children:C?g.jsxs(g.Fragment,{children:[g.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("h2",{className:"text-2xl font-semibold text-white",children:C.name}),g.jsxs("p",{className:"text-gray-300",children:[C.gamesPlayed||0," games  Avg:"," ",C.averageScore?.toFixed(1)||"N/A"]})]}),g.jsx("button",{onClick:()=>{y(!p),k(null),x(""),N(""),B(!0)},className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:p?"Cancel":"+ Add Note"})]})}),p&&g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:[g.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:V?"Edit Note":"Add New Note"}),g.jsxs("form",{onSubmit:re,className:"space-y-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Note Content"}),g.jsx("textarea",{required:!0,value:b,onChange:A=>x(A.target.value),rows:6,className:"w-full px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 backdrop-blur-sm",placeholder:"Enter your coaching notes here..."})]}),g.jsxs("div",{children:[g.jsx("label",{className:"block text-sm font-medium text-gray-200 mb-2",children:"Tags (comma-separated)"}),g.jsx("input",{type:"text",value:S,onChange:A=>N(A.target.value),className:"w-full px-3 py-2 border border-white/30 bg-white/5 text-white rounded-md focus:outline-none focus:ring-2 focus:ring-purple-400 backdrop-blur-sm",placeholder:"e.g., 10-pin, release, speed"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("input",{type:"checkbox",id:"isPrivate",checked:U,onChange:A=>B(A.target.checked),className:"rounded"}),g.jsx("label",{htmlFor:"isPrivate",className:"text-sm text-gray-200",children:"Private note (only visible to coaches)"})]}),g.jsx("button",{type:"submit",disabled:Q,className:"w-full px-4 py-2 bg-gradient-to-r from-green-600 to-teal-600 text-white rounded-lg hover:from-green-700 hover:to-teal-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:Q?"Saving...":V?"Update Note":"Save Note"})]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20",children:[g.jsx("div",{className:"px-6 py-4 border-b border-white/20",children:g.jsxs("h3",{className:"text-xl font-semibold text-white",children:["All Notes (",m.length,")"]})}),g.jsx("div",{className:"p-6 space-y-4",children:m.length===0?g.jsx("div",{className:"text-center text-gray-300 py-8",children:'No notes yet. Click "Add Note" to create one.'}):m.map(A=>g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsxs("div",{className:"flex justify-between items-start mb-3",children:[g.jsx("div",{className:"flex-1",children:g.jsx("p",{className:"text-white whitespace-pre-wrap",children:A.content})}),g.jsxs("div",{className:"flex gap-2 ml-4",children:[g.jsx("button",{onClick:()=>oe(A),className:"text-blue-300 hover:text-blue-200 text-sm",children:"Edit"}),g.jsx("button",{onClick:()=>ue(A.id),className:"text-red-300 hover:text-red-200 text-sm",children:"Delete"})]})]}),A.tags.length>0&&g.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.tags.map(R=>g.jsx("span",{className:"px-2 py-1 bg-purple-500/30 text-purple-200 rounded text-xs",children:R},R))}),g.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[A.isPrivate&&g.jsx("span",{children:" Private"}),g.jsx("span",{children:A.createdAt instanceof Date?A.createdAt.toLocaleDateString():"Recently added"})]})]},A.id))})]})]}):g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-12 text-center",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Select a Player"}),g.jsx("p",{className:"text-gray-300",children:"Choose a player from the list to view and manage their notes."})]})})]})})]})}function iM(i,e){const n=i.length;if(n===0)return{playerId:"",totalGames:0,averageScore:0,highGame:0,strikePercentage:0,sparePercentage:0,singlePinSparePercentage:0,multiPinSparePercentage:0,splitLeavesPercentage:0,splitConversionPercentage:0,openFramesPercentage:0,gutterCount:0,foulCount:0,firstBallAverage:0,pocketHitPercentage:0,carryRate:0,doublePercentage:0,triplePercentage:0,commonLeaves:[]};const o=i.reduce((O,J)=>O+J.totalScore,0)/n,u=Math.max(...i.map(O=>O.totalScore));let h=0,m=0,p=0,y=0,b=0,x=0,S=0,N=0,U=0,B=0,V=0,k=0,Q=0;const W=new Map,re=e.filter(O=>O.frameNumber<=9),oe=re.length;for(const O of re){if(O.isStrike)h++;else if(O.isSpare){m++;const he=O.leaveAfterBall1;he&&(he.count===1?p++:y++,he.isSplit&&x++)}else S++;const J=O.balls[0];if(J&&(B+=J.pinsKnockedDown,V++,J.isGutter&&N++,J.isFoul&&U++,Q4(J.pinsetBefore,J.pinsetAfter)&&(k++,O.isStrike&&Q++),!O.isStrike&&O.leaveAfterBall1)){const he=O.leaveAfterBall1,be=he.pins.join("-"),Se=W.get(be)||{count:0,conversions:0};W.set(be,{count:Se.count+1,conversions:Se.conversions+(he.isConverted?1:0)}),he.isSplit&&b++}const le=O.balls[1];le&&(le.isGutter&&N++,le.isFoul&&U++)}const ue=oe>0?h/oe*100:0,C=oe>0?m/oe*100:0,A=m>0?p/m*100:0,R=m>0?y/m*100:0,P=oe>0?b/oe*100:0,M=b>0?x/b*100:0,F=oe>0?S/oe*100:0,I=V>0?B/V:0,pe=V>0?k/V*100:0,we=k>0?Q/k*100:0;let Y=0,se=0;for(let O=0;O<re.length-1;O++)re[O].isStrike&&re[O+1].isStrike&&(Y++,O<re.length-2&&re[O+2].isStrike&&se++);const ce=oe>0?Y/oe*100:0,De=oe>0?se/oe*100:0,Oe=Array.from(W.entries()).map(([O,J])=>({pinset:O.split("-").map(Number),count:J.count,conversionRate:J.count>0?J.conversions/J.count*100:0})).sort((O,J)=>J.count-O.count).slice(0,10);return{playerId:i[0]?.playerId||"",totalGames:n,averageScore:Math.round(o*10)/10,highGame:u,strikePercentage:Math.round(ue*10)/10,sparePercentage:Math.round(C*10)/10,singlePinSparePercentage:Math.round(A*10)/10,multiPinSparePercentage:Math.round(R*10)/10,splitLeavesPercentage:Math.round(P*10)/10,splitConversionPercentage:Math.round(M*10)/10,openFramesPercentage:Math.round(F*10)/10,gutterCount:N,foulCount:U,firstBallAverage:Math.round(I*10)/10,pocketHitPercentage:Math.round(pe*10)/10,carryRate:Math.round(we*10)/10,doublePercentage:Math.round(ce*10)/10,triplePercentage:Math.round(De*10)/10,commonLeaves:Oe}}function sM(){const{userData:i,logout:e}=Qn(),{data:n,loading:r}=hT(),[o,u]=L.useState([]),[h,m]=L.useState(!1),p=L.useMemo(()=>i?.uid?n.filter(x=>x.playerId===i.uid):[],[n,i?.uid]);L.useMemo(async()=>{if(p.length===0){u([]);return}m(!0);try{const x=p.map(B=>B.id),S=Ww(bd(Rn,"frames"),Rd("gameId","in",x.slice(0,10))),U=(await i4(S)).docs.map(B=>({id:B.id,...B.data()}));u(U)}catch(x){console.error("Error loading frames:",x)}finally{m(!1)}},[p]);const y=L.useMemo(()=>i?.uid?iM(p,o):null,[p,o,i?.uid]),b=r||h;return g.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900",children:[g.jsx("header",{className:"bg-white/10 backdrop-blur-lg shadow-xl border-b border-white/20",children:g.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200",children:" Back"}),g.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Stats"})]}),g.jsxs("div",{className:"flex items-center gap-4",children:[g.jsxs("span",{className:"text-sm text-gray-200",children:[i?.displayName," (",i?.role,")"]}),g.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-white hover:text-gray-200 bg-white/10 hover:bg-white/20 rounded-lg transition-all backdrop-blur-sm",children:"Logout"})]})]})}),g.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b&&g.jsx("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-12 text-center",children:g.jsx("div",{className:"text-white text-lg",children:"Loading your statistics..."})}),!b&&p.length===0&&g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-12 text-center",children:[g.jsx("div",{className:"text-5xl mb-4",children:""}),g.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"No Games Played Yet"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Start bowling to see your statistics and track your progress!"}),g.jsx(Qe,{to:"/league",className:"inline-block px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:"Start a Game"})]}),!b&&y&&p.length>0&&g.jsx("div",{className:"space-y-6",children:g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:i?.displayName}),g.jsxs("p",{className:"text-gray-300",children:[y.totalGames," games played"]})]}),g.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mb-6",children:[g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Average"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:y.averageScore.toFixed(1)})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"High Game"}),g.jsx("div",{className:"text-2xl font-bold text-white",children:y.highGame})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Strike %"}),g.jsxs("div",{className:"text-2xl font-bold text-white",children:[y.strikePercentage.toFixed(1),"%"]})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Spare %"}),g.jsxs("div",{className:"text-2xl font-bold text-white",children:[y.sparePercentage.toFixed(1),"%"]})]})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10 mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Performance Metrics"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"First Ball Average"}),g.jsx("div",{className:"text-xl font-semibold text-white",children:y.firstBallAverage.toFixed(1)})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Pocket Hit %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.pocketHitPercentage.toFixed(1),"%"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Carry Rate"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.carryRate.toFixed(1),"%"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Open Frames %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.openFramesPercentage.toFixed(1),"%"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Double %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.doublePercentage.toFixed(1),"%"]})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Triple %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.triplePercentage.toFixed(1),"%"]})]})]})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10 mb-6",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Spare Analysis"}),g.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Single Pin Spare %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.singlePinSparePercentage.toFixed(1),"%"]}),g.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Of all spares made"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Multi Pin Spare %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.multiPinSparePercentage.toFixed(1),"%"]}),g.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Of all spares made"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Split Leaves %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.splitLeavesPercentage.toFixed(1),"%"]}),g.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Of all frames"})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Split Conversion %"}),g.jsxs("div",{className:"text-xl font-semibold text-white",children:[y.splitConversionPercentage.toFixed(1),"%"]}),g.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Splits converted to spares"})]})]})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Errors & Fouls"}),g.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Total Gutters"}),g.jsx("div",{className:"text-xl font-semibold text-red-300",children:y.gutterCount})]}),g.jsxs("div",{children:[g.jsx("div",{className:"text-sm text-gray-300",children:"Total Fouls"}),g.jsx("div",{className:"text-xl font-semibold text-orange-300",children:y.foulCount})]})]})]})]})})]})]})}const mh=[{id:"10-pin",name:"10 Pin",pins:[10],difficulty:"easy"},{id:"7-pin",name:"7 Pin",pins:[7],difficulty:"easy"},{id:"4-pin",name:"4 Pin",pins:[4],difficulty:"easy"},{id:"6-pin",name:"6 Pin",pins:[6],difficulty:"easy"},{id:"3-6-10",name:"3-6-10 Washout",pins:[3,6,10],difficulty:"medium"},{id:"2-7",name:"2-7 Bucket",pins:[2,7],difficulty:"medium"},{id:"3-10",name:"3-10 Split",pins:[3,10],difficulty:"hard"},{id:"7-10",name:"7-10 Split",pins:[7,10],difficulty:"hard"},{id:"4-6-7-10",name:"Big Four",pins:[4,6,7,10],difficulty:"hard"}];function rM(){const[i,e]=L.useState(mh[0]),[n,r]=L.useState(0),[o,u]=L.useState(0),[h,m]=L.useState(mh[0].pins),[p,y]=L.useState(!1),[b,x]=L.useState(null),S=k=>{m(Q=>Q.includes(k)?Q.filter(W=>W!==k):[...Q,k])},N=()=>{const k=i.pins.every(Q=>!h.includes(Q));r(n+1),k?(u(o+1),x("success")):x("miss"),y(!0),setTimeout(()=>{m(i.pins),y(!1),x(null)},2e3)},U=()=>{r(0),u(0),m(i.pins),y(!1),x(null)},B=k=>{const Q=mh.find(W=>W.id===k);Q&&(e(Q),m(Q.pins),U())},V=n>0?(o/n*100).toFixed(1):"0.0";return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back to Dashboard"}),g.jsx("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:"Practice - Spares Only"}),g.jsx("div",{className:"w-32"})]}),g.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Select Spare Drill"}),g.jsx("div",{className:"space-y-2",children:mh.map(k=>g.jsxs("button",{onClick:()=>B(k.id),className:`w-full text-left p-3 rounded-lg transition-all ${i.id===k.id?"bg-gradient-to-r from-purple-600 to-blue-600 text-white":"bg-white/5 text-gray-200 hover:bg-white/10"}`,children:[g.jsx("div",{className:"font-medium",children:k.name}),g.jsx("div",{className:"text-sm opacity-75 capitalize",children:k.difficulty})]},k.id))})]}),g.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[g.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-4 text-center",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Attempts"}),g.jsx("div",{className:"text-3xl font-bold text-white",children:n})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-4 text-center",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Conversions"}),g.jsx("div",{className:"text-3xl font-bold text-green-300",children:o})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-4 text-center",children:[g.jsx("div",{className:"text-sm text-gray-300 mb-1",children:"Rate"}),g.jsxs("div",{className:"text-3xl font-bold text-blue-300",children:[V,"%"]})]})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6",children:[g.jsxs("div",{className:"mb-4",children:[g.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:i.name}),g.jsxs("p",{className:"text-gray-300 capitalize",children:["Difficulty: ",i.difficulty]})]}),p&&g.jsx("div",{className:`mb-4 p-4 rounded-lg text-center text-xl font-bold ${b==="success"?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"}`,children:b==="success"?" Converted!":" Missed"}),g.jsx("div",{className:"flex justify-center mb-6",children:g.jsx(oT,{pinsStanding:h,onPinTap:S})}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:N,disabled:p,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Submit Attempt"}),g.jsx("button",{onClick:U,className:"px-6 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all border border-white/20",children:"Reset Stats"})]}),g.jsx("div",{className:"mt-4 text-center text-sm text-gray-300",children:"Click the pins to mark them as knocked down, then submit your attempt."})]})]})]})]})})}function aM(){const{userData:i}=Qn(),[e,n]=L.useState(!1),[r,o]=L.useState(0),u=(m,p)=>{console.log("Practice game complete!",{frames:m,score:p}),o(p),n(!0)},h=()=>{n(!1),o(0)};return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back to Dashboard"}),g.jsx("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:"Practice - Full Game"}),g.jsx("div",{className:"w-32"})," "]}),e?g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-green-300 mb-4",children:"Practice Complete!"}),g.jsx("p",{className:"text-6xl font-bold text-white mb-8",children:r}),g.jsxs("div",{className:"flex gap-4 justify-center",children:[g.jsx("button",{onClick:h,className:"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"Practice Again"}),g.jsx(Qe,{to:"/stats",className:"px-6 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all border border-white/20",children:"View Stats"})]})]}):g.jsx(Cd,{gameId:`practice-full-${Date.now()}`,playerId:i?.uid||"guest",mode:"practice-full",onGameComplete:u})]})})}function oM(){const{userData:i}=Qn(),{data:e}=Dd(i?.programId),{data:n}=Oo(i?.programId),[r,o]=L.useState(""),[u,h]=L.useState(null),[m,p]=L.useState([]),[y,b]=L.useState(0),[x,S]=L.useState({}),[N,U]=L.useState(!1),[B,V]=L.useState(!1);L.useEffect(()=>{if(r){const ue=e.find(C=>C.id===r);if(ue){h(ue);const C=n.filter(A=>ue.playerIds.includes(A.id));p(C)}}},[r,e,n]);const k=(ue,C)=>{const A=m[y];S(R=>({...R,[A.id]:C})),y<m.length-1?(b(y+1),V(!1)):U(!0)},Q=()=>{V(!0)},W=()=>{b(0),S({}),U(!1),V(!1)},re=Object.values(x).reduce((ue,C)=>ue+C,0);if(!r)return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back to Dashboard"}),g.jsx("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:"Traditional Match"}),g.jsx("div",{className:"w-32"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Select Team"}),e.length===0?g.jsxs("div",{className:"text-center text-gray-300 py-8",children:[g.jsx("p",{className:"mb-4",children:"No teams available."}),g.jsx("p",{className:"text-sm",children:"Ask your coach to create a team or create one yourself if you're a coach."})]}):g.jsx("div",{className:"space-y-3",children:e.map(ue=>g.jsx("button",{onClick:()=>o(ue.id),className:"w-full text-left p-4 bg-white/5 hover:bg-white/10 rounded-lg transition-all border border-white/10",children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-semibold text-white",children:ue.name}),g.jsxs("div",{className:"text-sm text-gray-300",children:[ue.playerIds.length," player",ue.playerIds.length!==1?"s":""]})]}),g.jsx("div",{className:"text-purple-300",children:"Select "})]})},ue.id))})]})]})});if(N)return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Match Complete!"}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:u?.name}),g.jsx("div",{className:"text-5xl font-bold text-white mt-4",children:re}),g.jsx("div",{className:"text-gray-300 mt-2",children:"Total Team Score"})]}),g.jsx("div",{className:"space-y-3 mb-8",children:m.map(ue=>g.jsxs("div",{className:"flex justify-between items-center bg-white/5 rounded-lg p-4 border border-white/10",children:[g.jsx("span",{className:"text-white font-medium",children:ue.name}),g.jsx("span",{className:"text-2xl font-bold text-white",children:x[ue.id]||0})]},ue.id))}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:W,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"New Match"}),g.jsx(Qe,{to:"/dashboard",className:"flex-1 px-6 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all border border-white/20 text-center",children:"Back to Dashboard"})]})]})]})});const oe=m[y];return g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back"}),g.jsxs("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:["Traditional Match - ",u?.name]}),g.jsx("div",{className:"w-32"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Progress"}),g.jsx("div",{className:"grid grid-cols-5 gap-4",children:m.map((ue,C)=>g.jsxs("div",{className:`p-3 rounded-lg text-center ${C===y?"bg-gradient-to-r from-purple-600 to-blue-600":C<y?"bg-green-600/30":"bg-white/5"}`,children:[g.jsx("div",{className:"text-sm text-white mb-1",children:ue.name}),g.jsx("div",{className:"text-2xl font-bold text-white",children:x[ue.id]||"-"})]},ue.id))}),g.jsxs("div",{className:"mt-4 text-center text-white",children:["Total Score: ",re]})]}),B?g.jsx(Cd,{gameId:`traditional-${r}-${oe.id}-${Date.now()}`,playerId:oe.id,mode:"match-traditional",onGameComplete:k}):g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8 text-center",children:[g.jsxs("h2",{className:"text-3xl font-bold text-white mb-4",children:[oe.name,"'s Turn"]}),g.jsxs("p",{className:"text-gray-300 mb-6",children:["Player ",y+1," of ",m.length]}),g.jsx("button",{onClick:Q,className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:"Start Game"})]})]})})}function lM(){const{userData:i}=Qn(),{data:e}=Dd(i?.programId),{data:n}=Oo(i?.programId),[r,o]=L.useState(""),[u,h]=L.useState(null),[m,p]=L.useState([]),[y,b]=L.useState(!1),[x,S]=L.useState(0),[N,U]=L.useState(!1);L.useEffect(()=>{if(r){const W=e.find(re=>re.id===r);if(W){h(W);const re=n.filter(oe=>W.playerIds.includes(oe.id));p(re.slice(0,5))}}},[r,e,n]);const B=(W,re)=>{S(re),U(!0)},V=()=>{b(!1),S(0),U(!1)},Q=(()=>{const W=[];for(let re=1;re<=10;re++){const oe=(re-1)%5;m[oe]&&W.push({frame:re,player:m[oe]})}return W})();return r?N?g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsx("h1",{className:"text-4xl font-bold text-white text-center mb-8",children:"Baker Match Complete!"}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:u?.name}),g.jsx("div",{className:"text-6xl font-bold text-white mt-4",children:x}),g.jsx("div",{className:"text-gray-300 mt-2",children:"Team Score"})]}),g.jsxs("div",{className:"bg-white/5 rounded-lg p-6 border border-white/10 mb-8",children:[g.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Baker Rotation"}),g.jsx("div",{className:"grid grid-cols-2 gap-3",children:Q.map(W=>g.jsxs("div",{className:"flex justify-between items-center text-gray-200 text-sm",children:[g.jsxs("span",{children:["Frame ",W.frame,":"]}),g.jsx("span",{className:"font-medium",children:W.player.name})]},W.frame))})]}),g.jsxs("div",{className:"flex gap-4",children:[g.jsx("button",{onClick:V,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold hover:from-purple-700 hover:to-blue-700 transition-all",children:"New Baker Match"}),g.jsx(Qe,{to:"/dashboard",className:"flex-1 px-6 py-3 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition-all border border-white/20 text-center",children:"Back to Dashboard"})]})]})]})}):g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-6xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back"}),g.jsxs("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:["Baker Match - ",u?.name]}),g.jsx("div",{className:"w-32"})]}),y?g.jsx(Cd,{gameId:`baker-${r}-${Date.now()}`,playerId:u?.id||"",mode:"match-baker",onGameComplete:B}):g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-6 mb-6",children:[g.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Baker Format - Rotation"}),g.jsx("p",{className:"text-gray-300 mb-4",children:"In Baker format, players alternate frames. Each player bowls 2 frames."}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-3",children:Q.map(W=>g.jsxs("div",{className:"bg-white/5 rounded-lg p-3 border border-white/10 text-center",children:[g.jsxs("div",{className:"text-sm text-gray-300",children:["Frame ",W.frame]}),g.jsx("div",{className:"text-white font-medium mt-1",children:W.player.name})]},W.frame))})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8 text-center",children:[g.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Ready to Start?"}),g.jsx("p",{className:"text-gray-300 mb-6",children:"Your team will bowl together, alternating frames"}),g.jsx("button",{onClick:()=>b(!0),className:"px-8 py-4 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-semibold text-lg hover:from-purple-700 hover:to-blue-700 transition-all",children:"Start Baker Match"})]})]})]})}):g.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-4",children:g.jsxs("div",{className:"max-w-4xl mx-auto",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsx(Qe,{to:"/dashboard",className:"text-white hover:text-gray-200 transition-colors",children:" Back to Dashboard"}),g.jsx("h1",{className:"text-4xl font-bold text-white text-center flex-1",children:"Baker Match"}),g.jsx("div",{className:"w-32"})]}),g.jsxs("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl shadow-xl border border-white/20 p-8",children:[g.jsx("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Select Team"}),e.length===0?g.jsxs("div",{className:"text-center text-gray-300 py-8",children:[g.jsx("p",{className:"mb-4",children:"No teams available."}),g.jsx("p",{className:"text-sm",children:"Ask your coach to create a team or create one yourself if you're a coach."})]}):g.jsx("div",{className:"space-y-3",children:e.map(W=>{const re=n.filter(ue=>W.playerIds.includes(ue.id)).length,oe=re>=5;return g.jsx("button",{onClick:()=>oe&&o(W.id),disabled:!oe,className:`w-full text-left p-4 rounded-lg transition-all border border-white/10 ${oe?"bg-white/5 hover:bg-white/10 cursor-pointer":"bg-white/5 opacity-50 cursor-not-allowed"}`,children:g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsxs("div",{children:[g.jsx("div",{className:"text-lg font-semibold text-white",children:W.name}),g.jsxs("div",{className:`text-sm ${oe?"text-gray-300":"text-red-300"}`,children:[re," player",re!==1?"s":"",!oe&&" (need 5 for Baker)"]})]}),oe&&g.jsx("div",{className:"text-purple-300",children:"Select "})]})},W.id)})})]})]})})}const uM=new QA;function cM(){return g.jsx($A,{client:uM,children:g.jsx(hA,{children:g.jsx(L4,{children:g.jsxs(B1,{children:[g.jsx(rn,{path:"/login",element:g.jsx(U4,{})}),g.jsx(rn,{path:"/signup",element:g.jsx(B4,{})}),g.jsx(rn,{path:"/dashboard",element:g.jsx(ai,{children:g.jsx(F4,{})})}),g.jsx(rn,{path:"/league",element:g.jsx(ai,{children:g.jsx(W4,{})})}),g.jsx(rn,{path:"/practice/spares",element:g.jsx(ai,{children:g.jsx(rM,{})})}),g.jsx(rn,{path:"/practice/full",element:g.jsx(ai,{children:g.jsx(aM,{})})}),g.jsx(rn,{path:"/match/traditional",element:g.jsx(ai,{children:g.jsx(oM,{})})}),g.jsx(rn,{path:"/match/baker",element:g.jsx(ai,{children:g.jsx(lM,{})})}),g.jsx(rn,{path:"/stats",element:g.jsx(ai,{children:g.jsx(sM,{})})}),g.jsx(rn,{path:"/coach/admin",element:g.jsx(ai,{allowedRoles:["coach"],children:g.jsx(Z4,{})})}),g.jsx(rn,{path:"/coach/roster",element:g.jsx(ai,{allowedRoles:["coach"],children:g.jsx(eM,{})})}),g.jsx(rn,{path:"/coach/notes",element:g.jsx(ai,{allowedRoles:["coach"],children:g.jsx(nM,{})})}),g.jsx(rn,{path:"/coach/team-stats",element:g.jsx(ai,{allowedRoles:["coach"],children:g.jsx(tM,{})})}),g.jsx(rn,{path:"/",element:g.jsx(Zm,{to:"/dashboard",replace:!0})})]})})})})}WS.createRoot(document.getElementById("root")).render(g.jsx(L.StrictMode,{children:g.jsx(cM,{})}));
